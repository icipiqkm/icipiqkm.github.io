import{v as j,u as _}from"./index-Cmyw4h-l.js";const L=j("configStore",()=>{const i=new Map,l=new Map;var p="en";async function m(){const{parseUrl:n}=_(),s=n(),{game:a,language:t}=s;if(!a||!t)return;p=t;const e="/modules/slot",o=`${e}/localized/${t}`,c=`/modules/${a}`,r=`${c}/localized/${t}`,{downloadImageMap:w,downloadJsonMap:M}=f(e,o,c,r);await Promise.all([u(M,l,g=>g.json()),u(w,i,g=>g.blob().then(URL.createObjectURL))])}function u(n,s,a){return new Promise(t=>{let e=0;for(const[o,c]of n)fetch(c).then(a).then(r=>{s.set(o,r),e++,e===n.size&&t()})})}function f(n,s,a,t){const e=new Map;e.set("launch",`${a}/launch.jpg`),e.set("splash",`${t}/splash.jpg`),e.set("setting_menu",`${n}/setting_menu.png`),e.set("footer-copyright-image",`${n}/footer-copyright-image.png`),e.set("footer-text-image",`${s}/footer-text-image.png`);const o=new Map;return o.set("appearance",`${t}/appearance.json`),o.set("locale",`${t}/locale.json`),{downloadImageMap:e,downloadJsonMap:o}}function d(n){return i.get(n)}function h(n){return l.get(n)}function $(){return p}return{init:m,getImage:d,getJson:h,getLanguage:$}});export{L as useLaunchStore};
