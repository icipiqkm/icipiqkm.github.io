System.register("chunks:///_virtual/card_item.ts",["./rollupPluginModLoBabelHelpers.js","cc","./helper.ts"],(function(e){"use strict";var t,r,i,a,o,n,s,l,c;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,i=e.initializerDefineProperty,a=e.assertThisInitialized},function(e){o=e.cclegacy,n=e._decorator,s=e.Label,l=e.Component},function(e){c=e.Helper}],execute:function(){var d,h,p,u,_;o._RF.push({},"1d7bcfD/S9Eh5YpiaRITuwz","card_item",void 0);var f=n.ccclass,v=n.property;e("card_item",(d=f("card_item"),h=v(s),d((_=t((u=function(e){function t(){for(var t,r=arguments.length,o=new Array(r),n=0;n<r;n++)o[n]=arguments[n];return t=e.call.apply(e,[this].concat(o))||this,i(t,"label",_,a(t)),t._holder=void 0,t}r(t,e);var o=t.prototype;return o.show=function(e){this._holder=e,this.label.string=e.data.name,this.node.setScale(.3,.3)},o.hide=function(){},o.click=function(){this._holder.adapter.scrollManager.scrollToOptionsIndex(1,this._holder.view.index)},o.update=function(){if(this._holder&&this._holder.feature){var e=this._holder.adapter.scrollManager.content.convertToWorldSpaceAR(this.node.position),t=this._holder.adapter.scrollManager.view.convertToNodeSpaceAR(e),r=this._holder.adapter.centerManager.getContainerOffset(),i=Math.abs(t[this._holder.adapter.mainAxis])-r,a=Math.abs(i)/this._holder.adapter.mainAxisSize;a=1-a,a=c.clamp(a,.3,1);var o=this.node.getScale();o[this._holder.adapter.mainAxis]=a,o[this._holder.adapter.crossAxis]=a,this.node.setScale(o)}},t}(l)).prototype,"label",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),p=u))||p));o._RF.pop()}}}));

System.register("chunks:///_virtual/card.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Holder.ts","./ScrollAdapter.ts","./View.ts","./enum.ts","./card_item.ts"],(function(t){"use strict";var e,n,i,r,o,c,a,l,u,s,f,p,h;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,r=t.assertThisInitialized},function(t){o=t.cclegacy,c=t._decorator,a=t.Node,l=t.director},function(t){u=t.Holder},function(t){s=t.ScrollAdapter},function(t){f=t.View},function(t){p=t.ChildAlignment},function(t){h=t.card_item}],execute:function(){var d,m,y,g,b;o._RF.push({},"0735ftw3EhKNYV9hDlICemd","card",void 0);var w=c.ccclass,v=c.property,_=(t("card",(d=w("card"),m=v(a),d((b=e((g=function(t){function e(){for(var e,n=arguments.length,o=new Array(n),c=0;c<n;c++)o[c]=arguments[c];return e=t.call.apply(t,[this].concat(o))||this,i(e,"prefab",b,r(e)),e}n(e,t);var o=e.prototype;return o.getPrefab=function(t){return this.prefab},o.getHolder=function(t,e){return new A(t,e,this)},o.getView=function(){return new _(this)},o.start=function(){for(var t=0;t<100;t++)this.modelManager.insert({name:t+""})},o.home=function(){l.loadScene("home")},o.typeUpper=function(){this.layoutManager.childAlignment=p.UpperLeft},o.typeMiddle=function(){this.layoutManager.childAlignment=p.MiddleLeft},o.typeLower=function(){this.layoutManager.childAlignment=p.LowerLeft},e}(s)).prototype,"prefab",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=g))||y)),function(t){function e(){return t.apply(this,arguments)||this}n(e,t);var i=e.prototype;return i.initElement=function(t,e){},i.onVisible=function(){},i.onDisable=function(){},e}(f)),A=function(t){function e(){for(var e,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))||this)._item=null,e}n(e,t);var i=e.prototype;return i.onCreated=function(){this._item=this.node.getComponent(h)},i.onVisible=function(){this._item.show(this)},i.onDisable=function(){this._item.hide()},e}(u);o._RF.pop()}}}));

System.register("chunks:///_virtual/CenterManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Manager.ts","./enum.ts","./ScrollManager.ts","./ViewManager.ts"],(function(e){"use strict";var t,i,a,n,r,o,s,l,c,p,h,d;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,a=e.initializerDefineProperty,n=e.assertThisInitialized,r=e.createClass},function(e){o=e.cclegacy,s=e._decorator,l=e.v3},function(e){c=e.Manager},function(e){p=e.AlwaysScroll},function(e){h=e.ScrollManager},function(e){d=e.ViewManager}],execute:function(){var u,g,v,f,w,_,M,m,A,x,z;o._RF.push({},"49cfdCskIREZ6//by123w4v","CenterManager",void 0);var b=s.ccclass,S=s.property;e("CenterManager",(u=b("CenterManager"),g=S("boolean"),v=S({visible:function(){return this.enabled}}),f=S({range:[0,1],slide:!0,step:.1}),w=S({range:[0,1],slide:!0,step:.1}),u((m=t((M=function(e){function t(){for(var t,i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return t=e.call.apply(e,[this].concat(r))||this,a(t,"_enabled",m,n(t)),a(t,"duration",A,n(t)),a(t,"containerAnchorPoint",x,n(t)),a(t,"elementAnchorPoint",z,n(t)),t}i(t,e);var o=t.prototype;return o.getContainerOffset=function(e){void 0===e&&(e=this.containerAnchorPoint);var t=0;return t=this.adapter.isHorizontal?-1==this.adapter.multiplier?e:1-e:1==this.adapter.multiplier?e:1-e,this.adapter.mainAxisSize*t},o.getElementOffset=function(e){void 0===e&&(e=this.elementAnchorPoint);return this.adapter.isHorizontal?-1==this.adapter.multiplier?e:1-e:1==this.adapter.multiplier?e:1-e},o.onInit=function(){this.adapter.scrollManager.on(h.Event.ON_ABOUT_TO_STOP,this._onAboutToStop,this),this.adapter.viewManager.on(d.Event.ON_UPDATE_VIEWS,this.scrollToCenter,this,!0)},o._onAboutToStop=function(){this.scrollToCenter()},o.scrollToCenter=function(e){if(void 0===e&&(e=this.duration),this.enabled){var t=this.getCenterVisibleIndex();if(-1!=t){var i=this.adapter.viewManager.getVisibleView(t);this.adapter.scrollManager.scrollToOptionsIndex(e,i.index)}}},o.getCenterVisibleIndex=function(e,t){void 0===e&&(e=this.containerAnchorPoint),void 0===t&&(t=this.elementAnchorPoint);for(var i=this.adapter.mainAxis,a=this.getContainerOffset(e),n=-1,r=Number.MAX_SAFE_INTEGER,o=0;o<this.adapter.viewManager.visibleLength;o++){var s=this.adapter.viewManager.getVisibleView(o);if(!s||!s.options)break;var c={x:s.options.position.x,y:s.options.position.y};c[i]-=this.adapter.multiplier*s.options.size[i]*t;var p=this.adapter.scrollManager.content.convertToWorldSpaceAR(l(c.x,c.y)),h=this.adapter.scrollManager.view.convertToNodeSpaceAR(p),d=Math.abs(h[i]+this.adapter.multiplier*a);d<r&&(r=d,n=o)}return n},o.getPositionByOptionsIndex=function(e,t,i){void 0===t&&(t=p.Auto),void 0===i&&(i=!1);var a=this.adapter.viewManager.getViewOptions(e);if(!a)return null;var n=null;if(t==p.Header&&this.adapter.viewManager.loopHeader)i&&(n=this._checkExists(e)),null==n&&(n=this._alwaysHeader(e,a));else if(t==p.Footer&&this.adapter.viewManager.loopFooter)i&&(n=this._checkExists(e)),null==n&&(n=this._alwaysFooter(e,a));else if(null==(n=this._checkExists(e))){var r=this.adapter.viewManager.header,o=this.adapter.viewManager.footer;r?e>o.index?n=this._calcTargetFooter(o.options,o.index+1,e,a):e<r.index&&(n=this._calcTargetHeader(r.options,r.index-1,e,a)):n={position:a.position[this.adapter.mainAxis],size:a.size[this.adapter.mainAxis],anchor:a.anchorPoint[this.adapter.mainAxis]}}return this._convertTargetToPosition(n)},o._convertTargetToPosition=function(e){var t=null;if(e){var i=this.adapter.multiplier,a=-1==i?e.anchor:1-e.anchor;t=-e.position,t-=this.getContainerOffset()*i,t-=e.size*a*i,t+=e.size*this.getElementOffset()*i}return t},o._checkExists=function(e){var t=this.adapter.viewManager.getVisibleIndexByOptionsIndex(e);if(-1!=t){var i=this.adapter.viewManager.getVisibleView(t);return{position:i.options.position[this.adapter.mainAxis],size:i.options.size[this.adapter.mainAxis],anchor:i.options.anchorPoint[this.adapter.mainAxis]}}return null},o._calcTargetFooter=function(e,t,i,a){for(var n=this.adapter.viewManager.internal_getInitFooterSize(e),r=t;r<=i;r++)n+=this.adapter.viewManager.internal_accumulationSize(r);return{position:this.adapter.viewManager.internal_convertSizeToFooterPosition(n,a),size:a.size[this.adapter.mainAxis],anchor:a.anchorPoint[this.adapter.mainAxis]}},o._calcTargetHeader=function(e,t,i,a){for(var n=this.adapter.viewManager.internal_getInitHeaderSize(e),r=t;r>=i;r--)n+=this.adapter.viewManager.internal_accumulationSize(r);return{position:this.adapter.viewManager.internal_convertSizeToHeaderPosition(n,a),size:a.size[this.adapter.mainAxis],anchor:a.anchorPoint[this.adapter.mainAxis]}},o._alwaysHeader=function(e,t){var i=0,a=e,n=this.adapter.viewManager.header;return n&&(i=this.adapter.viewManager.internal_getInitHeaderSize(n.options),a=n.index),e!=a&&(i=this._calcSizeToHeader(a,e,i)),{position:this.adapter.viewManager.internal_convertSizeToHeaderPosition(i,t),size:t.size[this.adapter.mainAxis],anchor:t.anchorPoint[this.adapter.mainAxis]}},o._alwaysFooter=function(e,t){var i=0,a=e,n=this.adapter.viewManager.footer;return n&&(i=this.adapter.viewManager.internal_getInitFooterSize(n.options),a=n.index),e!=a&&(i=this._calcSizeToFooter(a,e,i)),{position:this.adapter.viewManager.internal_convertSizeToFooterPosition(i,t),size:t.size[this.adapter.mainAxis],anchor:t.anchorPoint[this.adapter.mainAxis]}},o._calcSizeToHeader=function(e,t,i){for(;;){if(--e<0){if(!this.adapter.viewManager.loopHeader)return i;e=this.adapter.viewManager.viewOptionsLength-1}if(i+=this.adapter.viewManager.internal_accumulationSize(e),t==e)return i}},o._calcSizeToFooter=function(e,t,i){for(;;){if(++e>=this.adapter.viewManager.viewOptionsLength){if(!this.adapter.viewManager.loopFooter)return i;e=0}if(i+=this.adapter.viewManager.internal_accumulationSize(e),e==t)return i}},r(t,[{key:"enabled",get:function(){return this._enabled},set:function(e){e!=this._enabled&&(this._enabled=e)}},{key:"max",get:function(){var e=this.getContainerOffset(this.containerAnchorPoint);return this.adapter.isArrangeAxisStart?e:this.adapter.mainAxisSize-e}},{key:"min",get:function(){var e=this.getContainerOffset(this.containerAnchorPoint);return this.adapter.isArrangeAxisStart?this.adapter.mainAxisSize-e:e}}]),t}(c)).prototype,"_enabled",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),t(M.prototype,"enabled",[g],Object.getOwnPropertyDescriptor(M.prototype,"enabled"),M.prototype),A=t(M.prototype,"duration",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),x=t(M.prototype,"containerAnchorPoint",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),z=t(M.prototype,"elementAnchorPoint",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),_=M))||_));o._RF.pop()}}}));

System.register("chunks:///_virtual/chat_Item.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var t,s,a,i,n,r,o,l,h,g,c;return{setters:[function(e){t=e.applyDecoratedDescriptor,s=e.inheritsLoose,a=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){n=e.cclegacy,r=e._decorator,o=e.Label,l=e.UITransform,h=e.Node,g=e.Widget,c=e.Component}],execute:function(){var u,m,d,f,b,p,_,L,v;n._RF.push({},"19731fEa31BrqGOk4ZQktW1","chat_Item",void 0);var w=r.ccclass,y=r.property;e("chatItem",(u=w("chatItem"),m=y(o),d=y(o),f=y(l),u((_=t((p=function(e){function t(){for(var t,s=arguments.length,n=new Array(s),r=0;r<s;r++)n[r]=arguments[r];return t=e.call.apply(e,[this].concat(n))||this,a(t,"nameLabel",_,i(t)),a(t,"messageLabel",L,i(t)),a(t,"messageBg",v,i(t)),t._holder=null,t._messageLabelTr=void 0,t}s(t,e);var n=t.prototype;return n.onLoad=function(){this._messageLabelTr=this.messageLabel.getComponent(l)},n.onEnable=function(){this.messageLabel.node.on(h.EventType.SIZE_CHANGED,this.onMessageSizeChanged,this)},n.onDisable=function(){this.messageLabel.node.off(h.EventType.SIZE_CHANGED,this.onMessageSizeChanged,this)},n.show=function(e){this._holder=e,this.nameLabel.string=this._holder.data.name+"",this.showMessage()},n.hide=function(){this._messageLabelTr.width=0,this.messageBg.width=0},n.showMessage=function(){this.messageLabel.overflow=o.Overflow.NONE,this.messageLabel.string=this._holder.data.message},n.onMessageSizeChanged=function(){var e=this;if(this._holder&&this.node.active){var t=this._holder.adapter.crossAxisSize-200;if(this._messageLabelTr.width>t)return this.messageLabel.overflow=o.Overflow.RESIZE_HEIGHT,void(this._messageLabelTr.width=t);this.scheduleOnce((function(){e.messageBg.setContentSize(e._messageLabelTr.width+40,e._messageLabelTr.height+30),e._holder.transform.height=Math.max(e.messageBg.height,100),e.messageBg.getComponent(g).updateAlignment()}))}},t}(c)).prototype,"nameLabel",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=t(p.prototype,"messageLabel",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=t(p.prototype,"messageBg",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=p))||b));n._RF.pop()}}}));

System.register("chunks:///_virtual/chat.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Holder.ts","./ScrollAdapter.ts","./View.ts","./enum.ts","./ReleaseManager.ts","./ViewManager.ts","./chat_Item.ts"],(function(e){"use strict";var t,n,i,r,o,s,a,l,h,u,c,g,w,f,p,d,M,_,y,b,m,T,v,P;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,r=e.assertThisInitialized,o=e.asyncToGenerator,s=e.regeneratorRuntime},function(e){a=e.cclegacy,l=e._decorator,h=e.Node,u=e.UITransform,c=e.Sprite,g=e.EditBox,w=e.Label,f=e.Tween,p=e.v3,d=e.director,M=e.Color},function(e){_=e.Holder},function(e){y=e.ScrollAdapter},function(e){b=e.View},function(e){m=e.ReleaseState},function(e){T=e.ReleaseManager},function(e){v=e.ViewManager},function(e){P=e.chatItem}],execute:function(){var S,H,N,x,z,I,B,L,A,D,E,O,R,V,C,k,F;a._RF.push({},"26318xrl1JNC6F+BNJU9HS2","chat",void 0);var U=l.ccclass,G=l.property,J=(e("chat",(S=U("chat"),H=G(h),N=G(h),x=G(u),z=G(c),I=G(g),B=G(h),L=G(w),S((E=t((D=function(e){function t(){for(var t,n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return t=e.call.apply(e,[this].concat(o))||this,i(t,"myPrefab",E,r(t)),i(t,"youPrefab",O,r(t)),i(t,"header",R,r(t)),i(t,"loading",V,r(t)),i(t,"input",C,r(t)),i(t,"newMsgButton",k,r(t)),i(t,"newMsgLabel",F,r(t)),t._headerTween=void 0,t._loadTween=void 0,t._newMsgShowTween=void 0,t._newMsgHideTween=void 0,t._isHeaderPlay=!1,t._newMsgTotal=0,t._isShowNewMsg=void 0,t}n(t,e);var a=t.prototype;return a.getPrefab=function(e){return 0==e.type?this.myPrefab:this.youPrefab},a.getHolder=function(e,t){return new W(e,t,this)},a.getView=function(){return new J(this)},a.start=function(){this.releaseManager.on(T.Event.ON_PULL_DOWN,this.onPullDown,this),this._headerTween=new f(this.header).to(.518,{height:this.releaseManager.top*this.mainAxisSize},{easing:"elasticOut"}),this._loadTween=new f(this.loading.node).by(1,{angle:-360}).union().repeatForever(),this._newMsgShowTween=new f(this.newMsgButton).to(.218,{position:p(this.newMsgButton.position.x,60)},{easing:"smooth"}),this._newMsgHideTween=new f(this.newMsgButton).to(.218,{position:p(this.newMsgButton.position.x,-100)},{easing:"smooth"}),this.viewManager.on(v.Event.ON_MAGNETIC,this._onMagnetic,this)},a._onMagnetic=function(e){e?this._newMsgTotal=0:(this.newMsgLabel.string=""+this._newMsgTotal,!this._isShowNewMsg&&this._newMsgTotal>0&&(this._isShowNewMsg=!0,this._newMsgShowTween.start()))},a.onSend=function(){if(0!=this.input.string.length){var e={name:"我",message:this.input.string,type:0};this._newMsgTotal++,this.modelManager.insert(e,0),this.unschedule(this.reply),this.scheduleOnce(this.reply,1)}},a.reply=function(){var e={name:"小娜",message:this.input.string,type:1};this._newMsgTotal++,this.modelManager.insert(e,0)},a.onPullDown=function(){var e=o(s().mark((function e(t){var n,i,r,o;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.state!=m.RELEASE){e.next=10;break}if(!this._isHeaderPlay){e.next=10;break}return this._loadTween.start(),t.wait(),e.next=6,this.loadMore();case 6:n=e.sent,this.modelManager.insert(n),this.scheduleOnce((function(){t.release()})),this._loadTween.stop();case 10:i=t.progress,t.state==m.WAIT&&(i=1.5),i>=1.5?this._isHeaderPlay||(this._headerTween.start(),this._isHeaderPlay=!0):(this._headerTween.stop(),this._isHeaderPlay=!1,this.header.height=t.offset,(r=new M).set(this.loading.color),r.a=255*Math.min(i,1),this.loading.color=r,o=70-40*i,this.loading.node.setPosition(0,Math.max(o,0))),this.loading.node.angle=-360*t.progress;case 14:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),a.loadMore=function(){var e=this;return new Promise((function(t,n){for(var i=[],r=0;r<10;r++){var o={type:r%2,name:r%2==0?"我":"机器人",message:"历史记录历史记录历史记录历史记录历史记录历史记录历史记录历史记录历史记录历史记录历史记录历史记录历史记录历史记录历史记录历史记录历史记录！"};i.push(o)}e.scheduleOnce((function(){t(i)}),1)}))},a.scrollToHeader=function(){this.scrollManager.scrollToHeader(1)},a.home=function(){d.loadScene("home")},a.update=function(){this._isShowNewMsg&&this.scrollManager.percentage<.1&&(this._isShowNewMsg=!1,this._newMsgTotal=0,this._newMsgHideTween.start())},t}(y)).prototype,"myPrefab",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=t(D.prototype,"youPrefab",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=t(D.prototype,"header",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=t(D.prototype,"loading",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=t(D.prototype,"input",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=t(D.prototype,"newMsgButton",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=t(D.prototype,"newMsgLabel",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=D))||A)),function(e){function t(){return e.apply(this,arguments)||this}n(t,e);var i=t.prototype;return i.initElement=function(e,t){},i.onVisible=function(){},i.onDisable=function(){},t}(b)),W=function(e){function t(){for(var t,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(t=e.call.apply(e,[this].concat(i))||this)._chatItem=null,t}n(t,e);var i=t.prototype;return i.onCreated=function(){this._chatItem=this.node.getComponent(P)},i.onVisible=function(){this._chatItem.show(this)},i.onDisable=function(){this._chatItem.hide()},t}(_);a._RF.pop()}}}));

System.register("chunks:///_virtual/debug.ts",["cc"],(function(_){"use strict";var e,D;return{setters:[function(_){e=_.cclegacy,D=_.Color}],execute:function(){e._RF.push({},"b7bf3JPeg5Pz4Pj5H6FXtBa","debug",void 0);_("DEBUG_DRAW_LINE_COLOR",new D(238,124,55,255)),_("DEBUG_DRAW_FILL_COLOR",new D(88,175,64,50)),_("DEBUG_DRAW_BORDER_COLOR",new D(56,120,94,255)),_("DEBUG_DRAW_LIND_WIDTH",3),_("ADAPTER_DEBUG_VIEW",!1),_("ADAPTER_DEBUG_CONTENT",!1);e._RF.pop()}}}));

System.register("chunks:///_virtual/edit_item.ts",["./rollupPluginModLoBabelHelpers.js","cc","./enum.ts","./ScrollManager.ts"],(function(e){"use strict";var t,o,i,n,r,a,s,l,h,d,u,c,p,_,f,m;return{setters:[function(e){t=e.applyDecoratedDescriptor,o=e.inheritsLoose,i=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){r=e.cclegacy,a=e._decorator,s=e.Label,l=e.Tween,h=e.v3,d=e.Sprite,u=e.Color,c=e.Node,p=e.Component},function(e){_=e.WrapMode,f=e.Layer},function(e){m=e.ADAPTER}],execute:function(){var g,y,v,w,L;r._RF.push({},"7afa7DiG+pHAIh2BaoQNrth","edit_item",void 0);var M=a.ccclass,T=a.property;e("edit_item",(g=M("edit_item"),y=T(s),g((L=t((w=function(e){function t(){for(var t,o=arguments.length,r=new Array(o),a=0;a<o;a++)r[a]=arguments[a];return t=e.call.apply(e,[this].concat(r))||this,i(t,"label",L,n(t)),t._holder=null,t._tween=void 0,t}o(t,e);var r=t.prototype;return r._onTouchMove=function(e){console.log("移动了我");var t=this.node.getPosition();t.add3f(e.getUIDelta().x,e.getUIDelta().y,0),this.node.setPosition(t)},r.show=function(e){this._holder=e,this.label.string=this._holder.data.name,this._holder.data.anim&&(this._holder.data.anim=!1,this.node.setScale(0,1,1),this._tween=new l(this.node).to(.5,{scale:h(1,1,1)},{easing:"backOut"}).start()),this.register()},r.hide=function(){this._tween&&this._tween.stop(),this.node.setScale(1,1,1),this._holder.data.anim=!1},r.updateData=function(){this._holder.data.name="已更新",this._holder.feature.update()},r.updateWrap=function(){this._holder.element.wrapBeforeMode=_.Wrap},r.ignoreLayout=function(){this._holder.element.ignoreLayout=!this._holder.element.ignoreLayout,this._holder.element.ignoreLayout?(this._holder.element.layer=f.Medium,this.node.getComponent(d).color=new u(299,77,82,128)):(this._holder.element.layer=f.Lowest,this.node.getComponent(d).color=new u(56,120,94,255)),this.register()},r.register=function(){this.node.off(c.EventType.TOUCH_MOVE,this._onTouchMove,this),this._holder.element.ignoreLayout?(this.node.on(c.EventType.TOUCH_MOVE,this._onTouchMove,this),this.node[m]=!0):this.node[m]=!1},t}(p)).prototype,"label",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=w))||v));r._RF.pop()}}}));

System.register("chunks:///_virtual/edit.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Holder.ts","./ScrollAdapter.ts","./View.ts","./enum.ts","./edit_item.ts"],(function(e){"use strict";var t,n,r,i,o,a,c,l,s,u,f,h,p;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,r=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){o=e.cclegacy,a=e._decorator,c=e.Node,l=e.director},function(e){s=e.Holder},function(e){u=e.ScrollAdapter},function(e){f=e.View},function(e){h=e.WrapMode},function(e){p=e.edit_item}],execute:function(){var d,m,g,v,y;o._RF.push({},"40a4crgojVJYY/aveXbUFBt","edit",void 0);var b=a.ccclass,M=a.property,w=(e("edit",(d=b("edit"),m=M(c),d((y=t((v=function(e){function t(){for(var t,n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return t=e.call.apply(e,[this].concat(o))||this,r(t,"prefab",y,i(t)),t}n(t,e);var o=t.prototype;return o.getPrefab=function(e){return this.prefab},o.getView=function(){return new w(this)},o.getHolder=function(e,t){return new _(e,t,this)},o.start=function(){for(var e=[],t=0;t<10;t++)e.push({name:t});this.modelManager.insert(e)},o.home=function(){l.loadScene("home")},o.scrollToHeader=function(){this.scrollManager.scrollToPercentage(1,0)},o.scrollToFooter=function(){this.scrollManager.scrollToPercentage(1,1)},o.insert=function(){this.modelManager.insert({name:this.modelManager.length,anim:!0},0)},o.remove=function(){this.modelManager.remove(0,1)},o.move=function(){this.modelManager.move(this.modelManager.length-1,1,0)},o.clear=function(){this.modelManager.clear()},t}(u)).prototype,"prefab",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=v))||g)),function(e){function t(){return e.apply(this,arguments)||this}n(t,e);var r=t.prototype;return r.initElement=function(e,t){e.wrapBeforeMode=h.Auto},r.onVisible=function(){},r.onDisable=function(){},t}(f)),_=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this)._item=null,t}n(t,e);var r=t.prototype;return r.onCreated=function(){this._item=this.node.getComponent(p)},r.onVisible=function(){this._item.show(this)},r.onDisable=function(){this._item.hide()},t}(s);o._RF.pop()}}}));

System.register("chunks:///_virtual/enum.ts",["cc"],(function(e){"use strict";var t,o;return{setters:[function(e){t=e.cclegacy,o=e.Enum}],execute:function(){var i,r,n,c,d,a,l,u,p,f,s,L,h,A,v,g;e({AlwaysScroll:void 0,ArrangeAxis:void 0,ChildAlignment:void 0,IndicatorMode:void 0,Layer:void 0,MagneticDirection:void 0,MovementType:void 0,NestedDirection:void 0,Orientation:void 0,ReleaseState:void 0,ScrollDirection:void 0,ScrollbarDirection:void 0,StretchDirection:void 0,TouchMode:void 0,Transition:void 0,WrapMode:void 0}),t._RF.push({},"21168fhfp5Aw4tN3YlGEjVv","enum",void 0),function(e){e[e.Vertical=0]="Vertical",e[e.Horizontal=1]="Horizontal"}(i||(i=e("Orientation",{}))),function(e){e[e.Unrestricted=0]="Unrestricted",e[e.Elastic=1]="Elastic",e[e.Clamped=2]="Clamped"}(r||(r=e("MovementType",{}))),function(e){e[e.Start=0]="Start",e[e.End=1]="End"}(n||(n=e("ArrangeAxis",{}))),function(e){e[e.Auto=0]="Auto",e[e.Header=1]="Header",e[e.Footer=2]="Footer",e[e.Center=3]="Center"}(c||(c=e("StretchDirection",{}))),function(e){e[e.Lowest=0]="Lowest",e[e.Medium=1]="Medium",e[e.Highest=2]="Highest"}(d||(d=e("Layer",{}))),function(e){e[e.Auto=0]="Auto",e[e.Wrap=1]="Wrap",e[e.Nowrap=2]="Nowrap"}(a||(a=e("WrapMode",{}))),function(e){e[e.Auto=0]="Auto",e[e.AlwaysAllow=1]="AlwaysAllow",e[e.Disabled=2]="Disabled"}(l||(l=e("TouchMode",{}))),function(e){e[e.Header=0]="Header",e[e.Footer=1]="Footer"}(u||(u=e("MagneticDirection",{}))),function(e){e[e.UpperLeft=0]="UpperLeft",e[e.UpperCenter=1]="UpperCenter",e[e.UpperRight=2]="UpperRight",e[e.MiddleLeft=3]="MiddleLeft",e[e.MiddleCenter=4]="MiddleCenter",e[e.MiddleRight=5]="MiddleRight",e[e.LowerLeft=6]="LowerLeft",e[e.LowerCenter=7]="LowerCenter",e[e.LowerRight=8]="LowerRight"}(p||(p=e("ChildAlignment",{}))),function(e){e[e.Up=0]="Up",e[e.Down=1]="Down",e[e.Left=2]="Left",e[e.Right=3]="Right",e[e.None=4]="None"}(f||(f=e("ScrollDirection",{}))),function(e){e[e.Top_To_Bottom=0]="Top_To_Bottom",e[e.Bottom_To_Top=1]="Bottom_To_Top",e[e.Left_To_Right=2]="Left_To_Right",e[e.Right_To_Left=3]="Right_To_Left"}(s||(s=e("ScrollbarDirection",{}))),function(e){e[e.Both=0]="Both",e[e.Header=1]="Header",e[e.Footer=2]="Footer"}(L||(L=e("NestedDirection",{}))),function(e){e[e.Auto=0]="Auto",e[e.Header=1]="Header",e[e.Footer=2]="Footer"}(h||(h=e("AlwaysScroll",{}))),function(e){e[e.Normal=0]="Normal",e[e.Button=1]="Button"}(A||(A=e("IndicatorMode",{}))),function(e){e[e.None=0]="None",e[e.ColorTint=1]="ColorTint",e[e.SpriteSwap=2]="SpriteSwap",e[e.Scale=3]="Scale"}(v||(v=e("Transition",{}))),function(e){e.IDLE="IDLE",e.PULL="PULL",e.WAIT="WAIT",e.RELEASE="RELEASE"}(g||(g=e("ReleaseState",{}))),o(i),o(r),o(n),o(c),o(u),o(s),o(p),o(l),o(A),o(v),t._RF.pop()}}}));

System.register("chunks:///_virtual/fixed_item.ts",["./rollupPluginModLoBabelHelpers.js","cc","./helper.ts"],(function(e){"use strict";var t,i,r,n,o,l,a,c;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,r=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){o=e.cclegacy,l=e._decorator,a=e.Label,c=e.Component},null],execute:function(){var s,u,p,d,f;o._RF.push({},"20addg1z9tL24Mef9WIwM01","fixed_item",void 0);var h=l.ccclass,_=l.property;e("fixed_item",(s=h("fixed_item"),u=_(a),s((f=t((d=function(e){function t(){for(var t,i=arguments.length,o=new Array(i),l=0;l<i;l++)o[l]=arguments[l];return t=e.call.apply(e,[this].concat(o))||this,r(t,"label",f,n(t)),t._holder=void 0,t}i(t,e);var o=t.prototype;return o.show=function(e){this._holder=e,this.label.string=this._holder.data.name},o.hide=function(){},o.update=function(){},t}(c)).prototype,"label",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),p=d))||p));o._RF.pop()}}}));

System.register("chunks:///_virtual/fixed.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Holder.ts","./ScrollAdapter.ts","./View.ts","./enum.ts","./fixed_item.ts"],(function(e){"use strict";var t,n,i,r,o,a,c,l,u,f,s,d,p;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){o=e.cclegacy,a=e._decorator,c=e.Node,l=e.director},function(e){u=e.Holder},function(e){f=e.ScrollAdapter},function(e){s=e.View},function(e){d=e.Layer},function(e){p=e.fixed_item}],execute:function(){var h,m,b,g,y,x,v;o._RF.push({},"a0c62+GGSVJfJkgAg7jeAZe","fixed",void 0);var P=a.ccclass,w=a.property,_=(e("fixed",(h=P("fixed"),m=w(c),b=w(c),h((x=t((y=function(e){function t(){for(var t,n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return t=e.call.apply(e,[this].concat(o))||this,i(t,"fixedPrefab",x,r(t)),i(t,"normalPrefab",v,r(t)),t}n(t,e);var o=t.prototype;return o.getPrefab=function(e){return e.fixed?this.fixedPrefab:this.normalPrefab},o.getView=function(){return new _(this)},o.getHolder=function(e,t){return new A(e,t,this)},o.home=function(){l.loadScene("home")},o.scrollToHeader=function(){this.scrollManager.scrollToPercentage(1,0)},o.scrollToFooter=function(){this.scrollManager.scrollToPercentage(1,1)},o.start=function(){for(var e=[],t=0;t<100;t++){var n={name:t,fixed:t%10==0};e.push(n)}this.modelManager.insert(e)},t}(f)).prototype,"fixedPrefab",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=t(y.prototype,"normalPrefab",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=y))||g)),function(e){function t(){return e.apply(this,arguments)||this}n(t,e);var i=t.prototype;return i.initElement=function(e,t){e.fixed=t.fixed,e.fixed&&(e.layer=d.Medium)},i.onVisible=function(){},i.onDisable=function(){},t}(s)),A=function(e){function t(){for(var t,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(t=e.call.apply(e,[this].concat(i))||this)._item=null,t}n(t,e);var i=t.prototype;return i.onCreated=function(){this._item=this.node.getComponent(p)},i.onVisible=function(){this._item.show(this)},i.onDisable=function(){this._item.hide()},t}(u);o._RF.pop()}}}));

System.register("chunks:///_virtual/helper.ts",["cc"],(function(t){"use strict";var n;return{setters:[function(t){n=t.cclegacy}],execute:function(){n._RF.push({},"d16dfIj/wBDe7lg2eRhY7du","helper",void 0);var r=t("Helper",function(){function t(){}return t.smoothStep=function(t,n,r){return n*(r=-2*(r=this.clamp01(r))*r*r+3*r*r)+t*(1-r)},t.smoothDamp=function(t,n,r,e,a,i){var u=2/(e=Math.max(1e-4,e)),o=u*i,c=1/(1+o+.48*o*o+.235*o*o*o),s=t-n,p=n,h=a*e,f=(r+u*(s=this.clamp(s,0-h,h)))*i;r=(r-u*f)*c;var m=(n=t-s)+(s+f)*c;return p-t>0==m>p&&(r=((m=p)-p)/i),{velocity:r,position:m}},t.clamp01=function(t){return this.clamp(t,0,1)},t.clamp=function(t,n,r){return void 0===n&&(n=0),void 0===r&&(r=1),Math.min(Math.max(t,n),r)},t.sign=function(t){return t>=0?1:-1},t.lerp=function(t,n,r){return t+(n-t)*this.clamp01(r)},t.approximately=function(t,n){return Math.abs(n-t)<Math.max(1e-4*Math.max(Math.abs(t),Math.abs(n)),8*this.Epsilon)},t.round=function(t,n){return Math.round(t*Math.pow(10,n))/Math.pow(10,n)},t.pingpang=function(t){var n=t;n=Math.abs(t);var r=Math.trunc(n);return r%2==0?n-=r:n=1-(n-r),n},t.isNumber=function(t){return"number"==typeof t&&!isNaN(t)},t.progress=function(t,n,r,e){return t+(n-t)*e},t}());r.Epsilon=1401298e-51,r.Infinity=1/0,n._RF.pop()}}}));

System.register("chunks:///_virtual/Holder.ts",["./rollupPluginModLoBabelHelpers.js","cc","./helper.ts","./ModelManager.ts"],(function(t){"use strict";var e,i,s,a,n,r,o;return{setters:[function(t){e=t.createClass},function(t){i=t.cclegacy,s=t._decorator,a=t.Node,n=t.UITransform},function(t){r=t.Helper},function(t){o=t.ModelManager}],execute:function(){var h;i._RF.push({},"06194IgtVlOubt8kvkPRvBb","Holder",void 0);var d=s.ccclass;s.property,t("Holder",d("Holder")(h=function(){function t(t,e,i){this._node=void 0,this._transform=void 0,this._code=void 0,this._adapter=void 0,this._feature=void 0,this._view=void 0,this._fixedIndex=-1,this._element=null,this._isCallCreated=!1,this._isLayout=!1,this._node=t,this._code=e,this._adapter=i,this._transform=this.node.getComponent(n)}var i=t.prototype;return i.internal_visible=function(t,e,i){var s=this;this._view=t,this._feature=e,i&&(this.node.active=!0,this._isCallCreated||(this._isCallCreated=!0,this.onCreated()),this.element.fixed&&(this._fixedIndex=this.view.options.features.findIndex((function(t){return t.index==s.feature.index}))),this.transform.setContentSize(this.feature.size.x,this.feature.size.y),this.node.setScale(this.feature.scale.x,this.feature.scale.y),this._register(),this.onVisible(),this._feature.update=this._updateHandler.bind(this))},i._updateHandler=function(){this._feature.update=function(){},this.onVisible(),this._feature.update=this._updateHandler.bind(this)},i.internal_disable=function(){this.adapter.scrollManager.internal_disableTouchTarget(this.node),this.onDisable(),this._unregister(),this._feature.update=function(){},this._element=null,this._view=null,this._feature=null,this._fixedIndex=-1,this._isLayout=!1,this.node.active=!1},i.internal_layout=function(){var t={x:this.feature.size.x,y:this.feature.size.y};this.adapter.layoutManager.isControlMainAxisSize&&(t[this.adapter.mainAxis]=this.feature.layoutSize[this.adapter.mainAxis]),this.adapter.layoutManager.isControlCrossAxisSize&&(t[this.adapter.crossAxis]=this.feature.layoutSize[this.adapter.crossAxis]),this._isLayout=!0,this.transform.setContentSize(t.x,t.y),this._isLayout=!1,this.node.setPosition(this.feature.position.x,this.feature.position.y-this.view.mainAxisOffset)},i._register=function(){this.node.on(a.EventType.SIZE_CHANGED,this._onSizeChanged,this),this.node.on(a.EventType.TRANSFORM_CHANGED,this._onScaleChanged,this),this.node.on(a.EventType.ANCHOR_CHANGED,this._onAnchorPointChanged,this),this._adapter.modelManager.on(o.Event.ON_UPDATE,this._updateHandler,this)},i._unregister=function(){this.node.off(a.EventType.SIZE_CHANGED,this._onSizeChanged,this),this.node.off(a.EventType.TRANSFORM_CHANGED,this._onScaleChanged,this),this.node.off(a.EventType.ANCHOR_CHANGED,this._onAnchorPointChanged,this),this._adapter.modelManager.off(o.Event.ON_UPDATE,this._updateHandler,this)},i._onSizeChanged=function(){if(!this._isLayout){var t=r.approximately(this.feature.size[this.adapter.mainAxis],this.transform.contentSize[this.adapter.mainAxis]),e=r.approximately(this.feature.size[this.adapter.crossAxis],this.transform.contentSize[this.adapter.crossAxis]);this.feature.size.x=this.transform.width,this.feature.size.y=this.transform.height,t&&e||this.view.internal_holderChanged(t)}},i._onScaleChanged=function(t){if(t==a.TransformBit.SCALE&&(this.adapter.layoutManager.controlScaleWidth||this.adapter.layoutManager.controlScaleHeight)){var e=r.approximately(this.feature.scale[this.adapter.mainAxis],this.node.scale[this.adapter.mainAxis]),i=r.approximately(this.feature.scale[this.adapter.crossAxis],this.node.scale[this.adapter.crossAxis]);this.feature.scale.x=this.node.scale.x,this.feature.scale.y=this.node.scale.y,e&&i||this.view.internal_holderChanged(e)}},i._onAnchorPointChanged=function(){var t=r.approximately(this.feature.anchorPoint[this.adapter.mainAxis],this.transform.anchorPoint[this.adapter.mainAxis]),e=r.approximately(this.feature.anchorPoint[this.adapter.crossAxis],this.transform.anchorPoint[this.adapter.crossAxis]);this.feature.anchorPoint.x=this.transform.anchorPoint.x,this.feature.anchorPoint.y=this.transform.anchorPoint.y,t&&e||this.view.internal_holderChanged(t)},i._getElementProxyHandler=function(){var t=this;return{get:function(t,e,i){return Reflect.get(t,e,i)},set:function(e,i,s,a){var n=Reflect.set(e,i,s,a);if(n)switch(i){case"layer":t.node.parent=t.adapter.scrollManager.getLayerNode(s);break;case"wrapBeforeMode":case"wrapAfterMode":case"ignoreLayout":t.adapter.viewManager.internal_updateVisibleView(t.view.index)}return n}}},e(t,[{key:"node",get:function(){return this._node}},{key:"transform",get:function(){return this._transform}},{key:"code",get:function(){return this._code}},{key:"adapter",get:function(){return this._adapter}},{key:"feature",get:function(){return this._feature}},{key:"view",get:function(){return this._view}},{key:"data",get:function(){return this._feature&&this._feature.data}},{key:"fixedIndex",get:function(){return this._fixedIndex}},{key:"element",get:function(){if(this.feature)return this._element||(this._element=new Proxy(this.feature.element,this._getElementProxyHandler())),this._element}}]),t}())||h);i._RF.pop()}}}));

System.register("chunks:///_virtual/home.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var o,e,r,n,c;return{setters:[function(t){o=t.inheritsLoose},function(t){e=t.cclegacy,r=t._decorator,n=t.director,c=t.Component}],execute:function(){var i;e._RF.push({},"a402fmmXFtF6r0IWio7Y0gD","home",void 0);var s=r.ccclass;r.property,t("home",s("home")(i=function(t){function e(){return t.apply(this,arguments)||this}o(e,t);var r=e.prototype;return r.start=function(){},r.go=function(t,o){n.loadScene(o)},e}(c))||i);e._RF.pop()}}}));

System.register("chunks:///_virtual/horiznal_scale_card_item.ts",["./rollupPluginModLoBabelHelpers.js","cc","./helper.ts"],(function(e){"use strict";var t,r,a,i,n,o,l,s,c;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,a=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){n=e.cclegacy,o=e._decorator,l=e.Label,s=e.Component},function(e){c=e.Helper}],execute:function(){var h,d,p,u,_;n._RF.push({},"f2e355YhhRGGLGODyETS6Zp","horiznal_scale_card_item",void 0);var f=o.ccclass,v=o.property;e("horiznal_scale_card_item",(h=f("horiznal_scale_card_item"),d=v(l),h((_=t((u=function(e){function t(){for(var t,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return t=e.call.apply(e,[this].concat(n))||this,a(t,"label",_,i(t)),t._holder=void 0,t}r(t,e);var n=t.prototype;return n.start=function(){},n.show=function(e){this._holder=e,this.label.string=e.data.name},n.hide=function(){},n.click=function(){},n.lateUpdate=function(){if(this._holder&&this._holder.feature){this._holder.view.index;var e=this._holder.adapter.scrollManager.content.convertToWorldSpaceAR(this.node.position),t=this._holder.adapter.scrollManager.view.convertToNodeSpaceAR(e),r=this._holder.adapter.centerManager.getContainerOffset(),a=Math.abs(t[this._holder.adapter.mainAxis])-r,i=Math.abs(a)/this._holder.adapter.mainAxisSize;i=1-i,i=c.clamp(i,.3,1);var n=this.node.getScale();n[this._holder.adapter.mainAxis]=i,this.node.setScale(n)}},t}(s)).prototype,"label",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),p=u))||p));n._RF.pop()}}}));

System.register("chunks:///_virtual/horiznal_scale_card.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Holder.ts","./ScrollAdapter.ts","./View.ts","./horiznal_scale_card_item.ts"],(function(t){"use strict";var n,r,e,i,o,c,a,l,s,u,f;return{setters:[function(t){n=t.applyDecoratedDescriptor,r=t.inheritsLoose,e=t.initializerDefineProperty,i=t.assertThisInitialized},function(t){o=t.cclegacy,c=t._decorator,a=t.Prefab},function(t){l=t.Holder},function(t){s=t.ScrollAdapter},function(t){u=t.View},function(t){f=t.horiznal_scale_card_item}],execute:function(){var p,h,d,_,y;o._RF.push({},"35843AWcvNIBYC11Ij8+wfZ","horiznal_scale_card",void 0);var b=c.ccclass,g=c.property,v=(t("horiznal_scale_card",(p=b("horiznal_scale_card"),h=g(a),p((y=n((_=function(t){function n(){for(var n,r=arguments.length,o=new Array(r),c=0;c<r;c++)o[c]=arguments[c];return n=t.call.apply(t,[this].concat(o))||this,e(n,"prefab",y,i(n)),n}r(n,t);var o=n.prototype;return o.getPrefab=function(t){return this.prefab},o.getHolder=function(t,n){return new w(t,n,this)},o.getView=function(){return new v(this)},o.start=function(){for(var t=[],n=0;n<10;n++)t.push({name:n,index:n});this.modelManager.insert(t)},o.click=function(){this.scrollManager.scrollToHeader(0)},o.click2=function(){this.scrollManager.scrollToFooter(1)},n}(s)).prototype,"prefab",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),d=_))||d)),function(t){function n(){return t.apply(this,arguments)||this}r(n,t);var e=n.prototype;return e.initElement=function(t,n){},e.onVisible=function(){},e.onDisable=function(){},n}(u)),w=function(t){function n(){for(var n,r=arguments.length,e=new Array(r),i=0;i<r;i++)e[i]=arguments[i];return(n=t.call.apply(t,[this].concat(e))||this)._script=null,n}r(n,t);var e=n.prototype;return e.onCreated=function(){this._script=this.node.getComponent(f)},e.onVisible=function(){this._script.show(this)},e.onDisable=function(){this._script.hide()},n}(l);o._RF.pop()}}}));

System.register("chunks:///_virtual/Indicator.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ScrollAdapter.ts","./enum.ts","./PageViewManager.ts"],(function(e){"use strict";var t,i,n,a,r,o,l,s,c,p,u,h,d,g,f,_,y,m,v,C;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,a=e.assertThisInitialized,r=e.createClass},function(e){o=e.cclegacy,l=e._decorator,s=e.SpriteFrame,c=e.Color,p=e.Node,u=e.Sprite,h=e.UITransform,d=e.Button,g=e.EventHandler,f=e.Layout,_=e.Component,y=e.Size},function(e){m=e.ScrollAdapter},function(e){v=e.IndicatorMode},function(e){C=e.PageViewManager}],execute:function(){var w,S,M,b,z,I,E,L,P,T,A;o._RF.push({},"39a65BHli1DW4GsARI0mFR5","Indicator",void 0);var N=l.ccclass,R=l.property;e("Indicator",(w=N("Indicator"),S=R(m),M=R({type:s}),b=R({type:v}),w((E=t((I=function(e){function t(){for(var t,i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return t=e.call.apply(e,[this].concat(r))||this,n(t,"adapter",E,a(t)),n(t,"spriteFrame",L,a(t)),n(t,"indicatorMode",P,a(t)),n(t,"cellSize",T,a(t)),n(t,"spacing",A,a(t)),t._indicators=[],t._layout=null,t._color=new c,t}i(t,e);var o=t.prototype;return o.__preload=function(){this.adapter&&(this.adapter.pageViewManager.on(C.Event.ON_PAGE_LENGTH_CHANGED,this._onPageLengthChanged,this),this.adapter.pageViewManager.on(C.Event.ON_SCROLL_PAGE_END,this._onScrollPageEnd,this))},o._onScrollPageEnd=function(){this.changedState()},o._onPageLengthChanged=function(){if(this.adapter){var e=this._indicators,t=this.adapter.viewManager.viewOptionsLength;if(t!==e.length){var i=0;if(t>e.length)for(i=0;i<t;++i)e[i]||(e[i]=this._createIndicator(i));else for(i=e.length-t;i>0;--i){var n=e[i-1];this.node.removeChild(n.node),e.splice(i-1,1)}this.layout&&this.layout.enabledInHierarchy&&this.layout.updateLayout(),this.changedState()}}},o._createIndicator=function(e){var t=new p;t.layer=this.node.layer;var i=t.addComponent(u);i.spriteFrame=this.spriteFrame,i.sizeMode=u.SizeMode.CUSTOM,t.parent=this.node;var n=t.getComponent(h);if(n.setContentSize(this.cellSize),this.indicatorMode==v.Button){var a=t.getComponent(d)||t.addComponent(d),r=new g;r.component="Indicator",r.handler="_click",r.target=this.node,r.customEventData=e,a.clickEvents.push(r)}return n},o._click=function(e,t){this.adapter.pageViewManager.scrollToPage(this.adapter.pageViewManager.pageTurningSpeed,t)},o.changedState=function(){var e=this._indicators;if(0!==e.length&&this.adapter){var t=this.adapter.pageViewManager.currentIndex;if(!(t>=e.length)){for(var i=0;i<e.length;++i){var n=e[i].getComponent(u);this._color.set(n.color),this._color.a=127.5,n.color=this._color}if(e[t]){var a=e[t].getComponent(u);this._color.set(a.color),this._color.a=255,a.color=this._color}}}},r(t,[{key:"layout",get:function(){return null==this._layout&&(this._layout=this.getComponent(f)||this.addComponent(f),this.adapter.isHorizontal?(this._layout.type=f.Type.HORIZONTAL,this._layout.spacingX=this.spacing):(this._layout.type=f.Type.VERTICAL,this._layout.spacingY=this.spacing),this._layout.resizeMode=f.ResizeMode.CONTAINER),this._layout}}]),t}(_)).prototype,"adapter",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=t(I.prototype,"spriteFrame",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=t(I.prototype,"indicatorMode",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return v.Normal}}),T=t(I.prototype,"cellSize",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new y(10,10)}}),A=t(I.prototype,"spacing",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 10}}),z=I))||z));o._RF.pop()}}}));

System.register("chunks:///_virtual/interface.ts",["cc"],(function(){"use strict";var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"3d52dVTlbBOz7Wijt15IBJI","interface",void 0),t._RF.pop()}}}));

System.register("chunks:///_virtual/item_page.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Holder.ts","./ScrollAdapter.ts","./View.ts","./page_item.ts"],(function(e){"use strict";var t,n,i,r,o,a,l,u,c,s,p,f;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){o=e.cclegacy,a=e._decorator,l=e.Label,u=e.Node},function(e){c=e.Holder},function(e){s=e.ScrollAdapter},function(e){p=e.View},function(e){f=e.page_item}],execute:function(){var h,d,b,g,m,_,y;o._RF.push({},"333d6buM2ZC6ab6/F873WSZ","item_page",void 0);var v=a.ccclass,w=a.property,D=(e("item_page",(h=v("item_page"),d=w(l),b=w(u),h((_=t((m=function(e){function t(){for(var t,n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return t=e.call.apply(e,[this].concat(o))||this,i(t,"label",_,r(t)),i(t,"prefab",y,r(t)),t._holder=null,t}n(t,e);var o=t.prototype;return o.getPrefab=function(e){return this.prefab},o.getView=function(){return new D(this)},o.getHolder=function(e,t){return new V(e,t,this)},o.show=function(e){this._holder=e,this.label.string=this._holder.data.name;for(var t=0;t<10;t++)this.modelManager.insert({name:t})},o.hide=function(){this.modelManager.clear()},t}(s)).prototype,"label",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=t(m.prototype,"prefab",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=m))||g)),function(e){function t(){return e.apply(this,arguments)||this}n(t,e);var i=t.prototype;return i.initElement=function(e,t){},i.onVisible=function(){},i.onDisable=function(){},t}(p)),V=function(e){function t(){for(var t,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(t=e.call.apply(e,[this].concat(i))||this)._item=null,t}n(t,e);var i=t.prototype;return i.onCreated=function(){this._item=this.node.getComponent(f)},i.onVisible=function(){this._item.show(this)},i.onDisable=function(){this._item.hide()},t}(c);o._RF.pop()}}}));

System.register("chunks:///_virtual/LayoutManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Manager.ts","./enum.ts","./helper.ts"],(function(t){"use strict";var e,i,r,n,o,a,s,l,h,c,g;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,r=t.initializerDefineProperty,n=t.assertThisInitialized,o=t.createClass},function(t){a=t.cclegacy,s=t._decorator},function(t){l=t.Manager},function(t){h=t.ChildAlignment,c=t.Orientation},function(t){g=t.Helper}],execute:function(){var u,p,_,f,d,z,A,y,S,x,m,H,O,b,T,v,E,C,L,W,M,D;a._RF.push({},"d91f5nGeD5IbK7eVk2CJPJh","LayoutManager",void 0);var P,N=s.ccclass,w=s.property;!function(t){t[t.ON_LAYOUT_COMPLATED=0]="ON_LAYOUT_COMPLATED",t[t.ON_CHANGED_LAYOUT_STATE=1]="ON_CHANGED_LAYOUT_STATE"}(P||(P={}));t("LayoutManager",(u=N("LayoutManager"),p=w({type:h}),_=w({type:h}),f=w({group:{id:"0",name:"forceExpand"}}),d=w({group:{id:"0",name:"forceExpand"}}),z=w({group:{id:"0",name:"controlSize"}}),A=w({group:{id:"0",name:"controlSize"}}),y=w({group:{id:"0",name:"controlScale"}}),S=w({group:{id:"0",name:"controlScale"}}),u(((D=function(t){function e(){for(var e,i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return e=t.call.apply(t,[this].concat(o))||this,r(e,"_childAlignment",H,n(e)),r(e,"_spacing",O,n(e)),r(e,"_reverseArrangement",b,n(e)),r(e,"delayLayout",T,n(e)),r(e,"_forceExpandWidth",v,n(e)),r(e,"_forceExpandHeight",E,n(e)),r(e,"_controlSizeWidth",C,n(e)),r(e,"_controlSizeHeight",L,n(e)),r(e,"_controlScaleWidth",W,n(e)),r(e,"_controlScaleHeight",M,n(e)),e._isDirty=!1,e._layoutQueue=[],e}i(e,t);var a=e.prototype;return a.onInit=function(){},a.layout=function(t){t&&(this.delayLayout?(this.unLayout(t.index),this._layoutQueue.push(t),this._isDirty=!0):(this._layoutHandler(t),this.emit(P.ON_LAYOUT_COMPLATED,[t.index])))},a.unLayout=function(t){-1!=(t=this._layoutQueue.findIndex((function(e){return e.index==t})))&&this._layoutQueue.splice(t,1)},a._layoutHandler=function(t){this._calcAlongAxis(t,c.Horizontal,this.adapter.isHorizontal),this._setChildrenAlongAxis(t,c.Horizontal,this.adapter.isHorizontal),this._calcAlongAxis(t,c.Vertical,this.adapter.isHorizontal),this._setChildrenAlongAxis(t,c.Vertical,this.adapter.isHorizontal)},a._calcAlongAxis=function(t,e,i){for(var r=e==c.Horizontal?this.horizontal:this.vertical,n=this._getControlSize(e),o=this._getControlScale(e),a=this._getForceExpandSize(e),s=r,l=r,h=0,g=i!=(e==c.Vertical),u=this._getLayoutList(t.features),p=0;p<u.length;p++){var _=u[p],f=this._getChildSizes(_,e,n,a),d=f.min,z=f.preferred,A=f.flexible;if(o){var y=_.scale[this._getAxis(e)];d*=y,z*=y,A*=y}g?(s=Math.max(d+r,s),l=Math.max(z+r,l),h=Math.max(A,h)):(s+=d+this.spacing,l+=z+this.spacing,h+=A)}!g&&u.length>0&&(s-=this.spacing,l-=this.spacing),l=Math.max(s,l),this._setLayoutInputForAxis(t,s,l,h,e)},a._getControlSize=function(t){return t==c.Horizontal?this.controlSizeWidth:this.controlSizeHeight},a._getControlScale=function(t){return t==c.Horizontal?this.controlScaleWidth:this.controlScaleHeight},a._getForceExpandSize=function(t){return t==c.Horizontal?this.forceExpandWidth:this.forceExpandHeight},a._setChildrenAlongAxis=function(t,e,i){var r=t.size[this._getAxis(e)],n=this._getControlSize(e),o=this._getControlScale(e),a=this._getForceExpandSize(e),s=this._getAlignmentOnAxis(e),l=this._getLayoutList(t.features),h=i!=(e==c.Vertical),u=this.reverseArrangement?l.length-1:0,p=this.reverseArrangement?0:l.length,_=this.reverseArrangement?-1:1,f=this._getAxis(e);if(h)for(var d=r-(e==c.Horizontal?this.horizontal:this.vertical),z=u;this.reverseArrangement?z>=p:z<p;z+=_){var A=l[z],y=this._getChildSizes(A,e,n,a),S=y.min,x=y.preferred,m=y.flexible,H=o?A.scale[f]:1,O=g.clamp(d,S,m>0?r:x),b=this._getStartOffset(t,e,O*H);if(n)this._setChildAlongAxisWithScale(t,A,e,b,H,O);else{var T=(O-A.size[f])*s;T*=H,this._setChildAlongAxisWithScale(t,A,e,b+T,H)}}else{var v=e==c.Horizontal?this.left:this.top,E=0,C=r-this._getTotalPreferredSize(t,e);C>0&&(0==this._getTotalFlexibleSize(t,e)?v=this._getStartOffset(t,e,this._getTotalPreferredSize(t,e)-(e==c.Horizontal?this.horizontal:this.vertical)):this._getTotalFlexibleSize(t,e)>0&&(E=C/this._getTotalFlexibleSize(t,e)));var L=0;this._getTotalMinSize(t,e)!=this._getTotalPreferredSize(t,e)&&(L=g.clamp01((r-this._getTotalMinSize(t,e))/(this._getTotalPreferredSize(t,e)-this._getTotalMinSize(t,e))));for(z=u;this.reverseArrangement?z>=p:z<p;z+=_){var W=l[z],M=this._getChildSizes(W,e,n,a),D=(S=M.min,x=M.preferred,m=M.flexible,o?W.scale[f]:1),P=g.lerp(S,x,L);if(P+=m*E,n)this._setChildAlongAxisWithScale(t,W,e,v,D,P);else{T=(P-W.size[f])*s;this._setChildAlongAxisWithScale(t,W,e,v+T,D)}v+=P*D+this.spacing}}},a._setChildAlongAxisWithScale=function(t,e,i,r,n,o){if(null!=e){var a=this._getAxis(i),s=0;isNaN(o)?s=e.size[a]:(e.layoutSize[a]=o,s=o);var l={x:e.position.x,y:e.position.y},h=0;i==c.Horizontal?(h=r+s*e.anchorPoint[a]*n,h-=t.size[a]*t.anchorPoint[a],h+=t.position[a]):(h=-r-s*(1-e.anchorPoint[a])*n,h+=t.size[a]*(1-t.anchorPoint[a]),h+=t.position[a]),l[a]=h,e.position=l}},a._getStartOffset=function(t,e,i){var r=i+(e==c.Horizontal?this.horizontal:this.vertical),n=t.size[this._getAxis(e)]-r,o=this._getAlignmentOnAxis(e);return(e==c.Horizontal?this.left:this.top)+n*o},a._setLayoutInputForAxis=function(t,e,i,r,n){var o=this._getAxis(n);t.totalMinSize[o]=e,t.totalPreferredSize[o]=i,t.totalFlexibleSize[o]=r},a._getAxis=function(t){return t==c.Horizontal?"x":"y"},a._getMinSize=function(t,e){return t.minSize[this._getAxis(e)]},a._getPreferredSize=function(t,e){var i=this._getAxis(e);return Math.max(t.minSize[i],t.preferredSize[i])},a._getFlexibleSize=function(t,e){return t.flexibleSize[this._getAxis(e)]},a._getTotalMinSize=function(t,e){return t.totalMinSize[this._getAxis(e)]},a._getTotalPreferredSize=function(t,e){return t.totalPreferredSize[this._getAxis(e)]},a._getTotalFlexibleSize=function(t,e){return t.totalFlexibleSize[this._getAxis(e)]},a._getChildSizes=function(t,e,i,r){var n,o,a;return i?(n=this._getMinSize(t.element,e),o=this._getPreferredSize(t.element,e),a=this._getFlexibleSize(t.element,e)):(o=n=t.size[this._getAxis(e)],a=0),r&&(a=Math.max(a,1)),{min:n,preferred:o,flexible:a}},a._getAlignmentOnAxis=function(t){return t==c.Horizontal?this.adapter.layoutManager.childAlignment%3*.5:.5*Math.floor(this.adapter.layoutManager.childAlignment/3)},a._getLayoutList=function(t){for(var e=[],i=0;i<t.length;i++){var r=t[i];r.element.ignoreLayout||e.push(r)}return e},a.internal_lateUpdate=function(t){if(this._isDirty){this._isDirty=!1;for(var e=[];this._layoutQueue.length>0;){var i=this._layoutQueue.shift();this._layoutHandler(i),e.push(i.index)}e.length>0&&this.emit(P.ON_LAYOUT_COMPLATED,e)}},o(e,[{key:"childAlignment",get:function(){return this._childAlignment},set:function(t){t!=this._childAlignment&&(this._childAlignment=t,this.emit(P.ON_CHANGED_LAYOUT_STATE))}},{key:"spacing",get:function(){return this._spacing},set:function(t){t!=this._spacing&&(this._spacing=t,this.emit(P.ON_CHANGED_LAYOUT_STATE))}},{key:"reverseArrangement",get:function(){return this._reverseArrangement},set:function(t){t!=this._reverseArrangement&&(this._reverseArrangement=t,this.emit(P.ON_CHANGED_LAYOUT_STATE))}},{key:"forceExpandWidth",get:function(){return this._forceExpandWidth},set:function(t){t!=this._forceExpandWidth&&(this._forceExpandWidth=t,this.emit(P.ON_CHANGED_LAYOUT_STATE))}},{key:"forceExpandHeight",get:function(){return this._forceExpandHeight},set:function(t){t!=this._forceExpandHeight&&(this._forceExpandHeight=t,this.emit(P.ON_CHANGED_LAYOUT_STATE))}},{key:"controlSizeWidth",get:function(){return this._controlSizeWidth},set:function(t){t!=this._controlSizeWidth&&(this._controlSizeWidth=t,this.emit(P.ON_CHANGED_LAYOUT_STATE))}},{key:"controlSizeHeight",get:function(){return this._controlSizeHeight},set:function(t){t!=this._controlSizeHeight&&(this._controlSizeHeight=t,this.emit(P.ON_CHANGED_LAYOUT_STATE))}},{key:"controlScaleWidth",get:function(){return this._controlScaleWidth},set:function(t){t!=this._controlScaleWidth&&(this._controlScaleWidth=t,this.emit(P.ON_CHANGED_LAYOUT_STATE))}},{key:"controlScaleHeight",get:function(){return this._controlScaleHeight},set:function(t){t!=this._controlScaleHeight&&(this._controlScaleHeight=t,this.emit(P.ON_CHANGED_LAYOUT_STATE))}},{key:"top",get:function(){return this.adapter.isVertical?0:this.adapter.viewManager.top}},{key:"bottom",get:function(){return this.adapter.isVertical?0:this.adapter.viewManager.bottom}},{key:"left",get:function(){return this.adapter.isHorizontal?0:this.adapter.viewManager.left}},{key:"right",get:function(){return this.adapter.isHorizontal?0:this.adapter.viewManager.right}},{key:"horizontal",get:function(){return this.left+this.right}},{key:"vertical",get:function(){return this.top+this.bottom}},{key:"isControlMainAxisSize",get:function(){return this.adapter.isHorizontal&&this.controlSizeWidth||this.adapter.isVertical&&this.controlSizeHeight}},{key:"isControlCrossAxisSize",get:function(){return this.adapter.isHorizontal&&this.controlSizeHeight||this.adapter.isVertical&&this.controlSizeWidth}},{key:"isControlCrossAxisScale",get:function(){return this.adapter.isHorizontal&&this.controlScaleHeight||this.adapter.isVertical&&this.controlScaleWidth}}]),e}(l)).Event=P,H=e((m=D).prototype,"_childAlignment",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return h.UpperLeft}}),e(m.prototype,"childAlignment",[_],Object.getOwnPropertyDescriptor(m.prototype,"childAlignment"),m.prototype),O=e(m.prototype,"_spacing",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),e(m.prototype,"spacing",[w],Object.getOwnPropertyDescriptor(m.prototype,"spacing"),m.prototype),b=e(m.prototype,"_reverseArrangement",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),e(m.prototype,"reverseArrangement",[w],Object.getOwnPropertyDescriptor(m.prototype,"reverseArrangement"),m.prototype),T=e(m.prototype,"delayLayout",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),v=e(m.prototype,"_forceExpandWidth",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),e(m.prototype,"forceExpandWidth",[f],Object.getOwnPropertyDescriptor(m.prototype,"forceExpandWidth"),m.prototype),E=e(m.prototype,"_forceExpandHeight",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),e(m.prototype,"forceExpandHeight",[d],Object.getOwnPropertyDescriptor(m.prototype,"forceExpandHeight"),m.prototype),C=e(m.prototype,"_controlSizeWidth",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),e(m.prototype,"controlSizeWidth",[z],Object.getOwnPropertyDescriptor(m.prototype,"controlSizeWidth"),m.prototype),L=e(m.prototype,"_controlSizeHeight",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),e(m.prototype,"controlSizeHeight",[A],Object.getOwnPropertyDescriptor(m.prototype,"controlSizeHeight"),m.prototype),W=e(m.prototype,"_controlScaleWidth",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),e(m.prototype,"controlScaleWidth",[y],Object.getOwnPropertyDescriptor(m.prototype,"controlScaleWidth"),m.prototype),M=e(m.prototype,"_controlScaleHeight",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),e(m.prototype,"controlScaleHeight",[S],Object.getOwnPropertyDescriptor(m.prototype,"controlScaleHeight"),m.prototype),x=m))||x));a._RF.pop()}}}));

System.register("chunks:///_virtual/main",["./Holder.ts","./Manager.ts","./ScrollAdapter.ts","./View.ts","./Indicator.ts","./Scrollbar.ts","./debug.ts","./enum.ts","./interface.ts","./helper.ts","./CenterManager.ts","./LayoutManager.ts","./ModelManager.ts","./PageViewManager.ts","./ReleaseManager.ts","./ScrollManager.ts","./ViewManager.ts","./card.ts","./card_item.ts","./chat.ts","./chat_Item.ts","./edit.ts","./edit_item.ts","./fixed.ts","./fixed_item.ts","./home.ts","./horiznal_scale_card.ts","./horiznal_scale_card_item.ts","./item_page.ts","./pageView.ts","./pageView_item.ts","./page_item.ts"],(function(){"use strict";return{setters:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){}}}));

System.register("chunks:///_virtual/Manager.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var e,n,a;return{setters:[function(t){e=t.createClass},function(t){n=t.cclegacy,a=t._decorator}],execute:function(){var i;n._RF.push({},"9e556t6rHxO6ZbZa4CSsrXu","Manager",void 0);var r=a.ccclass;a.property,t("Manager",r("Manager")(i=function(){function t(){this._inited=!1,this._eventMap=new Map,this._adapter=null}var n=t.prototype;return n.internal_create=function(t){this._adapter=t},n.internal_init=function(){this._inited||(this._inited=!0,this.onInit())},n.on=function(t,e,n,a){void 0===a&&(a=!1),this._eventMap.has(t)||this._eventMap.set(t,[]);var i=this._eventMap.get(t);null!=i&&i.find((function(t){return t.target==n&&t.callback==e}))||i.push({callback:e,target:n,once:a})},n.off=function(t,e,n){if(this._eventMap.has(t)){var a=this._eventMap.get(t),i=null==a?void 0:a.findIndex((function(t){return t.callback==e&&t.target==n}));-1!=i&&a.splice(i,1)}},n.emit=function(t){if(this._eventMap.has(t)){for(var e=this._eventMap.get(t),n=arguments.length,a=new Array(n>1?n-1:0),i=1;i<n;i++)a[i-1]=arguments[i];for(var r=0;r<e.length;r++){var c,s=e[r];(c=s.callback).call.apply(c,[s.target].concat(a)),s.once&&(e.splice(r,1),r--)}}},e(t,[{key:"adapter",get:function(){return this._adapter}}]),t}())||i);n._RF.pop()}}}));

System.register("chunks:///_virtual/ModelManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Manager.ts","./helper.ts"],(function(t){"use strict";var e,n,i,l,s,r;return{setters:[function(t){e=t.inheritsLoose,n=t.createClass},function(t){i=t.cclegacy,l=t._decorator},function(t){s=t.Manager},function(t){r=t.Helper}],execute:function(){var o,a;i._RF.push({},"18c36plR9VHHbXIt40bKQ+w","ModelManager",void 0);var h,u=l.ccclass;l.property;!function(t){t[t.ON_CLEAR=0]="ON_CLEAR",t[t.ON_INSERT=1]="ON_INSERT",t[t.ON_REMOVE=2]="ON_REMOVE",t[t.ON_MOVE=3]="ON_MOVE",t[t.ON_UPDATE=4]="ON_UPDATE"}(h||(h={}));t("ModelManager",u("ModelManager")(((a=function(t){function i(){for(var e,n=arguments.length,i=new Array(n),l=0;l<n;l++)i[l]=arguments[l];return(e=t.call.apply(t,[this].concat(i))||this)._modelList=[],e._length=0,e}e(i,t);var l=i.prototype;return l.onInit=function(){},l.insert=function(t,e){void 0===e&&(e=this.length);for(var n=this._toArray(t),i=e=r.clamp(e,0,this.length),l=[],s=0;s<n.length;s++){var o=n[s],a=this._newFeature(o);this._modelList.splice(i,0,a),l.push(a),i++}this._length=this._modelList.length,n.length>0&&this.emit(h.ON_INSERT,e,l)},l.remove=function(t,e){var n=this;void 0===e&&(e=1);var i=this.length;if("number"==typeof t){if(e=Math.max(e,0),t<0||0==e)return;i=t,this._modelList.splice(t,e)}else{var l=this._toArray(t);if(0==l.length)return;for(var s=function(t){var e=l[t];-1!=(o=n._modelList.findIndex((function(t){return t.data==e})))&&(i=Math.min(i,o),n._modelList.splice(o,1)[0])},r=0;r<l.length;r++){var o;s(r)}}this._length=this._modelList.length,console.log("删除后剩余",this._modelList),0==this.length?this.emit(h.ON_CLEAR):this.emit(h.ON_REMOVE,i)},l.move=function(t,e,n){var i;if(!(t<0)){var l=this._modelList.splice(t,e);(i=this._modelList).splice.apply(i,[n,0].concat(l));var s=Math.min(t,n);this._length=this._modelList.length,this.emit(h.ON_MOVE,s)}},l.update=function(){this.emit(h.ON_UPDATE)},l.clear=function(){this._modelList.length=0,this._length=0,this.emit(h.ON_CLEAR)},l.has=function(t){return!!this._modelList[t]},l.get=function(t){return isNaN(t)?null:this._modelList[t]},l.slice=function(t,e){return 0==this.length?[]:this._modelList.slice(t,e)},l._toArray=function(t){return t?t instanceof Array?t:[t]:[]},l._newFeature=function(t){return{data:t,index:-1,code:null,size:null,layoutSize:null,scale:null,position:null,anchorPoint:null,element:null,update:function(){}}},n(i,[{key:"length",get:function(){return this._length}}]),i}(s)).Event=h,o=a))||o);i._RF.pop()}}}));

System.register("chunks:///_virtual/page_item.ts",["./rollupPluginModLoBabelHelpers.js","cc","./helper.ts"],(function(e){"use strict";var t,i,r,a,o,n,l,s,c;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,r=e.initializerDefineProperty,a=e.assertThisInitialized},function(e){o=e.cclegacy,n=e._decorator,l=e.Label,s=e.Component},function(e){c=e.Helper}],execute:function(){var h,p,d,u,_,f;o._RF.push({},"144b8nb7VtKSKwcAg6xFiXY","page_item",void 0);var g=n.ccclass,b=n.property;e("page_item",(h=g("page_item"),p=b(l),h((_=t((u=function(e){function t(){for(var t,i=arguments.length,o=new Array(i),n=0;n<i;n++)o[n]=arguments[n];return t=e.call.apply(e,[this].concat(o))||this,r(t,"label",_,a(t)),r(t,"isScale",f,a(t)),t._holder=void 0,t}i(t,e);var o=t.prototype;return o.show=function(e){this._holder=e,this.label.string=this._holder.data.name},o.hide=function(){},o.click=function(){this.isScale&&this._holder.adapter.scrollManager.scrollToOptionsIndex(1,this._holder.view.index)},o.update=function(){if(this.isScale&&this._holder&&this._holder.feature){var e=this._holder.adapter.scrollManager.content.convertToWorldSpaceAR(this.node.position),t=this._holder.adapter.scrollManager.view.convertToNodeSpaceAR(e),i=this._holder.adapter.centerManager.getContainerOffset(),r=Math.abs(t[this._holder.adapter.mainAxis])-i,a=Math.abs(r)/this._holder.adapter.mainAxisSize;a=1-a,a=c.clamp(a,.3,1);var o=this.node.getScale();o[this._holder.adapter.mainAxis]=a,o[this._holder.adapter.crossAxis]=a,this.node.setScale(o)}},t}(s)).prototype,"label",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),f=t(u.prototype,"isScale",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),d=u))||d));o._RF.pop()}}}));

System.register("chunks:///_virtual/pageView_item.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Holder.ts","./ScrollAdapter.ts","./View.ts","./enum.ts","./item_page.ts","./page_item.ts"],(function(e){"use strict";var t,i,r,n,o,a,l,u,p,s,c,f,h,d,b;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,r=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){o=e.cclegacy,a=e._decorator,l=e.Label,u=e.Prefab,p=e.Node},function(e){s=e.Holder},function(e){c=e.ScrollAdapter},function(e){f=e.View},function(e){h=e.WrapMode},function(e){d=e.item_page},function(e){b=e.page_item}],execute:function(){var m,g,w,y,_,v,A,V,M;o._RF.push({},"58d34yHUJBMr6bNe9N2eji9","pageView_item",void 0);var z=a.ccclass,B=a.property,D=(e("pageView_item",(m=z("pageView_item"),g=B(l),w=B(u),y=B(p),m((A=t((v=function(e){function t(){for(var t,i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return t=e.call.apply(e,[this].concat(o))||this,r(t,"label",A,n(t)),r(t,"prefab1",V,n(t)),r(t,"prefab2",M,n(t)),t._holder=void 0,t}i(t,e);var o=t.prototype;return o.getPrefab=function(e){return 0==e.type?this.prefab1:this.prefab2},o.getView=function(){return new D(this)},o.getHolder=function(e,t){return new H(e,t,this)},o.show=function(e){this._holder=e,this.label.string=this._holder.data.name;for(var t=0;t<10;t++){var i={name:t+"",type:t%2};0==this._holder.data.type&&(i.wrapAfter=h.Nowrap,i.wrapBefore=t%2==1?h.Auto:h.Wrap),this.modelManager.insert(i)}},o.hide=function(){this.modelManager.clear()},t}(c)).prototype,"label",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=t(v.prototype,"prefab1",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=t(v.prototype,"prefab2",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=v))||_)),function(e){function t(){return e.apply(this,arguments)||this}i(t,e);var r=t.prototype;return r.initElement=function(e,t){t.wrapAfter&&(e.wrapAfterMode=t.wrapAfter,e.wrapBeforeMode=t.wrapBefore)},r.onVisible=function(){},r.onDisable=function(){},t}(f)),H=function(e){function t(){for(var t,i=arguments.length,r=new Array(i),n=0;n<i;n++)r[n]=arguments[n];return(t=e.call.apply(e,[this].concat(r))||this)._item=null,t}i(t,e);var r=t.prototype;return r.onCreated=function(){},r.onVisible=function(){0!=this.data.type?this._item=this.node.getComponent(d):this._item=this.node.getComponent(b),this._item.show(this)},r.onDisable=function(){this._item.hide()},t}(s);o._RF.pop()}}}));

System.register("chunks:///_virtual/pageView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Holder.ts","./ScrollAdapter.ts","./View.ts","./pageView_item.ts"],(function(e){"use strict";var t,n,i,r,o,a,c,l,u,s,p,f;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){o=e.cclegacy,a=e._decorator,c=e.Prefab,l=e.director},function(e){u=e.Holder},function(e){s=e.ScrollAdapter},function(e){p=e.View},function(e){f=e.pageView_item}],execute:function(){var h,g,b,w,y,d,m;o._RF.push({},"e19ce/HBJlJTqHa8oS0cj0o","pageView",void 0);var v=a.ccclass,V=a.property,P=(e("pageView",(h=v("pageView"),g=V(c),b=V(c),h((d=t((y=function(e){function t(){for(var t,n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return t=e.call.apply(e,[this].concat(o))||this,i(t,"prefab1",d,r(t)),i(t,"prefab2",m,r(t)),t}n(t,e);var o=t.prototype;return o.getPrefab=function(e){return 0==e.type?this.prefab1:this.prefab2},o.getHolder=function(e,t){return new _(e,t,this)},o.getView=function(){return new P(this)},o.home=function(){l.loadScene("home")},o.start=function(){for(var e=[],t=0;t<10;t++)e.push({name:"# "+t,type:t%2});this.modelManager.insert(e)},o.scrollToPrevPage=function(){this.pageViewManager.scrollToPrevPage()},o.scrollToNextPage=function(){this.pageViewManager.scrollToNextPage()},t}(s)).prototype,"prefab1",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=t(y.prototype,"prefab2",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=y))||w)),function(e){function t(){return e.apply(this,arguments)||this}n(t,e);var i=t.prototype;return i.initElement=function(e,t){},i.onVisible=function(){},i.onDisable=function(){},t}(p)),_=function(e){function t(){for(var t,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(t=e.call.apply(e,[this].concat(i))||this)._item=null,t}n(t,e);var i=t.prototype;return i.onCreated=function(){this._item=this.node.getComponent(f)},i.onVisible=function(){this._item.show(this)},i.onDisable=function(){this._item.hide()},t}(u);o._RF.pop()}}}));

System.register("chunks:///_virtual/PageViewManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Manager.ts","./enum.ts","./ScrollManager.ts","./ViewManager.ts"],(function(e){"use strict";var t,n,i,r,a,s,o,l,h,c,g;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,r=e.assertThisInitialized,a=e.createClass},function(e){s=e.cclegacy,o=e._decorator},function(e){l=e.Manager},function(e){h=e.AlwaysScroll},function(e){c=e.ScrollManager},function(e){g=e.ViewManager}],execute:function(){var u,d,_,p,f,b,E,O,T,v,L,S,N,P;s._RF.push({},"9a9b8/q4JFHHb650TtGE+gS","PageViewManager",void 0);var M,I=o.ccclass,x=o.property;!function(e){e[e.ON_PAGE_LENGTH_CHANGED=0]="ON_PAGE_LENGTH_CHANGED",e[e.ON_SCROLL_PAGE_BEFOR=1]="ON_SCROLL_PAGE_BEFOR",e[e.ON_SCROLL_PAGE_END=2]="ON_SCROLL_PAGE_END"}(M||(M={}));e("PageViewManager",(u=I("PageViewManager"),d=x("boolean"),_=x({range:[0,1],slide:!0,step:.01,visible:function(){return this.enabled}}),p=x({range:[0,1],slide:!0,step:.01,visible:function(){return this.enabled}}),f=x({visible:function(){return this.enabled}}),b=x({visible:function(){return this.enabled}}),u(((P=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return t=e.call.apply(e,[this].concat(a))||this,i(t,"_enabled",T,r(t)),i(t,"scrollThreshold",v,r(t)),i(t,"pageTurningEventTiming",L,r(t)),i(t,"autoPageTurningThreshold",S,r(t)),i(t,"pageTurningSpeed",N,r(t)),t._currentIndex=0,t}n(t,e);var s=t.prototype;return s.onInit=function(){this._register()},s._register=function(){this.adapter&&this.enabled&&(this.adapter.scrollManager.on(c.Event.ON_SCROLL_END,this._handleReleaseLogic,this),this.adapter.scrollManager.on(c.Event.ON_SCROLL_CANCEL,this._handleReleaseLogic,this),this.adapter.scrollManager.on(c.Event.ON_SCROLL_TO_OPTIONSINDEX_BEFOR,this._onScrollToIndex,this),this.adapter.viewManager.on(g.Event.ON_UPDATE_VIEWS,this._onUpdateViews,this,!0))},s._unregister=function(){this.adapter&&!this.enabled&&(this.adapter.scrollManager.off(c.Event.ON_SCROLL_END,this._handleReleaseLogic,this),this.adapter.scrollManager.off(c.Event.ON_SCROLL_CANCEL,this._handleReleaseLogic,this),this.adapter.scrollManager.off(c.Event.ON_SCROLL_TO_OPTIONSINDEX_BEFOR,this._onScrollToIndex,this),this.adapter.viewManager.off(g.Event.ON_UPDATE_VIEWS,this._onUpdateViews,this))},s.scrollToPage=function(e,t,n){t<0||t>=this.length||t==this.currentIndex&&0!=this.adapter.scrollManager.calcOffset()||(this.adapter.scrollManager.scrollToOptionsIndex(e,t,n),this.emit(M.ON_SCROLL_PAGE_BEFOR,t))},s.scrollToPrevPage=function(e,t){void 0===e&&(e=this.pageTurningSpeed),void 0===t&&(t=h.Header),0!=this._currentIndex?this.scrollToPage(e,this._currentIndex-1,t):this.adapter.viewManager.loopHeader&&this.scrollToPage(e,this.length-1,t)},s.scrollToNextPage=function(e,t){void 0===e&&(e=this.pageTurningSpeed),void 0===t&&(t=h.Footer),this._currentIndex>=this.length-1?this.adapter.viewManager.loopFooter&&this.scrollToPage(e,0,t):this.scrollToPage(e,this._currentIndex+1,t)},s._onUpdateViews=function(){this.emit(M.ON_PAGE_LENGTH_CHANGED),this._currentIndex=0,this.scrollToPage(this.pageTurningSpeed,this._currentIndex)},s._onScrollToIndex=function(e){this._currentIndex=e,this.emit(M.ON_SCROLL_PAGE_END,e)},s._handleReleaseLogic=function(e){if(this._enabled&&this.adapter.scrollManager.isMyEventAndMoved){var t=e.getUIStartLocation()[this.adapter.mainAxis]-e.getUILocation()[this.adapter.mainAxis],n=this._getNextIndex(t);this._isScrollable(t)||this._isQuicklyScrollable(this.adapter.scrollManager.velocity)?this.scrollToPage(this.pageTurningSpeed,n):this.scrollToPage(this.pageTurningSpeed,this._currentIndex)}},s._getNextIndex=function(e){var t=this._currentIndex;return this.adapter.isHorizontal?this.adapter.isArrangeAxisStart?e>0?t++:e<0&&t--:(e<0&&t++,e>0&&t--):this.adapter.isArrangeAxisStart?e<0?t++:e>0&&t--:e>0?t++:e<0&&t--,t>=this.length&&this.adapter.viewManager.loopFooter?t=0:t<0&&this.adapter.viewManager.loopHeader&&(t=this.length-1),(t<0||t>=this.length)&&(t=this._currentIndex),t},s._isScrollable=function(e){return Math.abs(e)>=this.adapter.mainAxisSize*this.scrollThreshold},s._isQuicklyScrollable=function(e){return Math.abs(e)>this.autoPageTurningThreshold},a(t,[{key:"enabled",get:function(){return this._enabled},set:function(e){e!=this._enabled&&(this._enabled=e,this._enabled?this._register():this._unregister())}},{key:"currentIndex",get:function(){return this._currentIndex}},{key:"length",get:function(){return this.adapter.viewManager.viewOptionsLength}}]),t}(l)).Event=M,T=t((O=P).prototype,"_enabled",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),t(O.prototype,"enabled",[d],Object.getOwnPropertyDescriptor(O.prototype,"enabled"),O.prototype),v=t(O.prototype,"scrollThreshold",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.5}}),L=t(O.prototype,"pageTurningEventTiming",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.1}}),S=t(O.prototype,"autoPageTurningThreshold",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 100}}),N=t(O.prototype,"pageTurningSpeed",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.3}}),E=O))||E));s._RF.pop()}}}));

System.register("chunks:///_virtual/ReleaseManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Manager.ts","./enum.ts","./ScrollManager.ts"],(function(t){"use strict";var e,i,s,a,n,r,o,l,h,p;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.createClass,s=t.inheritsLoose,a=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){r=t.cclegacy,o=t._decorator},function(t){l=t.Manager},function(t){h=t.ReleaseState},function(t){p=t.ScrollManager}],execute:function(){var _,u,c,d,f,g,L,b,v,S,E,m,R,w;r._RF.push({},"584779mBRhND6eHOQ3xrp/1","ReleaseManager",void 0);var y,M=o.ccclass,O=o.property;!function(t){t[t.ON_PULL_UP=0]="ON_PULL_UP",t[t.ON_PULL_DOWN=1]="ON_PULL_DOWN",t[t.ON_PULL_LEFT=2]="ON_PULL_LEFT",t[t.ON_PULL_RIGHT=3]="ON_PULL_RIGHT"}(y||(y={}));t("ReleaseManager",(_=M("ReleaseManager"),u=O("boolean"),c=O({range:[0,1],slide:!0,step:.01,visible:function(){return this.enabled}}),d=O({range:[0,1],slide:!0,step:.01,visible:function(){return this.enabled}}),f=O({range:[0,1],slide:!0,step:.01,visible:function(){return this.enabled}}),g=O({range:[0,1],slide:!0,step:.01,visible:function(){return this.enabled}}),_(((w=function(t){function e(){for(var e,i=arguments.length,s=new Array(i),r=0;r<i;r++)s[r]=arguments[r];return e=t.call.apply(t,[this].concat(s))||this,a(e,"_enabled",v,n(e)),a(e,"left",S,n(e)),a(e,"right",E,n(e)),a(e,"top",m,n(e)),a(e,"bottom",R,n(e)),e._pullUp=void 0,e._pullDown=void 0,e._pullLeft=void 0,e._pullRight=void 0,e}s(e,t);var r=e.prototype;return r.onInit=function(){this.enabled&&(this._pullUp=new U(this,y.ON_PULL_UP,this.bottom),this._pullDown=new U(this,y.ON_PULL_DOWN,this.top),this._pullLeft=new U(this,y.ON_PULL_LEFT,this.right),this._pullRight=new U(this,y.ON_PULL_RIGHT,this.left),this.adapter.scrollManager.on(p.Event.ON_SCROLL_START,this.onScrollStart,this),this.adapter.scrollManager.on(p.Event.ON_SCROLL_END,this.onScrollEnd,this),this.adapter.scrollManager.on(p.Event.ON_SCROLL_CANCEL,this.onScrollEnd,this),this.checkLoop(),console.log("release创建完成"))},r.checkLoop=function(){this.adapter.isHorizontal?this.adapter.isArrangeAxisStart?(this.left>0&&(this.adapter.viewManager.loopHeader=!1),this.right>0&&(this.adapter.viewManager.loopFooter=!1)):(this.left>0&&(this.adapter.viewManager.loopFooter=!1),this.right>0&&(this.adapter.viewManager.loopHeader=!1)):this.adapter.isArrangeAxisStart?(this.top>0&&(this.adapter.viewManager.loopHeader=!1),this.bottom>0&&(this.adapter.viewManager.loopFooter=!1)):(this.top>0&&(this.adapter.viewManager.loopFooter=!1),this.bottom>0&&(this.adapter.viewManager.loopHeader=!1))},r.onScrollStart=function(){this.adapter.isHorizontal?(this.left>0&&this._pullRight._setState(h.IDLE),this.right>0&&this._pullLeft._setState(h.IDLE)):(this.top>0&&this._pullDown._setState(h.IDLE),this.bottom>0&&this._pullUp._setState(h.IDLE))},r.onScrollEnd=function(){this.adapter.isHorizontal?(this.left>0&&this._pullRight._setState(h.RELEASE),this.right>0&&this._pullLeft._setState(h.RELEASE)):(this.top>0&&this._pullDown._setState(h.RELEASE),this.bottom>0&&this._pullUp._setState(h.RELEASE))},r.internal_lateUpdate=function(t){if(this.enabled){var e=this.adapter.scrollManager.boundaryOffset;this.adapter.scrollManager.dragging||(e=0),this.adapter.isHorizontal?(this.left>0&&this._pullRight._set(Math.max(-e,0),e<0),this.right>0&&this._pullLeft._set(Math.max(e,0),e>0)):(this.top>0&&this._pullDown._set(Math.max(e,0),e>0),this.bottom>0&&this._pullUp._set(Math.max(-e,0),e<0))}},i(e,[{key:"enabled",get:function(){return this._enabled},set:function(t){t!=this._enabled&&(this._enabled=t)}},{key:"max",get:function(){return this.enabled?this.adapter.isHorizontal?this._pullLeft?this._pullLeft.expand:0:this._pullDown?this._pullDown.expand:0:0}},{key:"min",get:function(){return this.enabled?this.adapter.isHorizontal?this._pullRight?this._pullRight.expand:0:this._pullUp?this._pullUp.expand:0:0}}]),e}(l)).Event=y,v=e((b=w).prototype,"_enabled",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),e(b.prototype,"enabled",[u],Object.getOwnPropertyDescriptor(b.prototype,"enabled"),b.prototype),S=e(b.prototype,"left",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),E=e(b.prototype,"right",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),m=e(b.prototype,"top",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),R=e(b.prototype,"bottom",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),L=b))||L));var U=t("ReleaseEvent",function(){function t(t,e,i){this._expand=0,this._progress=0,this._offset=0,this._state=void 0,this._defaultPercentage=void 0,this._manager=void 0,this._event=void 0,this._stop=void 0,this._defaultPercentage=i,this._manager=t,this._event=e}var e=t.prototype;return e._set=function(t,e){e&&(this._stop=!1),this._stop||(this._offset=t,this._progress=t/(this._defaultPercentage*this._manager.adapter.mainAxisSize),this._stop=this._offset<=.1,this._setState(h.PULL),this._manager.emit(this._event,this))},e._setState=function(t){this._state!=h.WAIT&&(t==h.PULL&&this._state==h.RELEASE||(this._state=t))},e.wait=function(t){void 0===t&&(t=this._defaultPercentage*this._manager.adapter.mainAxisSize),this._expand=t,this._state=h.WAIT},e.release=function(){this._expand=0,this._state=h.IDLE,this.offset<=.1&&(this._offset=0,this._progress=0,this._manager.emit(this._event,this))},i(t,[{key:"expand",get:function(){return this._expand}},{key:"progress",get:function(){return this._progress}},{key:"offset",get:function(){return this._offset}},{key:"state",get:function(){return this._state}}]),t}());r._RF.pop()}}}));

System.register("chunks:///_virtual/ScrollAdapter.ts",["./rollupPluginModLoBabelHelpers.js","cc","./enum.ts","./CenterManager.ts","./LayoutManager.ts","./ModelManager.ts","./PageViewManager.ts","./ReleaseManager.ts","./ScrollManager.ts","./ViewManager.ts"],(function(e){"use strict";var t,r,n,a,i,s,o,l,g,c,u,h,M,p,f,w,y;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,n=e.initializerDefineProperty,a=e.assertThisInitialized,i=e.createClass},function(e){s=e.cclegacy,o=e._decorator,l=e.Component},function(e){g=e.Orientation,c=e.ArrangeAxis},function(e){u=e.CenterManager},function(e){h=e.LayoutManager},function(e){M=e.ModelManager},function(e){p=e.PageViewManager},function(e){f=e.ReleaseManager},function(e){w=e.ScrollManager},function(e){y=e.ViewManager}],execute:function(){var A,d,v,m,_,b,x,S,z,V,k,P,H,C,U;s._RF.push({},"d5d1crBDMFIA4umJNt7GKmz","ScrollAdapter",void 0);var D=o.ccclass,F=o.property;e("ScrollAdapter",(A=D("ScrollAdapter"),d=F(w),v=F(y),m=F(h),_=F(p),b=F(f),x=F(u),A((V=t((z=function(e){function t(){for(var t,r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return t=e.call.apply(e,[this].concat(i))||this,n(t,"scrollManager",V,a(t)),n(t,"viewManager",k,a(t)),n(t,"layoutManager",P,a(t)),n(t,"pageViewManager",H,a(t)),n(t,"releaseManager",C,a(t)),n(t,"centerManager",U,a(t)),t.modelManager=new M,t}r(t,e);var s=t.prototype;return s.getParentAdapter=function(e){if(null!=e){var t=e.getComponent("ScrollAdapter");return t||this.getParentAdapter(e.parent)}},s.__preload=function(){this.scrollManager.internal_create(this),this.viewManager.internal_create(this),this.modelManager.internal_create(this),this.releaseManager.internal_create(this),this.layoutManager.internal_create(this),this.pageViewManager.internal_create(this),this.centerManager.internal_create(this),this.viewManager.internal_init(),this.releaseManager.internal_init(),this.layoutManager.internal_init(),this.pageViewManager.internal_init(),this.centerManager.internal_init(),this.scrollManager.internal_init(),this.modelManager.internal_init()},s.lateUpdate=function(e){this.scrollManager.internal_lateUpdate(e),this.viewManager.internal_lateUpdate(e),this.layoutManager.internal_lateUpdate(e),this.releaseManager.internal_lateUpdate(e)},i(t,[{key:"isVertical",get:function(){return this.scrollManager.orientation==g.Vertical}},{key:"isHorizontal",get:function(){return this.scrollManager.orientation==g.Horizontal}},{key:"isArrangeAxisStart",get:function(){return this.viewManager.arrangeAxis==c.Start}},{key:"mainAxis",get:function(){return this.isVertical?"y":"x"}},{key:"crossAxis",get:function(){return this.isVertical?"x":"y"}},{key:"mainAxisAnchorPoint",get:function(){var e=this.isVertical?1:0;return this.isArrangeAxisStart?e:1-e}},{key:"mainAxisSize",get:function(){return this.scrollManager.view.contentSize[this.mainAxis]}},{key:"crossAxisSize",get:function(){return this.scrollManager.view.contentSize[this.crossAxis]}},{key:"multiplier",get:function(){var e=this.isVertical?-1:1;return this.isArrangeAxisStart?-e:e}},{key:"paddingHeader",get:function(){return this.isHorizontal?this.isArrangeAxisStart?this.viewManager.left:this.viewManager.right:this.isArrangeAxisStart?this.viewManager.top:this.viewManager.bottom}},{key:"paddingFooter",get:function(){return this.isHorizontal?this.isArrangeAxisStart?this.viewManager.right:this.viewManager.left:this.isArrangeAxisStart?this.viewManager.bottom:this.viewManager.top}},{key:"mainAxisPadding",get:function(){return this.isHorizontal?this.viewManager.left+this.viewManager.right:this.viewManager.top+this.viewManager.bottom}}]),t}(l)).prototype,"scrollManager",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new w}}),k=t(z.prototype,"viewManager",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new y}}),P=t(z.prototype,"layoutManager",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new h}}),H=t(z.prototype,"pageViewManager",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new p}}),C=t(z.prototype,"releaseManager",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new f}}),U=t(z.prototype,"centerManager",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new u}}),S=z))||S));s._RF.pop()}}}));

System.register("chunks:///_virtual/Scrollbar.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ScrollAdapter.ts","./enum.ts","./helper.ts","./ScrollManager.ts"],(function(t){"use strict";var i,e,n,r,o,a,s,h,l,c,u,p,_,f,d,g,m,b,S,T,v,y;return{setters:[function(t){i=t.applyDecoratedDescriptor,e=t.inheritsLoose,n=t.initializerDefineProperty,r=t.assertThisInitialized,o=t.createClass},function(t){a=t.cclegacy,s=t._decorator,h=t.Color,l=t.Sprite,c=t.SpriteFrame,u=t.Node,p=t.v3,_=t.UITransform,f=t.Component,d=t.Vec2},function(t){g=t.ScrollAdapter},function(t){m=t.ScrollbarDirection,b=t.Transition,S=t.Orientation},function(t){T=t.Helper},function(t){v=t.ScrollManager,y=t.ADAPTER}],execute:function(){var E,w,H,z,C,M,O,A,L,x,R,U,G,D,I,N,k,P,V,F,B,j,K,W,q,J,Q,X,Y,Z,$,tt,it,et,nt,rt,ot,at,st,ht;a._RF.push({},"e7832mHcjNK2r9z66HM2mwU","Scrollbar",void 0);var lt=s.ccclass,ct=s.property,ut=new h;t("Scrollbar",(E=lt("Scrollbar"),w=ct(g),H=ct(l),z=ct({type:m,tooltip:"滚动方向"}),C=ct({tooltip:"开启后会允许用户滑动进度条"}),M=ct({range:[0,1],slide:!0,step:.001,visible:function(){return this.interactable},tooltip:"可拖拽的最小限制，默认=0不限制,仅当你开启了循环,并且你的item会实时修改主轴尺寸时,那么你应该适当限制拖拽区域"}),O=ct({range:[0,1],slide:!0,step:.001,visible:function(){return this.interactable},tooltip:"可拖拽的最大限制，默认=1不限制,仅当你开启了循环,并且你的item会实时修改主轴尺寸时,那么你应该适当限制拖拽区域"}),A=ct({type:b}),L=ct({type:b,visible:function(){return this.interactable}}),x=ct({type:l,visible:function(){return this.transition!=b.None&&this.interactable}}),R=ct({type:c,visible:function(){return this.transition==b.SpriteSwap&&this.interactable}}),U=ct({type:c,visible:function(){return this.transition==b.SpriteSwap&&this.interactable}}),G=ct({visible:function(){return this.transition==b.ColorTint&&this.interactable}}),D=ct({visible:function(){return this.transition==b.ColorTint&&this.interactable}}),I=ct({visible:function(){return this.transition==b.Scale&&this.interactable}}),N=ct({visible:function(){return this.transition==b.Scale&&this.interactable}}),k=ct({visible:function(){return this.transition==b.Scale||this.transition==b.ColorTint&&this.interactable}}),P=ct({range:[0,11],slide:!0,step:1,tooltip:"用于进度的步数。值为 < 2 将禁用"}),V=ct({tooltip:"开启后会在滚动条无更新时自动隐藏"}),F=ct({visible:function(){return this.enableAutoHide},tooltip:"自动隐藏滚动条的时间"}),E((K=i((j=function(t){function i(){for(var i,e=arguments.length,o=new Array(e),a=0;a<e;a++)o[a]=arguments[a];return i=t.call.apply(t,[this].concat(o))||this,n(i,"adapter",K,r(i)),n(i,"handle",W,r(i)),n(i,"direction",q,r(i)),n(i,"interactable",J,r(i)),n(i,"dragMinLimit",Q,r(i)),n(i,"dragMaxLimit",X,r(i)),n(i,"_transition",Y,r(i)),n(i,"targetGraphic",Z,r(i)),n(i,"hoverSprite",$,r(i)),n(i,"pressedSprite",tt,r(i)),n(i,"hoverColor",it,r(i)),n(i,"pressedColor",et,r(i)),n(i,"hoverScale",nt,r(i)),n(i,"pressedScale",rt,r(i)),n(i,"transitionDuration",ot,r(i)),n(i,"numberOfSteps",at,r(i)),n(i,"enableAutoHide",st,r(i)),n(i,"autoHideTime",ht,r(i)),i._transitionInfo=void 0,i._targetEnter=void 0,i._targetStart=void 0,i._isDirty=!1,i._transform=void 0,i._handleTransform=void 0,i._size=0,i._value=-1,i._pointerEvent=void 0,i._offset=void 0,i._isHide=void 0,i._opacity=255,i._autoHideRemainingTime=void 0,i._rawTargetScale=void 0,i._rawTargetFrame=void 0,i._rawTargetColor=void 0,i}e(i,t);var a=i.prototype;return a.__preload=function(){this.transform.setAnchorPoint(.5,.5),this.handleTransform.setAnchorPoint(.5,.5),this.handle.node.setPosition(0,0),this.adapter&&(this.adapter.scrollManager.on(v.Event.ON_UPDATE_PERCENTAGE,this._onUpdateScrollbar,this),this._updateVisuals()),this.targetGraphic&&(this._rawTargetScale=this.targetGraphic.node.getScale().clone(),this._rawTargetFrame=this.targetGraphic.spriteFrame,this._rawTargetColor=this.targetGraphic.color.clone()),this._openAutoHide(!0)},a.onEnable=function(){var t=this.node.getComponent(l);t&&(this._opacity=t.color.a),this.adapter&&(this.node[y]=!0,this.node.on(u.EventType.TOUCH_START,this._onTouchStart,this),this.node.on(u.EventType.TOUCH_MOVE,this._onTouchMove,this),this.node.on(u.EventType.TOUCH_END,this._onTouchEnd,this),this.node.on(u.EventType.TOUCH_CANCEL,this._onTouchEnd,this),this.node.on(u.EventType.MOUSE_ENTER,this._mouseEnter,this),this.node.on(u.EventType.MOUSE_LEAVE,this._mouseLeave,this),this.targetGraphic&&(this.targetGraphic.node.on(u.EventType.MOUSE_ENTER,this._targetMouseEnter,this),this.targetGraphic.node.on(u.EventType.MOUSE_LEAVE,this._targetMouseLeave,this)))},a.onDisable=function(){this.node.off(u.EventType.TOUCH_START,this._onTouchStart,this),this.node.off(u.EventType.TOUCH_MOVE,this._onTouchMove,this),this.node.off(u.EventType.TOUCH_END,this._onTouchEnd,this),this.node.off(u.EventType.TOUCH_CANCEL,this._onTouchEnd,this),this.node.off(u.EventType.MOUSE_ENTER,this._mouseEnter,this),this.node.off(u.EventType.MOUSE_LEAVE,this._mouseLeave,this),this.targetGraphic&&(this.targetGraphic.node.off(u.EventType.MOUSE_ENTER,this._targetMouseEnter,this),this.targetGraphic.node.off(u.EventType.MOUSE_LEAVE,this._targetMouseLeave,this))},a._targetMouseEnter=function(){switch(this._targetEnter=!0,this._openAutoHide(!1),this.transition){case b.Scale:this._transitionScale(this._targetStart?this.pressedScale:this.hoverScale);break;case b.SpriteSwap:this._transitionSprite(this._targetStart?this.pressedSprite:this.hoverSprite);break;case b.ColorTint:this._transitionColor(this._targetStart?this.pressedColor:this.hoverColor)}},a._targetMouseLeave=function(){switch(this._targetEnter=!1,this._openAutoHide(!0),this.transition){case b.Scale:this._transitionScale(this._targetStart?this.pressedScale:this._rawTargetScale);break;case b.SpriteSwap:this._transitionSprite(this._targetStart?this.pressedSprite:this._rawTargetFrame);break;case b.ColorTint:this._transitionColor(this._targetStart?this.pressedColor:this._rawTargetColor)}},a._transitionScale=function(t){t&&this.targetGraphic&&(this._transitionInfo={time:0,from:this.targetGraphic.node.getScale().clone(),to:t})},a._transitionColor=function(t){t&&this.targetGraphic&&(this._transitionInfo={time:0,from:this.targetGraphic.color,to:t})},a._transitionSprite=function(t){t&&this.targetGraphic&&(this.targetGraphic.spriteFrame=t)},a._mouseEnter=function(t){this.interactable&&this._openAutoHide(!1)},a._mouseLeave=function(t){this.interactable&&this._openAutoHide(!0)},a._openAutoHide=function(t){this.enableAutoHide&&(this._autoHideRemainingTime=this.autoHideTime,this._isHide=t,t||this._setOpacity(this._opacity))},a._onTouchStart=function(t){if(this.interactable&&1!=this.size&&0!=this.size){this._openAutoHide(!1),this._pointerEvent=null,this._targetStart=!0;var i=t.getUIStartLocation();if(this._offset=this.handleTransform.convertToNodeSpaceAR(p(i.x,i.y)),Math.abs(this._offset[this.xy])>.5*this.handleTransform[this.wh]){this._offset=null,this._pointerEvent=t;var e=this._calcPercentage(t);this._setPercentage(e)}this.transition==b.Scale?this._transitionScale(this.pressedScale):this.transition==b.SpriteSwap?this._transitionSprite(this.pressedSprite):this.transition==b.ColorTint&&this._transitionColor(this.pressedColor)}},a._onTouchMove=function(t){if(this.interactable&&1!=this.size&&0!=this.size&&this._offset){var i=this._calcPercentage(t,this._offset[this.xy]);this._setPercentage(i)}},a._onTouchEnd=function(t){if(this.interactable&&1!=this.size&&0!=this.size){switch(this._offset=null,this._pointerEvent=null,this._targetStart=!1,this.transition){case b.Scale:this._transitionScale(this._targetEnter?this.hoverScale:this._rawTargetScale);break;case b.SpriteSwap:this._transitionSprite(this._targetEnter?this.hoverSprite:this._rawTargetFrame);break;case b.ColorTint:this._transitionColor(this._targetEnter?this.hoverColor:this._rawTargetColor)}this.adapter.centerManager.scrollToCenter()}},a._setPercentage=function(t){this.adapter.scrollManager.stopScroll(),this.adapter.scrollManager.setPercentage(t)},a._calcPercentage=function(t,i){void 0===i&&(i=0);var e=(this.axis==S.Horizontal?this.transform.width:this.transform.height)*(1-this.size),n=t.getUILocation(),r=this.transform.convertToNodeSpaceAR(p(n.x,n.y))[this.xy]-i-.5*-this.transform[this.wh];r-=.5*this.handleTransform[this.wh];var o=this.adapter.scrollManager.percentage;switch(this.direction){case m.Right_To_Left:case m.Top_To_Bottom:o=T.clamp(1-r/e,this.dragMinLimit,this.dragMaxLimit);break;case m.Left_To_Right:case m.Bottom_To_Top:o=T.clamp(r/e,this.dragMinLimit,this.dragMaxLimit)}return this.getSteps(o)},a._onUpdateScrollbar=function(t,i){var e=0,n=0;this.adapter.viewManager.virtualSize>0&&(e=this.adapter.viewManager.virtualSize>=this.adapter.mainAxisSize?T.clamp01((this.adapter.mainAxisSize-Math.abs(i))/this.adapter.viewManager.virtualSize):1),n=t,this.size=e,this.numberOfSteps>1&&(n=Math.round(n*(this.numberOfSteps-1))/(this.numberOfSteps-1),n=T.clamp01(n)),this.value=n,this._autoHideRemainingTime=this.autoHideTime,this._setOpacity(this._opacity)},a._updateVisuals=function(){if(this.handleTransform&&this.adapter){var t={x:0,y:0},i={x:0,y:0},e=this.adapter.mainAxis,n=T.clamp01(this.value)*(1-this.size);t[e]=n,i[e]=n+this.size;var r=this.transform.contentSize[this.wh]-i[e]*this.transform.contentSize[this.wh],o=t[e]*this.transform.contentSize[this.wh],a=this.handle.node.getPosition();switch(this.direction){case m.Bottom_To_Top:case m.Left_To_Right:a[this.xy]=.5*(o-r);break;case m.Top_To_Bottom:case m.Right_To_Left:a[this.xy]=.5*(r-o)}this.handleTransform[this.wh]=this.transform.contentSize[this.wh]-r-o,this.handle.node.setPosition(a)}},a.update=function(t){this._clearDirty(),this._autoHide(t),this._tranitionHandler(t)},a._clearDirty=function(){if(this._isDirty&&(this._isDirty=!1,this._updateVisuals(),this._pointerEvent)){var t=this._pointerEvent.getUILocation();this._offset=this.handleTransform.convertToNodeSpaceAR(p(t.x,t.y)),this._pointerEvent=null}},a._autoHide=function(t){if(this.enableAutoHide&&this._isHide&&!(this._autoHideRemainingTime<=0)&&(this._autoHideRemainingTime-=t,this._autoHideRemainingTime<=this.autoHideTime)){this._autoHideRemainingTime=Math.max(0,this._autoHideRemainingTime);var i=this._opacity*(this._autoHideRemainingTime/this.autoHideTime);this._setOpacity(i)}},a._tranitionHandler=function(t){var i=this.targetGraphic;if(this.transition!=b.None&&i&&this._transitionInfo){this._transitionInfo.time+=t;var e=1;if(this.transitionDuration>0&&(e=this._transitionInfo.time/this.transitionDuration),e>=1&&(e=1),this.transition==b.Scale){this._transitionInfo.current=i.node.getScale();var n=this._transitionInfo.from,r=this._transitionInfo.to;this._transitionInfo.current.x=T.lerp(n.x,r.x,e),this._transitionInfo.current.y=T.lerp(n.y,r.y,e),i.node.setScale(this._transitionInfo.current)}else if(this.transition==b.ColorTint){var o=this._transitionInfo.from,a=this._transitionInfo.to;h.lerp(ut,o,a,e),i.color=ut}1===e&&(this._transitionInfo=null)}},a._setOpacity=function(t){if(this.handle){var i=function(i){i&&(ut.set(i.color),ut.a=t,i.color=ut)};i(this.node.getComponent(l)),i(this.handle.getComponent(l))}},a.getSteps=function(t){return this.numberOfSteps>1&&(t=Math.round(t*(this.numberOfSteps-1))/(this.numberOfSteps-1),t=T.clamp(t,this.dragMinLimit,this.dragMaxLimit)),t},o(i,[{key:"transition",get:function(){return this._transition},set:function(t){t!=this._transition&&(this._transition=t,t!=b.None&&(this.targetGraphic||(this.targetGraphic=this.handle)))}},{key:"size",get:function(){return this._size},set:function(t){t!=this._size&&(this._size=T.clamp(t,.01,1),this._isDirty=!0)}},{key:"value",get:function(){return this._value},set:function(t){t!=this._value&&(this._value=this.getSteps(t),this._isDirty=!0)}},{key:"stepSize",get:function(){return this.numberOfSteps>1?1/(this.numberOfSteps-1):.1}},{key:"transform",get:function(){return this._transform||(this._transform=this.node.getComponent(_)),this._transform}},{key:"handleTransform",get:function(){return this.handle?(this._handleTransform||(this._handleTransform=this.handle.node.getComponent(_)),this._handleTransform):null}},{key:"xy",get:function(){return this.axis==S.Horizontal?"x":"y"}},{key:"wh",get:function(){return this.axis==S.Horizontal?"width":"height"}},{key:"axis",get:function(){return this.direction==m.Left_To_Right||this.direction==m.Right_To_Left?S.Horizontal:S.Vertical}}]),i}(f)).prototype,"adapter",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),W=i(j.prototype,"handle",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),q=i(j.prototype,"direction",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return m.Top_To_Bottom}}),J=i(j.prototype,"interactable",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Q=i(j.prototype,"dragMinLimit",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),X=i(j.prototype,"dragMaxLimit",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),Y=i(j.prototype,"_transition",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return b.None}}),i(j.prototype,"transition",[L],Object.getOwnPropertyDescriptor(j.prototype,"transition"),j.prototype),Z=i(j.prototype,"targetGraphic",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),$=i(j.prototype,"hoverSprite",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),tt=i(j.prototype,"pressedSprite",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),it=i(j.prototype,"hoverColor",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return h.WHITE.clone()}}),et=i(j.prototype,"pressedColor",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new h(211,211,211,255)}}),nt=i(j.prototype,"hoverScale",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new d(1,1)}}),rt=i(j.prototype,"pressedScale",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new d(1.2,1.2)}}),ot=i(j.prototype,"transitionDuration",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.2}}),at=i(j.prototype,"numberOfSteps",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),st=i(j.prototype,"enableAutoHide",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ht=i(j.prototype,"autoHideTime",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),B=j))||B));a._RF.pop()}}}));

System.register("chunks:///_virtual/ScrollManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Manager.ts","./debug.ts","./enum.ts","./helper.ts","./ViewManager.ts"],(function(t){"use strict";var e,i,n,a,r,o,s,h,c,l,_,d,u,p,g,v,f,O,E,y,T,M,A;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,a=t.assertThisInitialized,r=t.createClass},function(t){o=t.cclegacy,s=t._decorator,h=t.Vec3,c=t.UITransform,l=t.Node,_=t.Widget,d=t.EventTouch,u=t.macro,p=t.easing},function(t){g=t.Manager},null,function(t){v=t.Orientation,f=t.TouchMode,O=t.MovementType,E=t.NestedDirection,y=t.ScrollDirection,T=t.Layer},function(t){M=t.Helper},function(t){A=t.ViewManager}],execute:function(){var S,m,w,P,b,C,N,L,x,D,H,R,I,z,k,U,V,B,F,G,X,W,Z,j,q,Y,K,J,Q,$;o._RF.push({},"6000cNyEYlC4aj/Efw70/yK","ScrollManager",void 0);var tt,et=s.ccclass,it=s.property,nt=new h,at=t("ADAPTER","__ADAPTER__");!function(t){t[t.ON_SCROLL=0]="ON_SCROLL",t[t.ON_UPDATE_PERCENTAGE=1]="ON_UPDATE_PERCENTAGE",t[t.ON_VIEW_SIZE_CHANGED=2]="ON_VIEW_SIZE_CHANGED",t[t.ON_ABOUT_TO_STOP=3]="ON_ABOUT_TO_STOP",t[t.ON_SCROLL_START=4]="ON_SCROLL_START",t[t.ON_SCROLL_END=5]="ON_SCROLL_END",t[t.ON_SCROLL_CANCEL=6]="ON_SCROLL_CANCEL",t[t.ON_CHANGED_ORIENTATION=7]="ON_CHANGED_ORIENTATION",t[t.ON_SCROLL_TO_OPTIONSINDEX_BEFOR=8]="ON_SCROLL_TO_OPTIONSINDEX_BEFOR",t[t.ON_SCROLL_TO_OPTIONSINDEX_AFTER=9]="ON_SCROLL_TO_OPTIONSINDEX_AFTER",t[t.ON_SCROLL_TO_MODELINDEX_BEFOR=10]="ON_SCROLL_TO_MODELINDEX_BEFOR",t[t.ON_SCROLL_TO_MODELINDEX_AFTER=11]="ON_SCROLL_TO_MODELINDEX_AFTER"}(tt||(tt={}));t("ScrollManager",(S=et("ScrollManager"),m=it(c),w=it(c),P=it(c),b=it(c),C=it({type:v}),N=it({type:v}),L=it({type:f}),x=it({type:O}),D=it({range:[0,1],slide:!0,step:.001,visible:function(){return this.movementType==O.Elastic}}),H=it({range:[0,1],slide:!0,step:.001,visible:function(){return this.inertia}}),R=it({tooltip:"当滚动速度小于这个值时，会发送ON_ABOUT_TO_STOP广播"}),I=it({tooltip:"取消子节点的Button点击事件"}),z=it({range:[0,.5],slide:!0,step:.001,visible:function(){return this.inertia}}),k=it({range:[.5,1],slide:!0,step:.001,visible:function(){return this.inertia}}),S((($=function(t){function e(){for(var e,i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return e=t.call.apply(t,[this].concat(r))||this,n(e,"_view",B,a(e)),n(e,"_content",F,a(e)),n(e,"_orientation",G,a(e)),n(e,"touchMode",X,a(e)),n(e,"movementType",W,a(e)),n(e,"elasticity",Z,a(e)),n(e,"inertia",j,a(e)),n(e,"decelerationRate",q,a(e)),n(e,"aboutToStopVelocity",Y,a(e)),n(e,"cancelInnerEvents",K,a(e)),n(e,"nestedMinThreshold",J,a(e)),n(e,"nestedMaxThreshold",Q,a(e)),e.__debug_graphics=void 0,e._boundaryOffset=0,e._viewWidget=null,e._parentAdapter=void 0,e._layerLowest=void 0,e._layerMedium=void 0,e._layerHighest=void 0,e._percentage=0,e._velocity=0,e._dragging=!1,e._scrolling=!1,e._isCanceledEvent=!1,e._contentStartPosition=new h,e._prevContentPosition=new h,e._nestedDirection=E.Both,e._parentTouch=!1,e._stopCheckNested=!1,e._scrollHandlePercentage=null,e._scrollHandlePosition=null,e._isEmitAboutToStop=!1,e._isMyEventAndMoved=!1,e._scrollDirection=y.None,e._laseScrollDirection=y.None,e._touchEvent=null,e.test=!1,e}i(e,t);var o=e.prototype;return o.onInit=function(){var t=this;this._initView(),this._initContent(),this._parentAdapter=this.adapter.getParentAdapter(this.adapter.node.parent),this.view.node[at]=!0,this.adapter.viewManager.on(A.Event.ON_UPDATE_VIEWS,this._onUpdateViews,this),this.adapter.viewManager.on(A.Event.ON_CHANGED_VIRTUALSIZE,this._onChangedVirtualSize,this),this.adapter.viewManager.on(A.Event.ON_CHANGED_OVERFLOWHEADER,this._onChangedOverflowHeader,this),this.adapter.viewManager.on(A.Event.ON_RESET_ALL_STATE,this._onResetAllState,this),this.adapter.viewManager.on(A.Event.ON_CLEARVIEWS,this._onResetAllState,this),this.adapter.node.on(l.EventType.SIZE_CHANGED,this._onAdapterSizeChanged,this),this.view.node.on(l.EventType.SIZE_CHANGED,this._onViewSizeChanged,this),this._registerTouchEvent(),this.view.scheduleOnce((function(){t._updatePercentage()})),this.__createDebug()},o._initView=function(){if(!this.view)throw Error("ScrollManager view 参数为空！");var t={x:.5,y:.5};t[this.adapter.mainAxis]=this.adapter.mainAxisAnchorPoint,this.view.setAnchorPoint(t.x,t.y);var e=this.view.getComponent(_);e||((e=this.view.addComponent(_)).isAlignLeft=e.isAlignRight=e.isAlignTop=e.isAlignBottom=!0,e.left=e.right=e.top=e.bottom=0),e.updateAlignment(),this._viewWidget=e},o.__createDebug=function(){},o.__drawDebug=function(){if(this.__debug_graphics){this.__debug_graphics.clear();var t=this.adapter.mainAxis,e=this.adapter.crossAxis,i=this.adapter.multiplier,n={x:0,y:0},a={x:0,y:0};a[t]=this.adapter.viewManager.virtualSize,a[e]=this.adapter.crossAxisSize,n[t]=this.contentPosition-a[t]*this.content.anchorPoint[t]*i,n[t]+=this.adapter.viewManager.overflowHeader,n[e]-=a[e]*this.view.anchorPoint[e],this.__debug_graphics.fillRect(n.x,n.y,a.x,a.y),this.__debug_graphics.stroke()}},o._initContent=function(){if(!this.content)throw Error("ScrollManager content 参数为空！");this.content.setAnchorPoint(this.view.anchorPoint);var t={x:0,y:0};t[this.adapter.crossAxis]=this.view.contentSize[this.adapter.crossAxis],this.content.setContentSize(t.x,t.y),this._layerLowest||(this._layerLowest=new l("_layerLowest"),this._layerMedium=new l("_layerMedium"),this._layerHighest=new l("_layerHighest"),this.content.node.addChild(this._layerLowest),this.content.node.addChild(this._layerMedium),this.content.node.addChild(this._layerHighest)),this._updateContentPosition({x:0,y:0})},o._registerTouchEvent=function(){this.view.node.on(l.EventType.TOUCH_START,this._onTouchStart,this,!0),this.view.node.on(l.EventType.TOUCH_END,this._onTouchEnd,this,!0),this.view.node.on(l.EventType.TOUCH_CANCEL,this._onTouchCancel,this,!0),this.view.node.on(l.EventType.TOUCH_MOVE,this._onTouchMove,this,!0)},o._bubbleToParent=function(t){this._parentAdapter&&this._parentAdapter.scrollManager.view.node.dispatchEvent(t)},o._emitCancelEvent=function(t){if(!this._isCanceledEvent){var e=t.getUILocation();e.subtract(t.getUIStartLocation()),this.cancelInnerEvents&&e.length()>7&&t.target!==this.view.node&&(this._simulateEvent(t,l.EventType.MOUSE_LEAVE),this._simulateEvent(t,l.EventType.TOUCH_CANCEL),this._isCanceledEvent=!0)}},o._simulateEvent=function(t,e,i){if(void 0===i&&(i=!0),t){var n=new d(t.getTouches(),t.bubbles,e),a=t.target;n.type=e,n.touch=t.touch,n.simulate=i,a.dispatchEvent(n)}},o._onUpdateViews=function(){this._velocity=0,this._updatePercentage()},o._onChangedVirtualSize=function(){this._updatePercentage(),null!=this._scrollHandlePosition&&null!=this._scrollHandlePosition.change&&this._scrollHandlePosition.change()},o._onChangedOverflowHeader=function(t){this.__drawDebug()},o._onResetAllState=function(){this._velocity=0,this._scrolling=!1,this._dragging=!1,this._isMyEventAndMoved=!1,this._scrollDirection=y.None,this._percentage=0,this._isEmitAboutToStop=!1,this._boundaryOffset=0,this._isCanceledEvent=!1,this._parentTouch=!1,this._stopCheckNested=!1,this._scrollDirection=y.None,this._touchEvent=null,this.stopScroll(),this._initView(),this._initContent()},o._onAdapterSizeChanged=function(){this._viewWidget.updateAlignment()},o._onViewSizeChanged=function(){this.emit(tt.ON_VIEW_SIZE_CHANGED)},o._isMyEvent=function(t,e){return t.eventPhase==d.AT_TARGET||!e||e[0]==this.view.node&&!t.target[at]},o._onTouchStart=function(t,e){this._velocity=0,this._dragging=!0,this._isMyEventAndMoved=!1,this._isCanceledEvent=!1,this._parentTouch=!1,this._stopCheckNested=!1,this._isEmitAboutToStop=!1,this._scrollDirection=y.None,this._contentStartPosition.set(this.content.node.position),this._touchEvent=t,this.stopScroll(),this._calcNestedDirection(),this.emit(tt.ON_SCROLL_START)},o._onTouchEnd=function(t,e){this._dragging=!1,this._touchEvent=null,this.emit(tt.ON_SCROLL_END,t)},o._onTouchCancel=function(t,e){t.simulate||(this._dragging=!1,this._touchEvent=null,this.emit(tt.ON_SCROLL_CANCEL,t))},o._onTouchMove=function(t,e){if(this._isMyEvent(t,e)){if(this._emitCancelEvent(t),this._parentTouch||!this.canTouch)return this._bubbleToParent(t);if(this._touchEvent){var i=this.adapter.mainAxis,n=t.getUILocation(),a=t.getUIStartLocation(),r=n.subtract(a);if(!r.equals2f(0,0)){var o={x:0,y:0};o[i]=this._contentStartPosition[i]+r[i];var s=o[i]-this.contentPosition,h=this.calcOffset(s),c=this.adapter.isHorizontal?-1:1;o[i]+=c*h,this.movementType==O.Elastic&&0!=h&&(o[i]-=c*this._rubberDelta(h,this.adapter.mainAxisSize)),this._checkNested(t,o,this._parentAdapter),this._parentTouch?this._bubbleToParent(t):(this._isMyEventAndMoved=!0,this._updateContentPosition(o))}}}},o._calcNestedDirection=function(){this._parentAdapter&&(this.percentage<=this.nestedMinThreshold?this._nestedDirection=1==this.adapter.multiplier?E.Footer:E.Header:this.percentage>=this.nestedMaxThreshold?this._nestedDirection=1==this.adapter.multiplier?E.Header:E.Footer:this._nestedDirection=E.Both)},o._checkNested=function(t,e,i){if(i&&!this._stopCheckNested){if(this.orientation==i.scrollManager.orientation){var n=e[this.adapter.mainAxis]-this._contentStartPosition[this.adapter.mainAxis];if(Math.abs(n)<=.1)return;this._nestedDirection==E.Footer?n<0&&(this._parentTouch=!0):this._nestedDirection==E.Header&&n>0&&(this._parentTouch=!0)}else{var a=0,r=0;if(t instanceof d){var o=t.getUIStartLocation(),s=t.getUILocation();a=Math.abs(o.x-s.x),r=Math.abs(o.y-s.y)}else a=Math.abs(t.getScrollX()),r=Math.abs(t.getScrollY());if(a==r)return;a>r?this.adapter.isVertical&&(this._parentTouch=!0):r>a&&this.adapter.isHorizontal&&(this._parentTouch=!0)}if(!this._parentTouch&&i.scrollManager.parentAdapter)return this._checkNested(t,e,i.scrollManager.parentAdapter);this._stopCheckNested=!0}},o._updateContentPosition=function(t,e){void 0===e&&(e=!0),this._updateScrollDirection(t),this.content.node.setPosition(t.x,t.y),this.emit(tt.ON_SCROLL,this._scrollDirection),e&&this._updatePercentage(),this.__drawDebug()},o._updatePrevContentPosition=function(){this._prevContentPosition.set(this.content.node.position)},o._calcPercentage=function(t,e){var i=this.internal_getHiddenSize(),n=this.adapter.viewManager.loopHeader,a=this.adapter.viewManager.loopFooter,r=this.adapter.multiplier,o=this.adapter.viewManager.overflowHeader,s=t*r;if(this.adapter.isHorizontal?s-=e*r:s+=e*r,a)s+=(o+(i+=this.adapter.viewManager.spacing)*r)*r,this.adapter.centerManager.enabled?s+=this.adapter.centerManager.getContainerOffset():s+=this.adapter.paddingHeader,s+=1,s%=i;else if(n){s+=this.adapter.mainAxisSize-1,this.adapter.centerManager.enabled?s-=this.adapter.centerManager.getContainerOffset():s-=this.adapter.paddingFooter,s+=(o+i*r)*r,t*-r>o*r&&(s+=this.adapter.viewManager.spacing),s%=i}else s+=o*r,this.adapter.centerManager.enabled?s+=this.adapter.centerManager.getContainerOffset():s+=this.adapter.paddingHeader,s>i&&(s=i);return s/i},o._updatePercentage=function(){var t=this.calcOffset();this.adapter.viewManager.virtualSize<=this.adapter.mainAxisSize?this._percentage=0:this._percentage=this._calcPercentage(this.contentPosition,t),this.emit(tt.ON_UPDATE_PERCENTAGE,this._percentage,t)},o.internal_disableTouchTarget=function(t){if(this._touchEvent&&this._touchEvent.target.uuid==t.uuid){var e=this._touchEvent;this._simulateEvent(e,l.EventType.TOUCH_CANCEL,!1),this._simulateEvent(e,l.EventType.MOUSE_LEAVE,!1),this._touchEvent=null}},o.internal_getHiddenSize=function(){var t=this.adapter.viewManager.loopHeader,e=this.adapter.viewManager.loopFooter,i=this.adapter.viewManager.virtualSize;return t||e||this.adapter.centerManager.enabled||(i-=this.adapter.mainAxisSize,i+=this.adapter.mainAxisPadding),i},o._getContentMinBoundaryOffset=function(t,e){return!this.adapter.viewManager.header||!this.adapter.centerManager.enabled&&this.adapter.viewManager.virtualSize<=this.adapter.mainAxisSize?this.adapter.isHorizontal?e+this._defaultMax+t:e+this._defaultMin+t:this.adapter.viewManager.min+t},o._getContentMaxBoundaryOffset=function(t,e){return!this.adapter.viewManager.header||!this.adapter.centerManager.enabled&&this.adapter.viewManager.virtualSize<=this.adapter.mainAxisSize?this.adapter.isHorizontal?e+this._defaultMin+t:e+this._defaultMax+t:this.adapter.viewManager.max+t},o._getMaxBoundaryOffset=function(t){var e=this._viewMax;return this.adapter.isHorizontal?this.adapter.isArrangeAxisStart?t:e+t:this.adapter.isArrangeAxisStart?-t:e-t},o._getMinBoundaryOffset=function(t){var e=this._viewMin;return this.adapter.isHorizontal?this.adapter.isArrangeAxisStart?e+t:t:this.adapter.isArrangeAxisStart?e-t:-t},o._rubberDelta=function(t,e){return(1-1/(.55*Math.abs(t)/e+1))*e*Math.sign(t)},o._calcElastic=function(t,e,i){var n=this.adapter.mainAxis,a=this.elasticity;this._scrolling&&(a*=3);var r=this.adapter.isHorizontal?-1:1,o=M.smoothDamp(this.contentPosition,this.contentPosition+r*e,this._velocity,a,M.Infinity,t),s=o.velocity,h=o.position;Math.abs(s)<1&&(s=0),this._velocity=s,i[n]=h},o._calcInertia=function(t,e){this._velocity*=Math.pow(this.decelerationRate,t),Math.abs(this._velocity)<1&&(this._velocity=0),e[this.adapter.mainAxis]+=this._velocity*t},o._calcClamped=function(t){var e=this.adapter.mainAxis,i=t[e]-this.contentPosition,n=this.calcOffset(i);this.adapter.isHorizontal?t[e]-=n:t[e]+=n},o._updateScrollDirection=function(t){var e=t[this.adapter.mainAxis]-this.contentPosition;0!=e?(this.adapter.isHorizontal?this._scrollDirection=e>0?y.Right:y.Left:this._scrollDirection=e>0?y.Up:y.Down,this._laseScrollDirection=this._scrollDirection):this._scrollDirection=y.None},o.internal_setContentPosition=function(t,e){void 0===e&&(e=!0);var i={x:0,y:0};i[this.adapter.mainAxis]=t,this._updateContentPosition(i,e)},o.internal_lateUpdate=function(t){this.test||(this._autoScrolling(t),this._scrollHandler(t,this._scrollHandlePosition,this._scrollPositionHandler.bind(this)),this._scrollHandler(t,this._scrollHandlePercentage,this._scrollPercentageHandler.bind(this)))},o._autoScrolling=function(t){var e=this.calcOffset();if(this._boundaryOffset=e,this._dragging||0==e&&0==this._velocity||(this.content.node.getPosition(nt),this.movementType==O.Elastic&&0!=e?this._calcElastic(t,e,nt):this.inertia?this._calcInertia(t,nt):this._velocity=0,this.movementType==O.Clamped&&this._calcClamped(nt),this._updateContentPosition(nt)),this._dragging&&this.inertia){var i=(this.contentPosition-this._prevContentPosition[this.adapter.mainAxis])/t;this._velocity=M.lerp(this._velocity,i,10*t)}this._prevContentPosition.equals(this.content.node.position)||this._updatePrevContentPosition(),!this._isEmitAboutToStop&&!this._dragging&&Math.abs(this._velocity)<=this.aboutToStopVelocity&&(this._scrollHandlePercentage||this._scrollHandlePosition||(this.emit(tt.ON_ABOUT_TO_STOP,this._velocity),this._isEmitAboutToStop=!0)),this._scrolling=!1},o._scrollHandler=function(t,e,i){if(null!=e){e.deltaTime+=t;var n=e.deltaTime/(e.duration>u.FLT_EPSILON?e.duration:u.FLT_EPSILON);n=M.clamp01(n);var a=p.quintOut(n);e.current=M.progress(e.from,e.to,e.current,a),i(e,n)}},o._scrollPercentageHandler=function(t,e){var i=this.percentage;if(this.setPercentage(t.current),1==e||i==this.percentage){var n=!0;this._scrollHandlePercentage.stop&&(n=this._scrollHandlePercentage.stop()),n&&(this._scrollHandlePercentage=null)}},o._scrollPositionHandler=function(t,e){var i={x:0,y:0};i[this.adapter.mainAxis]=t.current,this._setAutoScroll(i),(1==e||M.approximately(this.contentPosition,t.to))&&(this._scrollHandlePosition.stop&&this._scrollHandlePosition.stop(),this._scrollHandlePosition=null)},o._setAutoScroll=function(t){var e=this,i=function(t){e._updateContentPosition(t),e._updatePrevContentPosition(),e._velocity=0};i(t);var n=this.calcOffset();if(0!=n){var a=this.adapter.isHorizontal?-1:1;return t[this.adapter.mainAxis]+=n*a,i(t),!1}return!0},o._scrollToPosition=function(t,e,i){var n=this;if(!this.canAutoScroll)return!1;var a=e();return!(null==a||Math.abs(this.contentPosition-a)<u.FLT_EPSILON)&&(this._scrollHandlePercentage=null,this._scrollHandlePosition={current:0,from:this.contentPosition,to:a,deltaTime:0,duration:Math.max(0,t),change:function(){a=e(),n._scrollHandlePosition.to=a},stop:function(){i()}},!0)},o.getLayerNode=function(t){switch(t){case T.Medium:return this._layerMedium;case T.Highest:return this._layerHighest;default:return this._layerLowest}},o.scrollToModelIndex=function(t,e,i){var n=this,a=this.adapter.viewManager.getOptionsIndexByModelIndex(e);if(-1!=a){var r=!1;this._scrollToPosition(t,(function(){var t=n.adapter.centerManager.getPositionByOptionsIndex(a,i,r);return r=!0,t}),(function(){n.emit(tt.ON_SCROLL_TO_MODELINDEX_AFTER,e)}))&&this.emit(tt.ON_SCROLL_TO_MODELINDEX_BEFOR,e)}},o.scrollToOptionsIndex=function(t,e,i){var n=this,a=!1;this._scrollToPosition(t,(function(){var t=n.adapter.centerManager.getPositionByOptionsIndex(e,i,a);return a=!0,t}),(function(){n.emit(tt.ON_SCROLL_TO_OPTIONSINDEX_AFTER,e)}))&&this.emit(tt.ON_SCROLL_TO_OPTIONSINDEX_BEFOR,e)},o.scrollToHeader=function(t){this.scrollToOptionsIndex(t,0)},o.scrollToFooter=function(t){this.scrollToOptionsIndex(t,this.adapter.viewManager.viewOptionsLength-1)},o.scrollToPercentage=function(t,e){if(!this.canAutoScroll)return!1;Math.abs(this._percentage-e)<.001||(e=M.clamp01(e),t=Math.max(0,t),this._scrollHandlePercentage=null,this._scrollHandlePercentage={deltaTime:0,duration:t,current:0,from:this._percentage,to:e},console.log("from",this._scrollHandlePercentage.from,"to",this._scrollHandlePercentage.to))},o.stopScroll=function(){this._scrollHandlePosition=null,this._scrollHandlePercentage=null,this._velocity=0},o.setPercentage=function(t){for(var e=this.internal_getHiddenSize(),i={x:0,y:0},n=0,a=null;n<100;){n++;var r=this._percentage-t;if(null!=a&&this._percentage===a)break;if(Math.abs(r)<u.FLT_EPSILON)break;a=this._percentage;var o=this.contentPosition-r*this.adapter.multiplier*e;if(i[this.adapter.mainAxis]=o,!this._setAutoScroll(i))break}100==n&&console.warn("循环次数已达最大值，尽量不要在滚动过程中频繁修改尺寸")},o.calcOffset=function(t,e){void 0===t&&(t=0),void 0===e&&(e=this.contentPosition);var i=0;if(this.movementType==O.Unrestricted)return i;var n=this._getContentMaxBoundaryOffset(t,e),a=this._getContentMinBoundaryOffset(t,e),r=this._getMaxBoundaryOffset(n),o=this._getMinBoundaryOffset(a);!this.adapter.centerManager.enabled&&this.adapter.viewManager.virtualSize>this.adapter.mainAxisSize&&(this.adapter.isVertical?(r-=this.adapter.viewManager.top,o+=this.adapter.viewManager.bottom):(r-=this.adapter.viewManager.left,o+=this.adapter.viewManager.right));var s=0,h=0;if(this.adapter.centerManager.enabled&&this.adapter.viewManager.viewOptionsLength>0)h=this.adapter.centerManager.max,s=this.adapter.centerManager.min;else{var c=this.adapter.viewManager.magneticOffset;r-=c,o-=c}return this.adapter.releaseManager.enabled&&(h=Math.max(h,this.adapter.releaseManager.max),s=Math.max(s,this.adapter.releaseManager.min)),r-=h,(o+=s)<-.001?i=o:r>.001&&(i=r),i},r(e,[{key:"view",get:function(){return this._view},set:function(t){this._view=t}},{key:"content",get:function(){return this._content},set:function(t){this._content=t}},{key:"orientation",get:function(){return this._orientation},set:function(t){t!=this._orientation&&(this._orientation=t,this.emit(tt.ON_CHANGED_ORIENTATION))}},{key:"_viewMin",get:function(){return-this.adapter.mainAxisSize}},{key:"_viewMax",get:function(){return this.adapter.mainAxisSize}},{key:"_defaultMin",get:function(){return 1==this.adapter.multiplier?-this.adapter.mainAxisSize:0}},{key:"_defaultMax",get:function(){return 1==this.adapter.multiplier?0:this.adapter.mainAxisSize}},{key:"isMyEventAndMoved",get:function(){return this._isMyEventAndMoved}},{key:"velocity",get:function(){return this._velocity}},{key:"scrollDirection",get:function(){return this._scrollDirection}},{key:"laseScrollDirection",get:function(){return this._laseScrollDirection}},{key:"percentage",get:function(){return this._percentage}},{key:"dragging",get:function(){return this._dragging}},{key:"boundaryOffset",get:function(){return this._boundaryOffset}},{key:"parentAdapter",get:function(){return this._parentAdapter}},{key:"canAutoScroll",get:function(){return!this.dragging&&this.adapter.viewManager.virtualSize>this.adapter.mainAxisSize}},{key:"canTouch",get:function(){return this.touchMode==f.AlwaysAllow||this.touchMode!=f.Disabled&&(!!this.adapter.centerManager.enabled||(!!this.adapter.releaseManager.enabled||this.adapter.viewManager.virtualSize>this.adapter.mainAxisSize))}},{key:"contentPosition",get:function(){return this.content.node.position[this.adapter.mainAxis]}}]),e}(g)).Event=tt,B=e((V=$).prototype,"_view",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),e(V.prototype,"view",[w],Object.getOwnPropertyDescriptor(V.prototype,"view"),V.prototype),F=e(V.prototype,"_content",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),e(V.prototype,"content",[b],Object.getOwnPropertyDescriptor(V.prototype,"content"),V.prototype),G=e(V.prototype,"_orientation",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return v.Vertical}}),e(V.prototype,"orientation",[N],Object.getOwnPropertyDescriptor(V.prototype,"orientation"),V.prototype),X=e(V.prototype,"touchMode",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return f.Auto}}),W=e(V.prototype,"movementType",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return O.Elastic}}),Z=e(V.prototype,"elasticity",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.1}}),j=e(V.prototype,"inertia",[it],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),q=e(V.prototype,"decelerationRate",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.135}}),Y=e(V.prototype,"aboutToStopVelocity",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 100}}),K=e(V.prototype,"cancelInnerEvents",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),J=e(V.prototype,"nestedMinThreshold",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.001}}),Q=e(V.prototype,"nestedMaxThreshold",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.999}}),U=V))||U));o._RF.pop()}}}));

System.register("chunks:///_virtual/View.ts",["./rollupPluginModLoBabelHelpers.js","cc","./debug.ts","./enum.ts","./helper.ts","./LayoutManager.ts","./ViewManager.ts"],(function(t){"use strict";var e,i,a,n,s,r,o,h,d,l,u;return{setters:[function(t){e=t.createClass},function(t){i=t.cclegacy,a=t._decorator,n=t.Node,s=t.UITransform},function(t){r=t.DEBUG_DRAW_LIND_WIDTH},function(t){o=t.WrapMode,h=t.Layer},function(t){d=t.Helper},function(t){l=t.LayoutManager},function(t){u=t.ViewManager}],execute:function(){var p;i._RF.push({},"20c27Yt8z5L9bZJqa8MgjS3","View",void 0);var f=a.ccclass;a.property,t("View",f("View")(p=function(){function t(t){this.__debug_graphics=void 0,this._adapter=void 0,this._total=0,this._innerSize=0,this._options=null,this._holderList=[],this._mainAxisOffset=0,this._isOverflowFixed=void 0,this._adapter=t,this.internal_reset(),this.__createDebug()}var i=t.prototype;return i.__createDebug=function(){},i.__drawDebug=function(){if(this.__debug_graphics&&this.options){this.__debug_graphics.clear();var t=this.adapter.mainAxis,e=this.adapter.crossAxis,i={x:0,y:0},a={x:this.options.size.x,y:this.options.size.y},n={x:this.options.anchorPoint.x,y:this.options.anchorPoint.y};i[t]=this.options.position[t]-a[t]*n[t],i[t]+=.5*r,i[e]=this.options.position[e]-a[e]*(1-n[e]),i[e]+=.5*r,a[t]-=r,a[e]-=r,this.__debug_graphics.roundRect(i.x,i.y,a.x,a.y,2),this.__debug_graphics.stroke()}},i.getFixedHolders=function(){if(!this.options.isFixed)return[];for(var t=[],e=this.holderList.length,i=0;i<e;i++){var a=this.holderList[i];a.feature.element.fixed&&t.push(a)}return t},i.internal_initFeature=function(t){var e=!1;if(null==t.code){var i=this.adapter.getPrefab(t.data);if(!i)throw Error("预制体不能为空");if(i instanceof n){var a=i.getComponent(s);t.code=i.uuid,t.size={x:a.width,y:a.height},t.scale={x:a.node.scale.x,y:a.node.scale.y},t.anchorPoint={x:a.anchorPoint.x,y:a.anchorPoint.y}}else{var r=i.data.getComponent(s);t.code=i.data._prefab.fileId,t.size={x:r.width,y:r.height},t.scale={x:r.node.scale.x,y:r.node.scale.y},t.anchorPoint={x:r.anchorPoint.x,y:r.anchorPoint.y}}t.element={wrapBeforeMode:o.Wrap,wrapAfterMode:o.Nowrap,ignoreLayout:!1,minSize:{x:0,y:0},preferredSize:{x:0,y:0},flexibleSize:{x:0,y:0},layer:h.Lowest,fixed:!1,fixedOffset:0,fixedSpacing:null},e=!0,t.layoutSize={x:0,y:0}}t.position={x:0,y:0},e&&this.initElement(t.element,t.data)},i.internal_isWrap=function(t,e){var i=!1,a=e&&e.features[e.features.length-1];if(a)switch(t.element.wrapBeforeMode){case o.Wrap:i=!0;break;case o.Nowrap:i=a.element.wrapAfterMode==o.Wrap;break;case o.Auto:(i=a.element.wrapAfterMode==o.Wrap)||(i=this._calculateInnerSize(t,e))}return i},i.internal_reset=function(){this._options=null,this._innerSize=0,this._total=0,this._holderList.length=0,this._isOverflowFixed=!0,this.__debug_graphics&&this.__debug_graphics.clear()},i.internal_push=function(t,e){this._total++;var i=this.adapter.mainAxis,a=this.adapter.crossAxis;t.element.ignoreLayout||(0!=this._innerSize&&(this._innerSize+=this.adapter.layoutManager.spacing),this._innerSize+=t.size[a],e.size[i]=Math.max(e.size[i],t.size[i]),e.oldSize[i]=e.size[i]),e.size[a]=this.adapter.crossAxisSize,e.oldSize[a]=e.size[a]},i.internal_recycleHolders=function(t){for(var e=0;e<this._holderList.length;e++){var i=this._holderList[e];i.internal_disable(),t(i)}this._holderList.length=0},i.internal_visible=function(t,e){this._options=t,this.register(),this._createHolders(e),this.adapter.layoutManager.layout(this.options),this.onVisible()},i.internal_disable=function(){this.adapter.layoutManager.unLayout(this.index),this.unregister(),this.onDisable(),this.internal_reset()},i.internal_holderChanged=function(t){var e=!0,i=this.adapter.mainAxis,a=this.options.size[i];if(!t){for(var n=0,s=0;s<this.options.features.length;s++){var r=this.options.features[s],o=r.size[i];(this.adapter.isVertical&&this.adapter.layoutManager.controlScaleHeight||this.adapter.isHorizontal&&this.adapter.layoutManager.controlScaleWidth)&&(o*=r.scale[i]),n=Math.max(n,o)}d.approximately(this.options.size[i],n)||(this.options.oldSize[i]=this.options.size[i],this.options.size[i]=n,e=!1)}e?this.adapter.layoutManager.layout(this.options):this.adapter.viewManager.internal_viewChanged(this,a)},i.internal_setMainAxisOffset=function(t){this._mainAxisOffset=t},i.register=function(){this.adapter.viewManager.on(u.Event.ON_SCROLL,this._onScroll,this),this.adapter.viewManager.on(u.Event.ON_LATEUPDATE,this._onLateUpdate,this),this.adapter.layoutManager.on(l.Event.ON_LAYOUT_COMPLATED,this._onLayoutComplated,this),this.adapter.layoutManager.on(l.Event.ON_CHANGED_LAYOUT_STATE,this._onChangedLayoutState,this)},i.unregister=function(){this.adapter.viewManager.off(u.Event.ON_SCROLL,this._onScroll,this),this.adapter.viewManager.off(u.Event.ON_LATEUPDATE,this._onLateUpdate,this),this.adapter.layoutManager.off(l.Event.ON_LAYOUT_COMPLATED,this._onLayoutComplated,this),this.adapter.layoutManager.off(l.Event.ON_CHANGED_LAYOUT_STATE,this._onChangedLayoutState,this)},i._createHolders=function(t){for(var e=this.adapter.mainAxis,i=0;i<this.options.features.length;i++){var a=this.options.features[i],n=!1,s=t&&t(a);s||(s=this.adapter.viewManager.internal_getHolder(a),n=!0),a.position[e]=this.options.position[e],s.internal_visible(this,a,n),this._holderList.push(s)}},i._calculateInnerSize=function(t,e){if(0==this._total)return!1;var i=t.size[this.adapter.crossAxis];return this._innerSize+i+this.adapter.layoutManager.spacing>e.size[this.adapter.crossAxis]},i._onLayoutComplated=function(t){if(-1!=t.indexOf(this.index)){for(var e=0;e<this.holderList.length;e++){this.holderList[e].internal_layout()}this.options.isFixed&&this._calcFixedPosition()}},i._calcFixedPosition=function(){for(var t=this._holderList.length,e=this.adapter.mainAxis,i=0;i<t;i++){var a=this._holderList[i];if(a.element.fixed){var n={x:a.feature.position.x,y:a.feature.position.y},s=0,r=this._getFeatureBoundary(a.feature);if(this._isNeedFixed(r)){n[e]-=r;var o=this.adapter.viewManager.getNextFixedHolders(this.index);s=this._getRelativeNextHolderOffset(a,o)}n[e]+=s*this.adapter.multiplier,n[e]!=a.node.position[e]&&a.node.setPosition(n.x,n.y)}}},i._onChangedLayoutState=function(){this.adapter.layoutManager.layout(this.options)},i._onScroll=function(){this.options.isFixed&&0!=this._holderList.length&&this._calcFixedPosition()},i._onLateUpdate=function(t){},i._isNeedFixed=function(t){return 1==this.adapter.multiplier?t>=0:t<=0},i._getFeatureBoundary=function(t){var e=d.isNumber(t.element.fixedOffset)?t.element.fixedOffset:0;return 1==this.adapter.multiplier?this._getFeatureHeaderBoundary(t)+e:this._getFeatureFooterBoundary(t)-e},i._getFeatureHeaderBoundary=function(t){var e=this.adapter.mainAxis;return t.position[e]+t.size[e]*(1-t.anchorPoint[e])*t.scale[e]+this.adapter.scrollManager.contentPosition},i._getFeatureFooterBoundary=function(t){var e=this.adapter.mainAxis;return t.position[e]-t.size[e]*t.anchorPoint[e]*t.scale[e]+this.adapter.scrollManager.contentPosition},i._getFeatureSizeWithSpacing=function(t){var e=this.adapter.mainAxis,i=d.isNumber(t.element.fixedOffset)?t.element.fixedOffset:0,a=d.isNumber(t.element.fixedSpacing)?t.element.fixedSpacing:this.adapter.viewManager.spacing;return t.size[e]*t.scale[e]+i+a},i._getReatureRelativeBoundary=function(t,e){var i=1==this.adapter.multiplier?this._getFeatureHeaderBoundary(t):this._getFeatureFooterBoundary(t),a=1==this.adapter.multiplier?i+e:e-i;return Math.min(a,e)},i._getRelativeNextHolderOffset=function(t,e){for(var i=e.length,a=this.adapter.crossAxis,n=this._getFeatureSizeWithSpacing(t.feature),s=0,r=0;r<i;r++){var o=e[r],h=this._getReatureRelativeBoundary(o.feature,n),d=t.feature.scale[a]==o.feature.scale[a],l=t.feature.size[a]==o.feature.size[a];if(t.fixedIndex==o.fixedIndex&&d&&l){s=h>0?h:0;break}h>0&&(s=Math.max(s,h))}return s},e(t,[{key:"isOverflowFixed",get:function(){return this._isOverflowFixed}},{key:"adapter",get:function(){return this._adapter}},{key:"mainAxisOffset",get:function(){return this._mainAxisOffset}},{key:"options",get:function(){return this._options}},{key:"holderList",get:function(){return this._holderList}},{key:"index",get:function(){return this.options?this.options.index:-1}}]),t}())||p);i._RF.pop()}}}));

System.register("chunks:///_virtual/ViewManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Manager.ts","./View.ts","./enum.ts","./helper.ts","./ModelManager.ts","./ScrollManager.ts"],(function(i){"use strict";var e,t,n,s,r,a,o,l,h,d,p,c,u,_,f,v,g;return{setters:[function(i){e=i.applyDecoratedDescriptor,t=i.inheritsLoose,n=i.initializerDefineProperty,s=i.assertThisInitialized,r=i.createClass},function(i){a=i.cclegacy,o=i._decorator,l=i.instantiate},function(i){h=i.Manager},function(i){d=i.View},function(i){p=i.ArrangeAxis,c=i.StretchDirection,u=i.MagneticDirection,_=i.ScrollDirection},function(i){f=i.Helper},function(i){v=i.ModelManager},function(i){g=i.ScrollManager}],execute:function(){var x,w,m,b,O,A,V,H,z,S,y,I,F,E,P,M,D,T,N,L,C,k,R,B,G,W,U,Z,j,X,q;a._RF.push({},"74bbbWBWzpGspxEpsEO9xIS","ViewManager",void 0);var J,K=o.ccclass,Q=o.property;!function(i){i[i.ON_SCROLL=0]="ON_SCROLL",i[i.ON_LATEUPDATE=1]="ON_LATEUPDATE",i[i.ON_CLEARVIEWS=2]="ON_CLEARVIEWS",i[i.ON_UPDATE_VIEWS=3]="ON_UPDATE_VIEWS",i[i.ON_CHANGED_VIRTUALSIZE=4]="ON_CHANGED_VIRTUALSIZE",i[i.ON_MAGNETIC=5]="ON_MAGNETIC",i[i.ON_CHANGED_OVERFLOWHEADER=6]="ON_CHANGED_OVERFLOWHEADER",i[i.ON_RESET_ALL_STATE=7]="ON_RESET_ALL_STATE",i[i.ON_CHANGED_SPACING=8]="ON_CHANGED_SPACING"}(J||(J={}));i("ViewManager",(x=K("ViewManager"),w=Q({type:p}),m=Q({type:p}),b=Q({type:c}),O=Q({range:[0,1],slide:!0,step:.01}),A=Q({group:{id:"padding",name:"padding"}}),V=Q({group:{id:"padding",name:"padding"}}),H=Q({group:{id:"padding",name:"padding"}}),z=Q({group:{id:"padding",name:"padding"}}),S=Q({type:u,visible:function(){return this.magnetic}}),y=Q({visible:function(){return this.magnetic}}),I=Q({range:[0,1],slide:!0,step:.001,visible:function(){return this.magnetic}}),F=Q({tooltip:"当item尺寸改变时,是否触发磁吸",visible:function(){return this.magnetic}}),x(((q=function(i){function e(){for(var e,t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];return e=i.call.apply(i,[this].concat(r))||this,n(e,"_arrangeAxis",M,s(e)),n(e,"stretchDirection",D,s(e)),n(e,"overflowOffset",T,s(e)),n(e,"_spacing",N,s(e)),n(e,"left",L,s(e)),n(e,"right",C,s(e)),n(e,"top",k,s(e)),n(e,"bottom",R,s(e)),n(e,"magnetic",B,s(e)),n(e,"magneticDirection",G,s(e)),n(e,"magneticDuration",W,s(e)),n(e,"magneticStrength",U,s(e)),n(e,"magneticSizeChanges",Z,s(e)),n(e,"loopHeader",j,s(e)),n(e,"loopFooter",X,s(e)),e._viewOptionsLength=0,e._viewOptions=[],e._disableViews=[],e._visibleViews=[],e._fixedViews=[],e._disableHolders=[],e._isDirty=!1,e._isFill=!1,e._minOptionsIndex=Number.MAX_SAFE_INTEGER,e._headerIndex=-1,e._footerIndex=-1,e._virtualSize=0,e._overflowHeader=0,e}t(e,i);var a=e.prototype;return a.onInit=function(){this.adapter.modelManager.on(v.Event.ON_INSERT,this.internal_updateVisibleView,this),this.adapter.modelManager.on(v.Event.ON_REMOVE,this.internal_updateVisibleView,this),this.adapter.modelManager.on(v.Event.ON_MOVE,this.internal_updateVisibleView,this),this.adapter.modelManager.on(v.Event.ON_CLEAR,this._onClearModel,this),this.adapter.scrollManager.on(g.Event.ON_SCROLL,this._onScroll,this),this.adapter.scrollManager.on(g.Event.ON_VIEW_SIZE_CHANGED,this._resetAllState,this),this.adapter.scrollManager.on(g.Event.ON_CHANGED_ORIENTATION,this._resetAllState,this)},a._clearAll=function(){for(var i=0,e=this._visibleViews.length;i<e;i++)this._recycleViewToDisableViews(this._visibleViews[i]);this._clearFixedViews(),this._visibleViews.length=0,this._viewOptions.length=0,this._virtualSize=0},a._onClearModel=function(){this._clearAll(),this.emit(J.ON_CLEARVIEWS)},a._resetAllState=function(){this._clearAll(),this.internal_updateVisibleView(0),this.emit(J.ON_RESET_ALL_STATE)},a._updateViewOptions=function(i){var e=this,t=this.getOptionsIndexByModelIndex(i),n=this._getViewFromDisibleViews(null),s=null,r=this._viewOptions[this._viewOptions.length-1],a=function(i,t){if(i.element.fixed&&(t.isFixed=!0,t.fixedIndex=-1),t.isFixed)t.fixedIndex=-1;else{var n=e._viewOptions[e._viewOptions.length-2];n&&(n.isFixed?t.fixedIndex=n.index:t.fixedIndex=n.fixedIndex)}};if(-1!=t){var o=this._viewOptions[t];this._viewOptions.splice(t,this._viewOptions.length),r=this._viewOptions[this._viewOptions.length-1],s=this._newViewOptions(),this._viewOptions.push(s);for(var l=0,h=o.features.length;l<h;l++){var d=o.features[l];if(!(d.index<i))break;n.internal_push(d,s),s.features.push(d),s.index=t,a(d,s)}}else{var p=this._viewOptions[this.viewOptionsLength-1];if(p){s=p,t=p.index;for(var c=0;c<s.features.length;c++)n.internal_push(s.features[c],s)}}for(var _=i;_<this.adapter.modelManager.length;_++){var f=this.adapter.modelManager.get(_);f.index=_,n.internal_initFeature(f),n.internal_isWrap(f,s)&&(this._calcMainAxisPosition(s,r,u.Footer),r=s,s=null,n.internal_reset()),s||(s=this._newViewOptions(),this._viewOptions.push(s),t++),n.internal_push(f,s),s.features.push(f),s.index=t,a(f,s)}var v=this._viewOptions[this._viewOptions.length-1];v&&(0==v.features.length?this._viewOptions.splice(this._viewOptions.length-1,1):this._calcMainAxisPosition(s,r,u.Footer)),n.internal_reset(),this._viewOptionsLength=this._viewOptions.length,this._disableViews.push(n),this._updateVirtualSize(),console.log(this._viewOptions)},a._updateVisibleView=function(){var i=[],e=null,t=0;this.header&&(t=this.header.options.features[0].index,e=this.header.options.position[this.adapter.mainAxis]);var n=function(e){var t=i.findIndex((function(i){return i.feature.data==e.data}));return-1!=t?i.splice(t,1)[0]:null},s=this.getOptionsIndexByModelIndex(t);s=Math.max(s,0);for(var r=0;r<this._visibleViews.length;r++){var a=this._visibleViews[r];i=i.concat(a.holderList),a.internal_reset()}for(var o=this.adapter.mainAxisSize,l=0,h=this._visibleViews.length,d=this._viewOptions[s-1],p=s,c=this._viewOptions.length;p<c;p++){var _=this._viewOptions[p];if(this.getVisibleMainAxisSize()>=o&&h<=0)break;(v=this._visibleViews[l++])||(v=this._getViewFromDisibleViews(_.index),this._visibleViews.push(v)),this._calcMainAxisPosition(_,d,u.Footer),d=_,v.internal_visible(_,n),h--}for(var f=this._visibleViews.length-1;f>=0;f--){var v;if((v=this._visibleViews[f]).holderList.length>0)break;this._disableFromVisibleViews(f)}for(var g=0,x=i.length;g<x;g++){var w=i[g];w.internal_disable(),this._disableHolders.push(w)}if(this.virtualSize>o&&null!=e&&0==this.adapter.scrollManager.velocity){var m=this.getOptionsIndexByModelIndex(t),b=this._viewOptions[m].position[this.adapter.mainAxis]-e;this.adapter.scrollManager.internal_setContentPosition(this.adapter.scrollManager.contentPosition-b,!1)}this._resetOverflowHeader(this._viewOptions[0]),this._forceFill(),this._calcMagnetic(),this.emit(J.ON_UPDATE_VIEWS)},a._calcMagnetic=function(){if(this.magnetic){var i=!1;if(0==this.adapter.scrollManager.velocity)if(this.magneticDirection==u.Footer)Math.abs(1-this.adapter.scrollManager.percentage)<=this.magneticStrength&&(this.adapter.scrollManager.scrollToFooter(this.magneticDuration),i=!0);else Math.abs(this.adapter.scrollManager.percentage)<=this.magneticStrength&&(this.adapter.scrollManager.scrollToHeader(this.magneticDuration),i=!0);this.emit(J.ON_MAGNETIC,i)}},a._updateVirtualSize=function(){this._virtualSize=0;for(var i=0,e=this._viewOptions.length;i<e;i++){var t=this._viewOptions[i];this._virtualSize+=t.size[this.adapter.mainAxis]+this.spacing}this._virtualSize-=this.spacing,this._virtualSize=Math.max(0,this._virtualSize),this.emit(J.ON_CHANGED_VIRTUALSIZE)},a._calcMainAxisPosition=function(i,e,t){if(i)if(e){var n,s,r=this.adapter.mainAxis,a=this.adapter.multiplier,o=t==u.Footer?1:-1;t==u.Footer?(n=1==a?e.anchorPoint[r]:1-e.anchorPoint[r],s=1==a?1-i.anchorPoint[r]:i.anchorPoint[r]):(n=1==a?1-e.anchorPoint[r]:e.anchorPoint[r],s=1==a?i.anchorPoint[r]:1-i.anchorPoint[r]);var l=e.position[r];l-=e.size[r]*n*o*a,l-=this.spacing*a*o,l-=i.size[r]*s*o*a,this._setOptionsPosition(i,l)}else this._setOptionsPosition(i,this._getMainAxisHeaderPosition(i))},a._setOptionsPosition=function(i,e,t){void 0===t&&(t=!1);var n=this.adapter.mainAxis;i.oldPosition[n]=i.position[n],i.position[n]=e,t&&(i.oldPosition[n]=i.position[n])},a._getMainAxisHeaderPosition=function(i){var e=0,t=0;return this.adapter.isVertical?e=this.adapter.isArrangeAxisStart?-this.top:this.bottom:(e=this.adapter.isArrangeAxisStart?this.left:-this.right,t=this.adapter.isArrangeAxisStart?i.anchorPoint[this.adapter.mainAxis]:1-i.anchorPoint[this.adapter.mainAxis]),e-=t*i.size[this.adapter.mainAxis]*this.adapter.multiplier},a._newViewOptions=function(){var i={index:-1,features:[],size:{x:0,y:0},oldSize:{x:0,y:0},position:{x:0,y:0},oldPosition:{x:0,y:0},anchorPoint:{x:.5,y:.5},totalFlexibleSize:{x:0,y:0},totalMinSize:{x:0,y:0},totalPreferredSize:{x:0,y:0},isFixed:!1,fixedIndex:-1};return this._setOptionsAnchorPoint(i),i},a._setOptionsAnchorPoint=function(i){switch(this.stretchDirection){case c.Center:i.anchorPoint[this.adapter.mainAxis]=.5;break;case c.Header:i.anchorPoint[this.adapter.mainAxis]=1-this.adapter.mainAxisAnchorPoint;break;default:i.anchorPoint[this.adapter.mainAxis]=this.adapter.mainAxisAnchorPoint}},a._getViewFromDisibleViews=function(i){var e=null;if(null!=i){var t=this._fixedViews.findIndex((function(e){return e.index==i}));if(-1!=t){var n=this._fixedViews.splice(t,1)[0];this._recycleViewToDisableViews(n)}}return e||(e=this._disableViews.pop()),e||(e=this.adapter.getView()),e},a._getHolderFromDisableHolders=function(i){var e=this._disableHolders.findIndex((function(e){return e.code==i.code}));if(-1!=e)return this._disableHolders.splice(e,1)[0]},a._disableFromVisibleViews=function(i){var e=-1;e=i instanceof d?this._visibleViews.findIndex((function(e){return e.index==i.index})):i,this._recycleViewToDisableViews(this._visibleViews[e]),this._visibleViews.splice(e,1)},a._recycleViewToDisableViews=function(i){var e=this;i&&(i.internal_recycleHolders((function(i){return e._disableHolders.push(i)})),i.internal_disable(),this._disableViews.push(i))},a._clearFixedViews=function(){for(var i=0,e=this._fixedViews.length;i<e;i++){var t=this._fixedViews[i];this._recycleViewToDisableViews(t)}this._fixedViews.length=0},a._checkHeaderInvisible=function(){this.header&&(this.loopFooter||this.footer.index!=this.viewOptionsLength-1)&&this._isOverflowHeader(this.header.options)&&(this._disableFromVisibleViews(0),this._checkHeaderInvisible())},a._checkFooterInvisible=function(){this.footer&&(this.loopHeader||0!=this.header.index)&&this._isOverflowFooter(this.footer.options)&&(this._disableFromVisibleViews(this._visibleViews.length-1),this._checkFooterInvisible())},a._isOverflowHeader=function(i,e){void 0===e&&(e=this.overflowOffset);var t=this.internal_getOptionsFooterBoundary(i);return e*=i.size[this.adapter.mainAxis],1==this.adapter.multiplier?t>=e:t<=-e},a._isOverflowFooter=function(i,e){void 0===e&&(e=this.overflowOffset);var t=this.internal_getOptionsHeaderBoundary(i);return e*=i.size[this.adapter.mainAxis],1==this.adapter.multiplier?t+this.adapter.mainAxisSize<=-e:t-this.adapter.mainAxisSize>=e},a._isEnterFooter=function(i){if(!i)return!1;var e=this.internal_getOptionsFooterBoundary(i);this.overflowOffset,i.size[this.adapter.mainAxis];return 1==this.adapter.multiplier?e+this.adapter.mainAxisSize+0>=0:e-this.adapter.mainAxisSize-0<=0},a._isEnterHeader=function(i){if(!i)return!1;var e=this.internal_getOptionsHeaderBoundary(i);this.overflowOffset,i.size[this.adapter.mainAxis];return 1==this.adapter.multiplier?e-0<=0:e+0>=0},a._fillHeader=function(){var i=this._viewOptions[this._headerIndex];if(this._isEnterHeader(i)){var e=this._accumTargetSizeTowardsHeader(i.index,this.internal_getInitHeaderSize(i)),t=e.index,n=e.size,s=this._viewOptions[t];if(s&&-1==this.getVisibleIndexByOptionsIndex(t)){var r=this.internal_convertSizeToHeaderPosition(n,s);this._setOptionsPosition(s,r,!0);var a=this._getViewFromDisibleViews(s.index);this._visibleViews.unshift(a),a.internal_visible(s),0==a.index&&this._resetOverflowHeader(a.options),this._headerIndex=s.index,this._fillHeader()}}},a._fillFooter=function(){var i=this._viewOptions[this._footerIndex];if(this._isEnterFooter(i)){var e=this._accumTargetSizeTowardsFooter(i.index,this.internal_getInitFooterSize(i)),t=e.index,n=e.size,s=this._viewOptions[t];if(s&&-1==this.getVisibleIndexByOptionsIndex(t)){var r=this.internal_convertSizeToFooterPosition(n,s);this._setOptionsPosition(s,r,!0);var a=this._getViewFromDisibleViews(s.index);this._visibleViews.push(a),a.internal_visible(s),0==a.index&&this._resetOverflowHeader(a.options),this._footerIndex=s.index,this._fillFooter()}}},a._fillFixedView=function(){if(this.header&&(-1!=this.header.options.fixedIndex||this.header.options.isFixed))for(var i=this.header.index,e=this.adapter.mainAxis,t=this.internal_getInitHeaderSize(this.header.options),n=i-1;n>=0;n--){var s=this._viewOptions[n];if(!s)return void console.error("_fillFixedView错误 找不到options",n);if(t+=s.size[e]+this.spacing,s.isFixed){var r=this.internal_convertSizeToHeaderPosition(t,s);if(-1!=this._fixedViews.findIndex((function(i){return i.index==s.index}))){f.approximately(r,s.position[e])||(this._setOptionsPosition(s,r),this.adapter.layoutManager.layout(s));break}this._clearFixedViews();r=this.internal_convertSizeToHeaderPosition(t,s);this._setOptionsPosition(s,r);var a=this._getViewFromDisibleViews(s.index);a.internal_visible(s),this._fixedViews.push(a);break}}},a._accumTargetSizeTowardsHeader=function(i,e){for(var t=this._viewOptions.length;;){if(0==i&&this.loopHeader&&(i=t),0==i)return{index:i,size:e};if(i--,!this._viewOptions[i])return{index:i,size:e};if((e+=this.internal_accumulationSize(i))>=0)return{index:i,size:e}}},a._accumTargetSizeTowardsFooter=function(i,e){for(var t=this._viewOptions.length;;){if(i==t-1&&this.loopFooter&&(i=-1),i==t-1)return{index:i,size:e};if(i++,!this._viewOptions[i])return{index:i,size:e};if((e+=this.internal_accumulationSize(i))>=0)return{index:i,size:e}}},a._fillFooterHandle=function(){this._checkHeaderInvisible(),this._fillFooter()},a._fillHeaderHandle=function(){this._checkFooterInvisible(),this._fillHeader()},a._forceFill=function(){this._updateHeaderFooterIndex(),this._fillHeaderHandle(),this._fillFooterHandle()},a._updateHeaderFooterIndex=function(){this._headerIndex=this.header?this.header.index:0,this._footerIndex=this.footer?this.footer.index:0},a._onScroll=function(i){if(0!=this._viewOptions.length){switch(this._updateHeaderFooterIndex(),i){case _.Up:case _.Left:this.adapter.isArrangeAxisStart?this._fillFooterHandle():this._fillHeaderHandle();break;case _.Down:case _.Right:this.adapter.isArrangeAxisStart?this._fillHeaderHandle():this._fillFooterHandle()}this._fillFixedView(),this.emit(J.ON_SCROLL)}},a._stretchToHeader=function(i,e){for(var t=this._visibleViews[i],n=e;n>=0;n--){var s=this._visibleViews[n];t&&(this._calcMainAxisPosition(s.options,t.options,u.Header),this.adapter.layoutManager.layout(s.options)),t=s}},a._stretchToFooter=function(i,e){for(var t=this._visibleViews[i],n=e;n<this._visibleViews.length;n++){var s=this._visibleViews[n];t&&(this._calcMainAxisPosition(s.options,t.options,u.Footer),this.adapter.layoutManager.layout(s.options)),t=s}},a._resetOverflowHeader=function(i){if(!i)return this.overflowHeader=0;var e=this.adapter.mainAxis,t=i.anchorPoint[e];t=1==this.adapter.multiplier?1-t:t,i.oldSize[e]=i.size[e];var n=i.position[e];n+=i.size[e]*t*this.adapter.multiplier,this.overflowHeader=n},a._calcOverflowHeader=function(i,e,t){var n=this.getVisibleIndexByOptionsIndex(0);if(-1!=n){var s=this._visibleViews[n];return this._resetOverflowHeader(s.options)}var r=this.adapter.mainAxis,a=i.anchorPoint[r];a=1==this.adapter.multiplier?1-a:a;var o=i.oldSize[r],l=i.size[r],h=this.adapter.multiplier;switch(this.stretchDirection){case c.Header:var d=i.oldPosition[r]+o*a*h;(p=1==h?this.overflowHeader>=d:this.overflowHeader<=d)&&(this.overflowHeader+=(l-o)*h);break;case c.Footer:d=i.oldPosition[r]+o*a*h;(p=1==h?this.overflowHeader>=d:this.overflowHeader<=d)||(this.overflowHeader-=(l-o)*h);break;case c.Center:d=i.oldPosition[r]+o*a*h;(p=1==h?this.overflowHeader>=d:this.overflowHeader<=d)?this.overflowHeader+=.5*(l-o)*h:this.overflowHeader-=.5*(l-o)*h;break;case c.Auto:d=i.oldPosition[r]+o*a*h;var p=1==h?this.overflowHeader>=d:this.overflowHeader<=d;e<=t&&(d=i.oldPosition[r]+o*a*h,p=-1==h?this.overflowHeader>=d:this.overflowHeader<=d),p&&(e<=t?this.overflowHeader-=(l-o)*h:this.overflowHeader+=(l-o)*h)}i.oldPosition[r]=i.position[r]},a.internal_lateUpdate=function(i){this._isDirty&&(this._isDirty=!1,this._updateViewOptions(this._minOptionsIndex),this._updateVisibleView(),this._minOptionsIndex=Number.MAX_SAFE_INTEGER),this._isFill&&(this._isFill=!1,this._forceFill()),this.emit(J.ON_LATEUPDATE,i)},a.internal_viewChanged=function(i,e){var t=i.options.size[this.adapter.mainAxis]-e;this._virtualSize+=t;var n=this.getVisibleIndexByOptionsIndex(i.index),s=-1;if(this.stretchDirection==c.Footer){var r=n-1;this._visibleViews[r]||this.adapter.layoutManager.layout(i.options),this._stretchToFooter(r,n)}else if(this.stretchDirection==c.Header){var a=n+1;this._visibleViews[a]||this.adapter.layoutManager.layout(i.options),this._stretchToHeader(a,n)}else if(this.stretchDirection==c.Center)this.adapter.layoutManager.layout(i.options),this._stretchToHeader(n,n-1),this._stretchToFooter(n,n+1);else{if(-1==(s=this.adapter.centerManager.getCenterVisibleIndex()))throw Error("找不到中心索引"+i.index);var o=this._visibleViews[s];this.adapter.layoutManager.layout(o.options),this._stretchToHeader(s,s-1),this._stretchToFooter(s,s+1)}this._calcOverflowHeader(i.options,s,n),this.magneticSizeChanges&&this._calcMagnetic(),this._isFill=!0,this.emit(J.ON_CHANGED_VIRTUALSIZE)},a.internal_getHolder=function(i){var e=this._getHolderFromDisableHolders(i);if(!e){var t=this.adapter.getPrefab(i.data),n=l(t);e=this.adapter.getHolder(n,i.code)}return e.node.parent=this.adapter.scrollManager.getLayerNode(i.element.layer),e},a.internal_updateVisibleView=function(i){this._minOptionsIndex=Math.min(this._minOptionsIndex,i),this._isDirty=!0},a.internal_getOptionsFooterBoundary=function(i){if(!i)return 0;var e=i.anchorPoint[this.adapter.mainAxis];e=1==this.adapter.multiplier?e:1-e;var t=i.position[this.adapter.mainAxis];return t-=i.size[this.adapter.mainAxis]*e*this.adapter.multiplier,t+=this.adapter.scrollManager.contentPosition},a.internal_getOptionsHeaderBoundary=function(i){if(!i)return 0;var e=i.anchorPoint[this.adapter.mainAxis];return e=1==this.adapter.multiplier?1-e:e,i.position[this.adapter.mainAxis]+this.adapter.scrollManager.contentPosition+e*i.size[this.adapter.mainAxis]*this.adapter.multiplier},a.internal_getInitHeaderSize=function(i){if(!i)return 0;var e=i.anchorPoint[this.adapter.mainAxis];e=1==this.adapter.multiplier?1-e:e;var t=-i.position[this.adapter.mainAxis]*this.adapter.multiplier;return t-=i.size[this.adapter.mainAxis]*e,t-=this.adapter.scrollManager.contentPosition*this.adapter.multiplier,t=this.adapter.mainAxisSize-t},a.internal_getInitFooterSize=function(i){if(!i)return 0;var e=i.anchorPoint[this.adapter.mainAxis];e=1==this.adapter.multiplier?e:1-e;var t=-i.position[this.adapter.mainAxis]*this.adapter.multiplier;return t+=i.size[this.adapter.mainAxis]*e,t-=this.adapter.scrollManager.contentPosition*this.adapter.multiplier},a.internal_accumulationSize=function(i){var e=this._viewOptions[i];return e?e.size[this.adapter.mainAxis]+this.spacing:0},a.internal_convertSizeToFooterPosition=function(i,e){var t=e.anchorPoint[this.adapter.mainAxis];t=1==this.adapter.multiplier?t:1-t;var n=e.size[this.adapter.mainAxis]*t,s=-this.adapter.scrollManager.contentPosition;return s-=this.adapter.multiplier*i-this.adapter.multiplier*n},a.internal_convertSizeToHeaderPosition=function(i,e){var t=e.anchorPoint[this.adapter.mainAxis];t=1==this.adapter.multiplier?1-t:t;var n=e.size[this.adapter.mainAxis]*t,s=this.adapter.multiplier*i-this.adapter.multiplier*n;return s-=this.adapter.multiplier*this.adapter.mainAxisSize,s-=this.adapter.scrollManager.contentPosition},a.getViewOptions=function(i){return this._viewOptions[i]},a.getVisibleView=function(i){return this._visibleViews[i]},a.getVisibleMainAxisSize=function(){if(0==this._visibleViews.length)return 0;for(var i=0,e=this.adapter.mainAxis,t=0,n=this._visibleViews.length;t<n;t++){var s=this._visibleViews[t];s.options&&(i+=s.options.size[e]+this.spacing)}return i-=this.spacing},a.getOptionsIndexByModelIndex=function(i){for(var e=0,t=this._viewOptions.length;e<t;e++){if(-1!=this._viewOptions[e].features.findIndex((function(e){return e.index==i})))return e}return-1},a.getVisibleIndexByOptionsIndex=function(i){return this._visibleViews.findIndex((function(e){return e.index==i}))},a.getNextFixedHolders=function(i){for(var e=[],t=this.getVisibleIndexByOptionsIndex(i)+1,n=this._visibleViews.length;t<n;t++){var s=this._visibleViews[t];if(s.index!=i&&s.options.isFixed){e=s.getFixedHolders();break}}return e},r(e,[{key:"arrangeAxis",get:function(){return this._arrangeAxis},set:function(i){i!=this._arrangeAxis&&(this._arrangeAxis=i,this._resetAllState())}},{key:"spacing",get:function(){return this._spacing},set:function(i){i!=this._spacing&&(this._spacing=i,this._resetAllState())}},{key:"header",get:function(){return this._visibleViews[0]}},{key:"footer",get:function(){return this._visibleViews[this._visibleViews.length-1]}},{key:"overflowHeader",get:function(){return this._overflowHeader},set:function(i){i!=this._overflowHeader&&(this._overflowHeader=i,this.emit(J.ON_CHANGED_OVERFLOWHEADER,i))}},{key:"magneticOffset",get:function(){if(!this.magnetic)return 0;var i=this.adapter.isHorizontal?-this.adapter.multiplier:this.adapter.multiplier;if(this.magneticDirection==u.Footer){if(!this.footer)return this.adapter.mainAxisSize*i;var e,t=Math.max(0,this.adapter.mainAxisSize-this.adapter.mainAxisPadding-this.getVisibleMainAxisSize())*i;if(this.virtualSize<this.adapter.mainAxisSize)t+=(e=this.footer.options).size[this.adapter.mainAxis]*e.anchorPoint[this.adapter.mainAxis]*this.adapter.multiplier;return t}return this.header&&this.virtualSize<this.adapter.mainAxisSize?(e=this.header.options).size[this.adapter.mainAxis]*e.anchorPoint[this.adapter.mainAxis]*this.adapter.multiplier:0}},{key:"virtualSize",get:function(){return this._virtualSize}},{key:"viewOptionsLength",get:function(){return this._viewOptionsLength}},{key:"visibleLength",get:function(){return this._visibleViews.length}},{key:"min",get:function(){return this.header?this.adapter.isArrangeAxisStart?this.internal_getOptionsFooterBoundary(this.footer.options):this.internal_getOptionsHeaderBoundary(this.header.options):0}},{key:"max",get:function(){return this.header?this.adapter.isArrangeAxisStart?this.internal_getOptionsHeaderBoundary(this.header.options):this.internal_getOptionsFooterBoundary(this.footer.options):0}}]),e}(h)).Event=J,M=e((P=q).prototype,"_arrangeAxis",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return p.Start}}),e(P.prototype,"arrangeAxis",[m],Object.getOwnPropertyDescriptor(P.prototype,"arrangeAxis"),P.prototype),D=e(P.prototype,"stretchDirection",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return c.Auto}}),T=e(P.prototype,"overflowOffset",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.3}}),N=e(P.prototype,"_spacing",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),e(P.prototype,"spacing",[Q],Object.getOwnPropertyDescriptor(P.prototype,"spacing"),P.prototype),L=e(P.prototype,"left",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),C=e(P.prototype,"right",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),k=e(P.prototype,"top",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),R=e(P.prototype,"bottom",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),B=e(P.prototype,"magnetic",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),G=e(P.prototype,"magneticDirection",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return u.Header}}),W=e(P.prototype,"magneticDuration",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.5}}),U=e(P.prototype,"magneticStrength",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.05}}),Z=e(P.prototype,"magneticSizeChanges",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),j=e(P.prototype,"loopHeader",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),X=e(P.prototype,"loopFooter",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),E=P))||E));a._RF.pop()}}}));

(function(r) {
  r('virtual:///prerequisite-imports/main', 'chunks:///_virtual/main'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});