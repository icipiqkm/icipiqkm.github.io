System.register("chunks:///_virtual/Holder.ts",["cc","./helper.ts","./ModelManager.ts"],(function(e){"use strict";var t,i,n,s,o,a;return{setters:[function(e){t=e.cclegacy,i=e._decorator,n=e.Node,s=e.UITransform},function(e){o=e.Helper},function(e){a=e.ModelManager}],execute:function(){var r;function h(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function d(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}t._RF.push({},"06194IgtVlOubt8kvkPRvBb","Holder",void 0);var l=i.ccclass;i.property,e("Holder",l("Holder")(r=function(){var e,t,i;function r(e,t,i){d(this,"_node",void 0),d(this,"_transform",void 0),d(this,"_code",void 0),d(this,"_adapter",void 0),d(this,"_model",void 0),d(this,"_view",void 0),d(this,"_fixedIndex",-1),d(this,"_oldData",null),d(this,"_oldElement",null),d(this,"_isCallCreated",!1),d(this,"_isLayout",!1),this._node=e,this._code=t,this._adapter=i,this._transform=this.node.getComponent(s)}e=r,(t=[{key:"node",get:function(){return this._node}},{key:"transform",get:function(){return this._transform}},{key:"code",get:function(){return this._code}},{key:"adapter",get:function(){return this._adapter}},{key:"model",get:function(){return this._model}},{key:"view",get:function(){return this._view}},{key:"data",get:function(){return this._model&&this._model.data}},{key:"fixedIndex",get:function(){return this._fixedIndex}},{key:"oldData",get:function(){return this._oldData}},{key:"element",get:function(){return this._model&&this._model.element}},{key:"index",get:function(){return this._model&&this._model.index}}])&&h(e.prototype,t),i&&h(e,i);var l=r.prototype;return l.internal_visible=function(e,t,i){var n=this;this._view=e,this._model=t,this._oldElement=Object.assign({},t.element),this._model.element.update=this._updateElement.bind(this),this._oldData=this.data,i&&(this.node.active=!0,this._isCallCreated||(this._isCallCreated=!0,this.onCreated()),this.element.fixed&&(this._fixedIndex=this.view.group.models.findIndex((function(e){return e.index==n.model.index}))),this.transform.setContentSize(this.model.size.x,this.model.size.y),this.node.setScale(this.model.scale.x,this.model.scale.y),this._register(),this.onVisible(),this._model.update=this._updateHandler.bind(this))},l._updateElement=function(){this._oldElement.layer!=this.element.layer&&(this.node.parent=this.adapter.scrollManager.getLayerNode(this.element.layer),this._oldElement.layer=this.element.layer),(this._oldElement.wrapAfterMode!=this.element.wrapAfterMode||this._oldElement.wrapBeforeMode!=this.element.wrapBeforeMode||this._oldElement.ignoreLayout!=this.element.ignoreLayout||this.element.ignoreLayout&&this._oldElement.placeholder!=this.element.placeholder)&&(this.adapter.viewManager.internal_updateVisibleView(this.model.index),this._oldElement.wrapAfterMode=this.element.wrapAfterMode,this._oldElement.wrapBeforeMode=this.element.wrapBeforeMode,this._oldElement.ignoreLayout=this.element.ignoreLayout,this._oldElement.placeholder=this.element.placeholder)},l._updateHandler=function(){this._model.update=function(){},this.onVisible(),this._model.update=this._updateHandler.bind(this)},l.internal_disable=function(){this.adapter.scrollManager.internal_disableTouchTarget(this.node),this._unregister(),this.onDisable(),this._model.update=function(){},this._model.element.update=function(){},this._view=null,this._model=null,this._fixedIndex=-1,this._isLayout=!1,this._oldData=null,this.node.active=!1},l.internal_layout=function(){var e={x:this.model.size.x,y:this.model.size.y};this.adapter.layoutManager.isControlMainAxisSize&&(e[this.adapter.mainAxis]=this.model.layoutSize[this.adapter.mainAxis]),this.adapter.layoutManager.isControlCrossAxisSize&&(e[this.adapter.crossAxis]=this.model.layoutSize[this.adapter.crossAxis]),this._isLayout=!0,this.transform.setContentSize(e.x,e.y),this._isLayout=!1,this.node.setPosition(this.model.position.x,this.model.position.y)},l._register=function(){this.node.on(n.EventType.SIZE_CHANGED,this._onSizeChanged,this),this.node.on(n.EventType.TRANSFORM_CHANGED,this._onScaleChanged,this),this.node.on(n.EventType.ANCHOR_CHANGED,this._onAnchorPointChanged,this),this._adapter.modelManager.on(a.Event.ON_UPDATE,this._updateHandler,this)},l._unregister=function(){this.node.off(n.EventType.SIZE_CHANGED,this._onSizeChanged,this),this.node.off(n.EventType.TRANSFORM_CHANGED,this._onScaleChanged,this),this.node.off(n.EventType.ANCHOR_CHANGED,this._onAnchorPointChanged,this),this._adapter.modelManager.off(a.Event.ON_UPDATE,this._updateHandler,this)},l._onSizeChanged=function(){if(!this._isLayout){var e=o.approximately(this.model.size[this.adapter.mainAxis],this.transform.contentSize[this.adapter.mainAxis]),t=o.approximately(this.model.size[this.adapter.crossAxis],this.transform.contentSize[this.adapter.crossAxis]);this.model.size.x=this.transform.width,this.model.size.y=this.transform.height,e&&t||this.view.internal_holderChanged(e)}},l._onScaleChanged=function(e){if(e==n.TransformBit.SCALE&&(this.adapter.layoutManager.controlScaleWidth||this.adapter.layoutManager.controlScaleHeight)){var t=o.approximately(this.model.scale[this.adapter.mainAxis],this.node.scale[this.adapter.mainAxis]),i=o.approximately(this.model.scale[this.adapter.crossAxis],this.node.scale[this.adapter.crossAxis]);this.model.scale.x=this.node.scale.x,this.model.scale.y=this.node.scale.y,t&&i||this.view.internal_holderChanged(t)}},l._onAnchorPointChanged=function(){var e=o.approximately(this.model.anchorPoint[this.adapter.mainAxis],this.transform.anchorPoint[this.adapter.mainAxis]),t=o.approximately(this.model.anchorPoint[this.adapter.crossAxis],this.transform.anchorPoint[this.adapter.crossAxis]);this.model.anchorPoint.x=this.transform.anchorPoint.x,this.model.anchorPoint.y=this.transform.anchorPoint.y,e&&t||this.view.internal_holderChanged(e)},r}())||r);t._RF.pop()}}}));

System.register("chunks:///_virtual/card.ts",["cc","./enum.ts","./Holder.ts","./View.ts","./ScrollAdapter.ts","./card_item.ts"],(function(e){"use strict";var t,n,i,r,o,a,c,l,u;return{setters:[function(e){t=e.cclegacy,n=e._decorator,i=e.Node,r=e.director},function(e){o=e.ChildAlignment},function(e){a=e.Holder},function(e){c=e.View},function(e){l=e.ScrollAdapter},function(e){u=e.card_item}],execute:function(){var f,s,p,d,h;function b(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function m(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}t._RF.push({},"0735ftw3EhKNYV9hDlICemd","card",void 0);var g=n.ccclass,w=n.property,_=(e("card",(f=g("card"),s=w(i),f((h=function(e,t,n,i,r){var o={};return Object.keys(i).forEach((function(e){o[e]=i[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),o),r&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(r):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}((d=function(e){function t(){for(var t,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return b(m(t=e.call.apply(e,[this].concat(i))||this),"prefab",h,m(t)),t}y(t,e);var n=t.prototype;return n.getPrefab=function(e){return this.prefab},n.getHolder=function(e,t){return new z(e,t,this)},n.getView=function(){return new _(this)},n.initElement=function(e,t){},n.start=function(){for(var e=0;e<100;e++)this.modelManager.insert({name:e+""})},n.home=function(){r.loadScene("home")},n.typeUpper=function(){this.layoutManager.childAlignment=o.UpperLeft},n.typeMiddle=function(){this.layoutManager.childAlignment=o.MiddleLeft},n.typeLower=function(){this.layoutManager.childAlignment=o.LowerLeft},t}(l)).prototype,"prefab",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),p=d))||p)),function(e){function t(){return e.apply(this,arguments)||this}y(t,e);var n=t.prototype;return n.onVisible=function(){},n.onDisable=function(){},t}(c)),z=function(e){function t(){for(var t,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return v(m(t=e.call.apply(e,[this].concat(i))||this),"_item",null),t}y(t,e);var n=t.prototype;return n.onCreated=function(){this._item=this.node.getComponent(u)},n.onVisible=function(){this._item.show(this)},n.onDisable=function(){this._item.hide()},t}(a);t._RF.pop()}}}));

System.register("chunks:///_virtual/page_item.ts",["cc","./helper.ts"],(function(e){"use strict";var i,t,r,n,a;return{setters:[function(e){i=e.cclegacy,t=e._decorator,r=e.Label,n=e.Component},function(e){a=e.Helper}],execute:function(){var o,l,c,s,u,d;function h(e,i,t,r){t&&Object.defineProperty(e,i,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(r):void 0})}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function b(e,i,t){return i in e?Object.defineProperty(e,i,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[i]=t,e}function f(e,i,t,r,n){var a={};return Object.keys(r).forEach((function(e){a[e]=r[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=t.slice().reverse().reduce((function(t,r){return r(e,i,t)||t}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,i,a),a=null),a}i._RF.push({},"144b8nb7VtKSKwcAg6xFiXY","page_item",void 0);var v=t.ccclass,_=t.property;e("page_item",(o=v("page_item"),l=_(r),o((u=f((s=function(e){var i,t;function r(){for(var i,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return h(p(i=e.call.apply(e,[this].concat(r))||this),"label",u,p(i)),h(p(i),"isScale",d,p(i)),b(p(i),"_holder",void 0),i}t=e,(i=r).prototype=Object.create(t.prototype),i.prototype.constructor=i,i.__proto__=t;var n=r.prototype;return n.show=function(e){this._holder=e,this.label.string=this._holder.data.name},n.hide=function(){},n.click=function(){this.isScale&&this._holder.adapter.scrollManager.scrollToGroupIndex(1,this._holder.view.index)},n.update=function(){if(this.isScale&&this._holder&&this._holder.model){var e=this._holder.adapter.scrollManager.content.convertToWorldSpaceAR(this.node.position),i=this._holder.adapter.scrollManager.view.convertToNodeSpaceAR(e),t=this._holder.adapter.centerManager.getContainerOffset(),r=Math.abs(i[this._holder.adapter.mainAxis])-t,n=Math.abs(r)/this._holder.adapter.mainAxisSize;n=1-n,n=a.clamp(n,.3,1);var o=this.node.getScale();o[this._holder.adapter.mainAxis]=n,o[this._holder.adapter.crossAxis]=n,this.node.setScale(o)}},r}(n)).prototype,"label",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),d=f(s.prototype,"isScale",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),c=s))||c));i._RF.pop()}}}));

System.register("chunks:///_virtual/ModelManager.ts",["cc","./helper.ts","./Manager.ts","./enum.ts"],(function(e){"use strict";var t,n,i,o,r,a,s,l;return{setters:[function(e){t=e.cclegacy,n=e._decorator,i=e.Node,o=e.UITransform},function(e){r=e.Helper},function(e){a=e.Manager},function(e){s=e.WrapMode,l=e.Layer}],execute:function(){var c,h,u;function d(e,t,n,i,o,r,a){try{var s=e[r](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(i,o)}function f(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}t._RF.push({},"18c36plR9VHHbXIt40bKQ+w","ModelManager",void 0);var y,g=n.ccclass;n.property;!function(e){e[e.ON_CLEAR=0]="ON_CLEAR",e[e.ON_INSERT=1]="ON_INSERT",e[e.ON_REMOVE=2]="ON_REMOVE",e[e.ON_MOVE=3]="ON_MOVE",e[e.ON_UPDATE=4]="ON_UPDATE",e[e.ON_CHANGE_BEFORE=5]="ON_CHANGE_BEFORE"}(y||(y={}));e("ModelManager",g("ModelManager")((u=h=function(e){var t,n;function a(){for(var t,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return _(p(t=e.call.apply(e,[this].concat(i))||this),"_modelList",[]),_(p(t),"_length",0),t}n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var c,h,u,g=a.prototype;return g.onInit=function(){},g.insert=function(){var e,t=(e=regeneratorRuntime.mark((function e(t,n){var i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:void 0===n&&(n=this.length),i=this._toArray(t),n=r.clamp(n,0,this.length),this.emit(y.ON_CHANGE_BEFORE),this._insertHandler(i,n),this._length=this._modelList.length,console.log("插入完成",this._modelList),i.length>0&&this.emit(y.ON_INSERT,n);case 8:case"end":return e.stop()}}),e,this)})),function(){var t=this,n=arguments;return new Promise((function(i,o){var r=e.apply(t,n);function a(e){d(r,i,o,a,s,"next",e)}function s(e){d(r,i,o,a,s,"throw",e)}a(void 0)}))});return function(e,n){return t.apply(this,arguments)}}(),g._insertHandler=function(e,t){var n=this,i=t;this._length=this._modelList.length;for(var o=[],r=function(e,t){return(d=n._getNewModel(e)).index=t,n._modelList.push(d),d},a=function(e){var t=n.get(i);if(t)o.push(n._copyModel(t,{})),t.data=e,t.index=i,n._initModel(t);else{var a=r(e,i);n._initModel(a)}i++},s=0,l=e.length;s<l;s++)a(e[s]);for(var c=0;c<o.length;c++){var h=o[c],u=i+c;if(this.get(u)){var d=this.get(u);o.push(this._copyModel(d,{})),this._copyModel(h,d)}else{var f=r(h.data,u);this._copyModel(h,f)}}},g.remove=function(e,t){if(void 0===t&&(t=1),0!=t&&!(e<0||e>=this.length)){var n=this.length;this.emit(y.ON_CHANGE_BEFORE);for(var i=e;i<this.length;i++){var o=this.get(i),r=this.get(i+t);if(!r){n=i;break}this._copyModel(r,o),o.index=i}this._modelList.splice(n,this.length),this._length=this._modelList.length,console.log(this._modelList),this.emit(y.ON_REMOVE,e)}},g.move=function(e,t,n){var i=this;if(!(e<0||t<=0)){this.emit(y.ON_CHANGE_BEFORE);var o=this._modelList.map((function(e){return i._copyModel(e,{})})),r=o.splice(e,t);o.splice.apply(o,[n,0].concat(r));for(var a=0;a<o.length;a++)this._copyModel(o[a],this._modelList[a]);var s=Math.min(e,n);this.emit(y.ON_MOVE,s),console.log("移动后的数据",this._modelList)}},g.update=function(){this.emit(y.ON_UPDATE)},g.clear=function(){this._modelList.length=0,this._length=0,this.emit(y.ON_CLEAR)},g.has=function(e){return!!this._modelList[e]},g.get=function(e){return isNaN(e)?null:this._modelList[e]},g.slice=function(e,t){return 0==this.length?[]:this._modelList.slice(e,t)},g._toArray=function(e){return e?e instanceof Array?e:[e]:[]},g._getNewModel=function(e){return{data:e,index:-1,code:null,size:{x:0,y:0},layoutSize:{x:0,y:0},scale:{x:0,y:0},position:{x:0,y:0},anchorPoint:{x:0,y:0},element:{wrapBeforeMode:s.Wrap,wrapAfterMode:s.Nowrap,ignoreLayout:!1,placeholder:!1,minSize:{x:0,y:0},preferredSize:{x:0,y:0},flexibleSize:{x:0,y:0},layer:l.Lowest,fixed:!1,fixedOffset:0,fixedSpacing:null,update:function(){}},isValid:!0,update:function(){}}},g._initModel=function(e){var t;if(!(t=this.adapter.getPrefab(e.data)))throw Error("预制体不能为空");if(!(t=this.adapter.getPrefab(e.data)))throw Error("预制体不能为空");if(t instanceof i){var n=t.getComponent(o);e.code=t.uuid,e.size={x:n.width,y:n.height},e.scale={x:n.node.scale.x,y:n.node.scale.y},e.anchorPoint={x:n.anchorPoint.x,y:n.anchorPoint.y}}else{var r=t.data.getComponent(o);e.code=t.data._prefab.fileId,e.size={x:r.width,y:r.height},e.scale={x:r.node.scale.x,y:r.node.scale.y},e.anchorPoint={x:r.anchorPoint.x,y:r.anchorPoint.y}}e.layoutSize={x:0,y:0},e.position={x:0,y:0},e.element={wrapBeforeMode:s.Wrap,wrapAfterMode:s.Nowrap,ignoreLayout:!1,placeholder:!1,minSize:{x:0,y:0},preferredSize:{x:0,y:0},flexibleSize:{x:0,y:0},layer:l.Lowest,fixed:!1,fixedOffset:0,fixedSpacing:null,update:function(){}},this.adapter.initElement(e.element,e.data)},g._copyModel=function(e,t){e.element.update=function(){};return function e(t,n){for(var i in t){var o=t[i];"data"!=i?"index"!=i&&(null!=o&&"object"==typeof o?(n[i]={},e(o,n[i])):n[i]=o):n[i]=o}}(e,t),t},c=a,(h=[{key:"length",get:function(){return this._length}},{key:"modelList",get:function(){return this._modelList}}])&&f(c.prototype,h),u&&f(c,u),a}(a),_(h,"Event",y),c=u))||c);t._RF.pop()}}}));

System.register("chunks:///_virtual/chat_Item.ts",["cc"],(function(e){"use strict";var t,i,n,a,r,s,o;return{setters:[function(e){t=e.cclegacy,i=e._decorator,n=e.Label,a=e.UITransform,r=e.Node,s=e.Widget,o=e.Component}],execute:function(){var l,c,u,h,g,b,f,m,d;function p(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function v(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function w(e,t,i,n,a){var r={};return Object.keys(n).forEach((function(e){r[e]=n[e]})),r.enumerable=!!r.enumerable,r.configurable=!!r.configurable,("value"in r||r.initializer)&&(r.writable=!0),r=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),r),a&&void 0!==r.initializer&&(r.value=r.initializer?r.initializer.call(a):void 0,r.initializer=void 0),void 0===r.initializer&&(Object.defineProperty(e,t,r),r=null),r}t._RF.push({},"19731fEa31BrqGOk4ZQktW1","chat_Item",void 0);var L=i.ccclass,y=i.property;e("chatItem",(l=L("chatItem"),c=y(n),u=y(n),h=y(a),l((f=w((b=function(e){var t,i;function o(){for(var t,i=arguments.length,n=new Array(i),a=0;a<i;a++)n[a]=arguments[a];return p(v(t=e.call.apply(e,[this].concat(n))||this),"nameLabel",f,v(t)),p(v(t),"messageLabel",m,v(t)),p(v(t),"messageBg",d,v(t)),_(v(t),"_holder",null),_(v(t),"_messageLabelTr",void 0),t}i=e,(t=o).prototype=Object.create(i.prototype),t.prototype.constructor=t,t.__proto__=i;var l=o.prototype;return l.onLoad=function(){this._messageLabelTr=this.messageLabel.getComponent(a)},l.onEnable=function(){this.messageLabel.node.on(r.EventType.SIZE_CHANGED,this.onMessageSizeChanged,this)},l.onDisable=function(){this.messageLabel.node.off(r.EventType.SIZE_CHANGED,this.onMessageSizeChanged,this)},l.show=function(e){this._holder=e,this._messageLabelTr.width=0,this.nameLabel.string=this._holder.data.name+"",this.showMessage()},l.hide=function(){this._messageLabelTr.width=0,this.messageBg.width=0},l.showMessage=function(){this.messageLabel.overflow=n.Overflow.NONE,this.messageLabel.string=this._holder.data.message},l.onMessageSizeChanged=function(){var e=this;if(!this._holder||!this.node.active)return console.error("没有显示");var t=this._holder.adapter.crossAxisSize-200;if(this._messageLabelTr.width>t)return this.messageLabel.overflow=n.Overflow.RESIZE_HEIGHT,void(this._messageLabelTr.width=t);this.scheduleOnce((function(){console.log("修改背景"),e.messageBg.setContentSize(e._messageLabelTr.width+40,e._messageLabelTr.height+30),e._holder.transform.height=Math.max(e.messageBg.height,100),e.messageBg.getComponent(s).updateAlignment()}))},o}(o)).prototype,"nameLabel",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=w(b.prototype,"messageLabel",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),d=w(b.prototype,"messageBg",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=b))||g));t._RF.pop()}}}));

System.register("chunks:///_virtual/card_item.ts",["cc","./helper.ts"],(function(e){"use strict";var r,i,t,n,a;return{setters:[function(e){r=e.cclegacy,i=e._decorator,t=e.Label,n=e.Component},function(e){a=e.Helper}],execute:function(){var o,l,c,s,u;function d(e,r,i,t){i&&Object.defineProperty(e,r,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(t):void 0})}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(e,r,i){return r in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i,e}r._RF.push({},"1d7bcfD/S9Eh5YpiaRITuwz","card_item",void 0);var f=i.ccclass,b=i.property;e("card_item",(o=f("card_item"),l=b(t),o((u=function(e,r,i,t,n){var a={};return Object.keys(t).forEach((function(e){a[e]=t[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,t){return t(e,r,i)||i}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,r,a),a=null),a}((s=function(e){var r,i;function t(){for(var r,i=arguments.length,t=new Array(i),n=0;n<i;n++)t[n]=arguments[n];return d(h(r=e.call.apply(e,[this].concat(t))||this),"label",u,h(r)),p(h(r),"_holder",void 0),r}i=e,(r=t).prototype=Object.create(i.prototype),r.prototype.constructor=r,r.__proto__=i;var n=t.prototype;return n.show=function(e){this._holder=e,this.label.string=e.data.name,this.node.setScale(.3,.3)},n.hide=function(){},n.click=function(){this._holder.adapter.scrollManager.scrollToGroupIndex(1,this._holder.view.index)},n.update=function(){if(this._holder&&this._holder.model){var e=this._holder.adapter.scrollManager.content.convertToWorldSpaceAR(this.node.position),r=this._holder.adapter.scrollManager.view.convertToNodeSpaceAR(e),i=this._holder.adapter.centerManager.getContainerOffset(),t=Math.abs(r[this._holder.adapter.mainAxis])-i,n=Math.abs(t)/this._holder.adapter.mainAxisSize;n=1-n,n=a.clamp(n,.3,1);var o=this.node.getScale();o[this._holder.adapter.mainAxis]=n,o[this._holder.adapter.crossAxis]=n,this.node.setScale(o)}},t}(n)).prototype,"label",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),c=s))||c));r._RF.pop()}}}));

System.register("chunks:///_virtual/test_item.ts",["cc","./helper.ts"],(function(e){"use strict";var t,i,r,n;return{setters:[function(e){t=e.cclegacy,i=e._decorator,r=e.Label,n=e.Component},function(){}],execute:function(){var o,l,a,c,u;function s(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}t._RF.push({},"1f6f4j5hlJO1rdYdu2sckN1","test_item",void 0);var b=i.ccclass,p=i.property;e("TestItem",(o=b("TestItem"),l=p(r),o((u=function(e,t,i,r,n){var o={};return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce((function(i,r){return r(e,t,i)||i}),o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}((c=function(e){var t,i;function r(){for(var t,i=arguments.length,r=new Array(i),n=0;n<i;n++)r[n]=arguments[n];return s(f(t=e.call.apply(e,[this].concat(r))||this),"label",u,f(t)),h(f(t),"_holder",null),h(f(t),"stop",!1),t}i=e,(t=r).prototype=Object.create(i.prototype),t.prototype.constructor=t,t.__proto__=i;var n=r.prototype;return n.show=function(e){this._holder=e,this.label.string=e.data.name},n.hide=function(){},n.click=function(){350==this._holder.transform.height?this._holder.transform.height=200:this._holder.transform.height=350},n.update=function(){},r}(n)).prototype,"label",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),a=c))||a));t._RF.pop()}}}));

System.register("chunks:///_virtual/fixed_item.ts",["cc","./helper.ts"],(function(e){"use strict";var i,t,r,n;return{setters:[function(e){i=e.cclegacy,t=e._decorator,r=e.Label,n=e.Component},function(){}],execute:function(){var a,o,l,c,u;function f(e,i,t,r){t&&Object.defineProperty(e,i,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(r):void 0})}function b(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function s(e,i,t){return i in e?Object.defineProperty(e,i,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[i]=t,e}i._RF.push({},"20addg1z9tL24Mef9WIwM01","fixed_item",void 0);var d=t.ccclass,p=t.property;e("fixed_item",(a=d("fixed_item"),o=p(r),a((u=function(e,i,t,r,n){var a={};return Object.keys(r).forEach((function(e){a[e]=r[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=t.slice().reverse().reduce((function(t,r){return r(e,i,t)||t}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,i,a),a=null),a}((c=function(e){var i,t;function r(){for(var i,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return f(b(i=e.call.apply(e,[this].concat(r))||this),"label",u,b(i)),s(b(i),"_holder",void 0),i}t=e,(i=r).prototype=Object.create(t.prototype),i.prototype.constructor=i,i.__proto__=t;var n=r.prototype;return n.show=function(e){this._holder=e,this.label.string=this._holder.data.name},n.hide=function(){},n.update=function(){},r}(n)).prototype,"label",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),l=c))||l));i._RF.pop()}}}));

System.register("chunks:///_virtual/View.ts",["cc","./helper.ts","./enum.ts","./debug.ts","./LayoutManager.ts","./ViewManager.ts"],(function(e){"use strict";var t,i,r,a,n,s,o;return{setters:[function(e){t=e.cclegacy,i=e._decorator},function(e){r=e.Helper},function(e){a=e.WrapMode},function(e){n=e.DEBUG_DRAW_LIND_WIDTH},function(e){s=e.LayoutManager},function(e){o=e.ViewManager}],execute:function(){var h;function l(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}t._RF.push({},"20c27Yt8z5L9bZJqa8MgjS3","View",void 0);var u=i.ccclass;i.property,e("View",u("View")(h=function(){var e,t,i;function h(e){d(this,"__debug_graphics",void 0),d(this,"_adapter",void 0),d(this,"_total",0),d(this,"_innerSize",0),d(this,"_group",null),d(this,"_holderList",[]),d(this,"_isOverflowFixed",void 0),this._adapter=e,this.internal_reset(),this.__createDebug()}e=h,(t=[{key:"isOverflowFixed",get:function(){return this._isOverflowFixed}},{key:"adapter",get:function(){return this._adapter}},{key:"group",get:function(){return this._group}},{key:"holderList",get:function(){return this._holderList}},{key:"index",get:function(){return this.group?this.group.index:-1}}])&&l(e.prototype,t),i&&l(e,i);var u=h.prototype;return u.__createDebug=function(){},u.__drawDebug=function(){if(this.__debug_graphics&&this.group){this.__debug_graphics.clear();var e=this.adapter.mainAxis,t=this.adapter.crossAxis,i={x:0,y:0},r={x:this.group.size.x,y:this.group.size.y},a={x:this.group.anchorPoint.x,y:this.group.anchorPoint.y};i[e]=this.group.position[e]-r[e]*a[e],i[e]+=.5*n,i[t]=this.group.position[t]-r[t]*(1-a[t]),i[t]+=.5*n,r[e]-=n,r[t]-=n,this.__debug_graphics.roundRect(i.x,i.y,r.x,r.y,2),this.__debug_graphics.stroke()}},u.getFixedHolders=function(){if(!this.group.isFixed)return[];for(var e=[],t=this.holderList.length,i=0;i<t;i++){var r=this.holderList[i];r.model.element.fixed&&e.push(r)}return e},u.internal_isWrap=function(e,t){var i=!1,r=t&&t.models[t.models.length-1];if(r)switch(e.element.wrapBeforeMode){case a.Wrap:i=!0;break;case a.Nowrap:i=r.element.wrapAfterMode==a.Wrap;break;case a.Auto:(i=r.element.wrapAfterMode==a.Wrap)||(i=this._calculateInnerSize(e,t))}return i},u.internal_reset=function(){this._group=null,this._innerSize=0,this._total=0,this._holderList.length=0,this._isOverflowFixed=!0,this.__debug_graphics&&this.__debug_graphics.clear()},u.internal_push=function(e){this._total++;var t=this.adapter.crossAxis;(!e.element.ignoreLayout||e.element.ignoreLayout&&e.element.placeholder)&&(0!=this._innerSize&&(this._innerSize+=this.adapter.layoutManager.spacing),this._innerSize+=e.size[t])},u.internal_recycleHolders=function(e){for(var t=0;t<this._holderList.length;t++){var i=this._holderList[t];i.internal_disable(),e(i)}this._holderList.length=0},u.internal_visible=function(e,t){this._group=e,this.register(),this._createHolders(t),this.adapter.layoutManager.layout(this.group),this.onVisible()},u.internal_disable=function(){this.adapter.layoutManager.unLayout(this.index),this.unregister(),this.onDisable(),this.internal_reset()},u.internal_holderChanged=function(e){var t=!0,i=this.adapter.mainAxis,a=this.group.size[i];if(!e){for(var n=0,s=0;s<this.group.models.length;s++){var o=this.group.models[s],h=o.size[i];(this.adapter.isVertical&&this.adapter.layoutManager.controlScaleHeight||this.adapter.isHorizontal&&this.adapter.layoutManager.controlScaleWidth)&&(h*=o.scale[i]),n=Math.max(n,h)}r.approximately(this.group.size[i],n)||(this.group.oldSize[i]=this.group.size[i],this.group.size[i]=n,t=!1)}t?this.adapter.layoutManager.layout(this.group):this.adapter.viewManager.internal_viewChanged(this,a)},u.register=function(){this.adapter.viewManager.on(o.Event.ON_SCROLL,this._onScroll,this),this.adapter.viewManager.on(o.Event.ON_LATEUPDATE,this._onLateUpdate,this),this.adapter.layoutManager.on(s.Event.ON_LAYOUT_COMPLATED,this._onLayoutComplated,this),this.adapter.layoutManager.on(s.Event.ON_CHANGED_LAYOUT_STATE,this._onChangedLayoutState,this)},u.unregister=function(){this.adapter.viewManager.off(o.Event.ON_SCROLL,this._onScroll,this),this.adapter.viewManager.off(o.Event.ON_LATEUPDATE,this._onLateUpdate,this),this.adapter.layoutManager.off(s.Event.ON_LAYOUT_COMPLATED,this._onLayoutComplated,this),this.adapter.layoutManager.off(s.Event.ON_CHANGED_LAYOUT_STATE,this._onChangedLayoutState,this)},u._createHolders=function(e){for(var t=this.adapter.mainAxis,i=0;i<this.group.models.length;i++){var r=this.group.models[i],a=!1,n=e&&e(r);n||(n=this.adapter.viewManager.internal_getHolder(r),a=!0),r.position[t]=this.group.position[t],n.internal_visible(this,r,a),this._holderList.push(n)}},u._calculateInnerSize=function(e,t){if(0==this._total)return!1;var i=e.size[this.adapter.crossAxis];return this._innerSize+i+this.adapter.layoutManager.spacing>t.size[this.adapter.crossAxis]},u._onLayoutComplated=function(e){if(-1!=e.indexOf(this.index)){for(var t=0;t<this.holderList.length;t++){this.holderList[t].internal_layout()}this.group.isFixed&&this._calcFixedPosition()}},u._calcFixedPosition=function(){for(var e=this._holderList.length,t=this.adapter.mainAxis,i=0;i<e;i++){var r=this._holderList[i];if(r.element.fixed){var a={x:r.model.position.x,y:r.model.position.y},n=0,s=this._getModelBoundary(r.model);if(this._isNeedFixed(s)){a[t]-=s;var o=this.adapter.viewManager.getNextFixedHolders(this.index);n=this._getRelativeNextHolderOffset(r,o)}a[t]+=n*this.adapter.multiplier,a[t]!=r.node.position[t]&&r.node.setPosition(a.x,a.y)}}},u._onChangedLayoutState=function(){this.adapter.layoutManager.layout(this.group)},u._onScroll=function(){this.group.isFixed&&0!=this._holderList.length&&this._calcFixedPosition()},u._onLateUpdate=function(e){},u._isNeedFixed=function(e){return 1==this.adapter.multiplier?e>=0:e<=0},u._getModelBoundary=function(e){var t=r.isNumber(e.element.fixedOffset)?e.element.fixedOffset:0;return 1==this.adapter.multiplier?this._getModelHeaderBoundary(e)+t:this._getModelFooterBoundary(e)-t},u._getModelHeaderBoundary=function(e){var t=this.adapter.mainAxis;return e.position[t]+e.size[t]*(1-e.anchorPoint[t])*e.scale[t]+this.adapter.scrollManager.contentPosition},u._getModelFooterBoundary=function(e){var t=this.adapter.mainAxis;return e.position[t]-e.size[t]*e.anchorPoint[t]*e.scale[t]+this.adapter.scrollManager.contentPosition},u._getModelSizeWithSpacing=function(e){var t=this.adapter.mainAxis,i=r.isNumber(e.element.fixedOffset)?e.element.fixedOffset:0,a=r.isNumber(e.element.fixedSpacing)?e.element.fixedSpacing:this.adapter.viewManager.spacing;return e.size[t]*e.scale[t]+i+a},u._getReatureRelativeBoundary=function(e,t){var i=1==this.adapter.multiplier?this._getModelHeaderBoundary(e):this._getModelFooterBoundary(e),r=1==this.adapter.multiplier?i+t:t-i;return Math.min(r,t)},u._getRelativeNextHolderOffset=function(e,t){for(var i=t.length,r=this.adapter.crossAxis,a=this._getModelSizeWithSpacing(e.model),n=0,s=0;s<i;s++){var o=t[s],h=this._getReatureRelativeBoundary(o.model,a),l=e.model.scale[r]==o.model.scale[r],d=e.model.size[r]==o.model.size[r];if(e.fixedIndex==o.fixedIndex&&l&&d){n=h>0?h:0;break}h>0&&(n=Math.max(n,h))}return n},h}())||h);t._RF.pop()}}}));

System.register("chunks:///_virtual/enum.ts",["cc"],(function(e){"use strict";var t,o;return{setters:[function(e){t=e.cclegacy,o=e.Enum}],execute:function(){var i,r,n,c,d,a,l,u,p,f,s,L,h,A,v,g;e({AlwaysScroll:void 0,ArrangeAxis:void 0,ChildAlignment:void 0,IndicatorMode:void 0,Layer:void 0,MagneticDirection:void 0,MovementType:void 0,NestedDirection:void 0,Orientation:void 0,ReleaseState:void 0,ScrollDirection:void 0,ScrollbarDirection:void 0,StretchDirection:void 0,TouchMode:void 0,Transition:void 0,WrapMode:void 0}),t._RF.push({},"21168fhfp5Aw4tN3YlGEjVv","enum",void 0),function(e){e[e.Vertical=0]="Vertical",e[e.Horizontal=1]="Horizontal"}(i||(i=e("Orientation",{}))),function(e){e[e.Unrestricted=0]="Unrestricted",e[e.Elastic=1]="Elastic",e[e.Clamped=2]="Clamped"}(r||(r=e("MovementType",{}))),function(e){e[e.Start=0]="Start",e[e.End=1]="End"}(n||(n=e("ArrangeAxis",{}))),function(e){e[e.Auto=0]="Auto",e[e.Header=1]="Header",e[e.Footer=2]="Footer",e[e.Center=3]="Center"}(c||(c=e("StretchDirection",{}))),function(e){e[e.Lowest=0]="Lowest",e[e.Medium=1]="Medium",e[e.Highest=2]="Highest"}(d||(d=e("Layer",{}))),function(e){e[e.Auto=0]="Auto",e[e.Wrap=1]="Wrap",e[e.Nowrap=2]="Nowrap"}(a||(a=e("WrapMode",{}))),function(e){e[e.Auto=0]="Auto",e[e.AlwaysAllow=1]="AlwaysAllow",e[e.Disabled=2]="Disabled"}(l||(l=e("TouchMode",{}))),function(e){e[e.Header=0]="Header",e[e.Footer=1]="Footer"}(u||(u=e("MagneticDirection",{}))),function(e){e[e.UpperLeft=0]="UpperLeft",e[e.UpperCenter=1]="UpperCenter",e[e.UpperRight=2]="UpperRight",e[e.MiddleLeft=3]="MiddleLeft",e[e.MiddleCenter=4]="MiddleCenter",e[e.MiddleRight=5]="MiddleRight",e[e.LowerLeft=6]="LowerLeft",e[e.LowerCenter=7]="LowerCenter",e[e.LowerRight=8]="LowerRight"}(p||(p=e("ChildAlignment",{}))),function(e){e[e.Up=0]="Up",e[e.Down=1]="Down",e[e.Left=2]="Left",e[e.Right=3]="Right",e[e.None=4]="None"}(f||(f=e("ScrollDirection",{}))),function(e){e[e.Top_To_Bottom=0]="Top_To_Bottom",e[e.Bottom_To_Top=1]="Bottom_To_Top",e[e.Left_To_Right=2]="Left_To_Right",e[e.Right_To_Left=3]="Right_To_Left"}(s||(s=e("ScrollbarDirection",{}))),function(e){e[e.Both=0]="Both",e[e.Header=1]="Header",e[e.Footer=2]="Footer"}(L||(L=e("NestedDirection",{}))),function(e){e[e.Auto=0]="Auto",e[e.Header=1]="Header",e[e.Footer=2]="Footer"}(h||(h=e("AlwaysScroll",{}))),function(e){e[e.Normal=0]="Normal",e[e.Button=1]="Button"}(A||(A=e("IndicatorMode",{}))),function(e){e[e.None=0]="None",e[e.ColorTint=1]="ColorTint",e[e.SpriteSwap=2]="SpriteSwap",e[e.Scale=3]="Scale"}(v||(v=e("Transition",{}))),function(e){e.IDLE="IDLE",e.PULL="PULL",e.WAIT="WAIT",e.RELEASE="RELEASE"}(g||(g=e("ReleaseState",{}))),o(i),o(r),o(n),o(c),o(u),o(s),o(p),o(l),o(A),o(v),t._RF.pop()}}}));

System.register("chunks:///_virtual/chat.ts",["cc","./enum.ts","./Holder.ts","./View.ts","./ViewManager.ts","./ReleaseManager.ts","./ScrollAdapter.ts","./chat_Item.ts"],(function(e){"use strict";var t,n,i,r,o,a,s,l,u,h,c,g,f,w,d,p,b,_;return{setters:[function(e){t=e.cclegacy,n=e._decorator,i=e.Node,r=e.UITransform,o=e.Sprite,a=e.EditBox,s=e.Label,l=e.Tween,u=e.v3,h=e.director,c=e.Color},function(e){g=e.ReleaseState},function(e){f=e.Holder},function(e){w=e.View},function(e){d=e.ViewManager},function(e){p=e.ReleaseManager},function(e){b=e.ScrollAdapter},function(e){_=e.chatItem}],execute:function(){var m,M,v,y,T,P,S,z,H,O,x,N,E,A,I,R,B;function L(e,t,n,i,r,o,a){try{var s=e[o](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(i,r)}function V(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function j(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function k(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function C(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function D(e,t,n,i,r){var o={};return Object.keys(i).forEach((function(e){o[e]=i[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),o),r&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(r):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}t._RF.push({},"26318xrl1JNC6F+BNJU9HS2","chat",void 0);var F=n.ccclass,U=n.property,J=(e("chat",(m=F("chat"),M=U(i),v=U(i),y=U(r),T=U(o),P=U(a),S=U(i),z=U(s),m((x=D((O=function(e){function t(){for(var t,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return V(j(t=e.call.apply(e,[this].concat(i))||this),"myPrefab",x,j(t)),V(j(t),"youPrefab",N,j(t)),V(j(t),"header",E,j(t)),V(j(t),"loading",A,j(t)),V(j(t),"input",I,j(t)),V(j(t),"newMsgButton",R,j(t)),V(j(t),"newMsgLabel",B,j(t)),C(j(t),"_headerTween",void 0),C(j(t),"_loadTween",void 0),C(j(t),"_newMsgShowTween",void 0),C(j(t),"_newMsgHideTween",void 0),C(j(t),"_isHeaderPlay",!1),C(j(t),"_newMsgTotal",0),C(j(t),"_isShowNewMsg",void 0),t}k(t,e);var n=t.prototype;return n.getPrefab=function(e){return 0==e.type?this.myPrefab:this.youPrefab},n.getHolder=function(e,t){return new W(e,t,this)},n.getView=function(){return new J(this)},n.initElement=function(e,t){},n.start=function(){this.releaseManager.on(p.Event.ON_PULL_DOWN,this.onPullDown,this),this._headerTween=new l(this.header).to(.518,{height:this.releaseManager.top*this.mainAxisSize},{easing:"elasticOut"}),this._loadTween=new l(this.loading.node).by(1,{angle:-360}).union().repeatForever(),this._newMsgShowTween=new l(this.newMsgButton).to(.218,{position:u(this.newMsgButton.position.x,60)},{easing:"smooth"}),this._newMsgHideTween=new l(this.newMsgButton).to(.218,{position:u(this.newMsgButton.position.x,-100)},{easing:"smooth"}),this.viewManager.on(d.Event.ON_MAGNETIC,this._onMagnetic,this)},n._onMagnetic=function(e){e?this._newMsgTotal=0:(this.newMsgLabel.string=""+this._newMsgTotal,!this._isShowNewMsg&&this._newMsgTotal>0&&(this._isShowNewMsg=!0,this._newMsgHideTween.stop(),this._newMsgShowTween.start()))},n.onSend=function(){if(0!=this.input.string.length){var e={name:"我",message:this.input.string,type:0};this._newMsgTotal++,this.modelManager.insert(e,0),this.unschedule(this.reply),this.scheduleOnce(this.reply,1)}},n.reply=function(){var e={name:"小娜",message:this.input.string,type:1};this._newMsgTotal++,this.modelManager.insert(e,0)},n.onPullDown=function(){var e,t=(e=regeneratorRuntime.mark((function e(t){var n,i,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.state!=g.RELEASE){e.next=10;break}if(!this._isHeaderPlay){e.next=10;break}return this._loadTween.start(),t.wait(),e.next=6,this.loadMore();case 6:n=e.sent,this.modelManager.insert(n),this.scheduleOnce((function(){t.release()})),this._loadTween.stop();case 10:i=t.progress,t.state==g.WAIT&&(i=1.5),i>=1.5?this._isHeaderPlay||(this._headerTween=new l(this.header).to(.518,{height:this.releaseManager.top*this.mainAxisSize},{easing:"elasticOut"}),this._headerTween.start(),this._isHeaderPlay=!0):(this._headerTween.stop(),this._isHeaderPlay=!1,this.header.height=t.offset,(r=new c).set(this.loading.color),r.a=255*Math.min(i,1),this.loading.color=r),this.loading.node.angle=-360*t.progress;case 14:case"end":return e.stop()}}),e,this)})),function(){var t=this,n=arguments;return new Promise((function(i,r){var o=e.apply(t,n);function a(e){L(o,i,r,a,s,"next",e)}function s(e){L(o,i,r,a,s,"throw",e)}a(void 0)}))});return function(e){return t.apply(this,arguments)}}(),n.loadMore=function(){var e=this;return new Promise((function(t,n){for(var i=[],r=(e.modelManager.length,10),o=0;o<r;o++){var a={type:o%2,name:o%2==0?"我":"小娜",message:e.modelManager.length+o+" 历史记录历史记录历史记录历史记录历史记录历史记录历史记录历史记录历史记录历史记录历史记录历史记录历史记录历史记录历史记录！"};i.push(a)}e.scheduleOnce((function(){t(i)}),1)}))},n.scrollToHeader=function(){this.scrollManager.scrollToHeader(1)},n.home=function(){h.loadScene("home")},n.update=function(){this._isShowNewMsg&&this.scrollManager.percentage<.1&&(this._isShowNewMsg=!1,this._newMsgTotal=0,this._newMsgShowTween.stop(),this._newMsgHideTween.start())},t}(b)).prototype,"myPrefab",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=D(O.prototype,"youPrefab",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=D(O.prototype,"header",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=D(O.prototype,"loading",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=D(O.prototype,"input",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=D(O.prototype,"newMsgButton",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=D(O.prototype,"newMsgLabel",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=O))||H)),function(e){function t(){return e.apply(this,arguments)||this}k(t,e);var n=t.prototype;return n.onVisible=function(){},n.onDisable=function(){},t}(w)),W=function(e){function t(){for(var t,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return C(j(t=e.call.apply(e,[this].concat(i))||this),"_chatItem",null),t}k(t,e);var n=t.prototype;return n.onCreated=function(){this._chatItem=this.node.getComponent(_)},n.onVisible=function(){this._chatItem.show(this)},n.onDisable=function(){this._chatItem.hide()},t}(f);t._RF.pop()}}}));

System.register("chunks:///_virtual/item_page.ts",["cc","./Holder.ts","./View.ts","./ScrollAdapter.ts","./page_item.ts"],(function(e){"use strict";var t,i,n,r,o,a,l,u;return{setters:[function(e){t=e.cclegacy,i=e._decorator,n=e.Label,r=e.Node},function(e){o=e.Holder},function(e){a=e.View},function(e){l=e.ScrollAdapter},function(e){u=e.page_item}],execute:function(){var c,f,s,p,b,h,d;function g(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function m(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function _(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function y(e,t,i,n,r){var o={};return Object.keys(n).forEach((function(e){o[e]=n[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),o),r&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(r):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}t._RF.push({},"333d6buM2ZC6ab6/F873WSZ","item_page",void 0);var w=i.ccclass,z=i.property,j=(e("item_page",(c=w("item_page"),f=z(n),s=z(r),c((h=y((b=function(e){function t(){for(var t,i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];return g(m(t=e.call.apply(e,[this].concat(n))||this),"label",h,m(t)),g(m(t),"prefab",d,m(t)),_(m(t),"_holder",null),t}v(t,e);var i=t.prototype;return i.getPrefab=function(e){return this.prefab},i.getView=function(){return new j(this)},i.getHolder=function(e,t){return new O(e,t,this)},i.initElement=function(e,t){},i.show=function(e){this._holder=e,this.label.string=this._holder.data.name;for(var t=0;t<10;t++)this.modelManager.insert({name:t})},i.hide=function(){this.modelManager.clear()},t}(l)).prototype,"label",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),d=y(b.prototype,"prefab",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),p=b))||p)),function(e){function t(){return e.apply(this,arguments)||this}v(t,e);var i=t.prototype;return i.onVisible=function(){},i.onDisable=function(){},t}(a)),O=function(e){function t(){for(var t,i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];return _(m(t=e.call.apply(e,[this].concat(n))||this),"_item",null),t}v(t,e);var i=t.prototype;return i.onCreated=function(){this._item=this.node.getComponent(u)},i.onVisible=function(){this._item.show(this)},i.onDisable=function(){this._item.hide()},t}(o);t._RF.pop()}}}));

System.register("chunks:///_virtual/horiznal_scale_card.ts",["cc","./Holder.ts","./View.ts","./ScrollAdapter.ts","./horiznal_scale_card_item.ts"],(function(e){"use strict";var n,r,t,i,o,c,a;return{setters:[function(e){n=e.cclegacy,r=e._decorator,t=e.Prefab},function(e){i=e.Holder},function(e){o=e.View},function(e){c=e.ScrollAdapter},function(e){a=e.horiznal_scale_card_item}],execute:function(){var l,u,s,f,p;function h(e,n,r,t){r&&Object.defineProperty(e,n,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(t):void 0})}function b(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(e,n){e.prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n}function _(e,n,r){return n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}n._RF.push({},"35843AWcvNIBYC11Ij8+wfZ","horiznal_scale_card",void 0);var v=r.ccclass,y=r.property,g=(e("horiznal_scale_card",(l=v("horiznal_scale_card"),u=y(t),l((p=function(e,n,r,t,i){var o={};return Object.keys(t).forEach((function(e){o[e]=t[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=r.slice().reverse().reduce((function(r,t){return t(e,n,r)||r}),o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,n,o),o=null),o}((f=function(e){function n(){for(var n,r=arguments.length,t=new Array(r),i=0;i<r;i++)t[i]=arguments[i];return h(b(n=e.call.apply(e,[this].concat(t))||this),"prefab",p,b(n)),n}d(n,e);var r=n.prototype;return r.getPrefab=function(e){return this.prefab},r.getHolder=function(e,n){return new w(e,n,this)},r.getView=function(){return new g(this)},r.initElement=function(e,n){},r.start=function(){for(var e=[],n=0;n<20;n++)e.push({name:n,index:n});this.modelManager.insert(e)},r.click=function(){this.scrollManager.scrollToHeader(0)},r.click2=function(){this.scrollManager.scrollToFooter(1)},n}(c)).prototype,"prefab",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),s=f))||s)),function(e){function n(){return e.apply(this,arguments)||this}d(n,e);var r=n.prototype;return r.onVisible=function(){},r.onDisable=function(){},n}(o)),w=function(e){function n(){for(var n,r=arguments.length,t=new Array(r),i=0;i<r;i++)t[i]=arguments[i];return _(b(n=e.call.apply(e,[this].concat(t))||this),"_script",null),n}d(n,e);var r=n.prototype;return r.onCreated=function(){this._script=this.node.getComponent(a)},r.onVisible=function(){this._script.show(this)},r.onDisable=function(){this._script.hide()},n}(i);n._RF.pop()}}}));

System.register("chunks:///_virtual/Indicator.ts",["cc","./enum.ts","./PageViewManager.ts","./ScrollAdapter.ts"],(function(e){"use strict";var t,i,n,r,a,o,l,c,u,s,p,d,h,g,f;return{setters:[function(e){t=e.cclegacy,i=e._decorator,n=e.SpriteFrame,r=e.Size,a=e.Node,o=e.Sprite,l=e.UITransform,c=e.Button,u=e.EventHandler,s=e.Color,p=e.Layout,d=e.Component},function(e){h=e.IndicatorMode},function(e){g=e.PageViewManager},function(e){f=e.ScrollAdapter}],execute:function(){var y,_,b,v,m,w,z,C,S,M,E;function I(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function O(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function P(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function A(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function L(e,t,i,n,r){var a={};return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}t._RF.push({},"39a65BHli1DW4GsARI0mFR5","Indicator",void 0);var N=i.ccclass,R=i.property;e("Indicator",(y=N("Indicator"),_=R(f),b=R({type:n}),v=R({type:h}),y((z=L((w=function(e){var t,i;function n(){for(var t,i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];return I(P(t=e.call.apply(e,[this].concat(n))||this),"adapter",z,P(t)),I(P(t),"spriteFrame",C,P(t)),I(P(t),"indicatorMode",S,P(t)),I(P(t),"cellSize",M,P(t)),I(P(t),"spacing",E,P(t)),A(P(t),"_indicators",[]),A(P(t),"_layout",null),A(P(t),"_color",new s),t}i=e,(t=n).prototype=Object.create(i.prototype),t.prototype.constructor=t,t.__proto__=i;var r,d,f,y=n.prototype;return y.__preload=function(){this.adapter&&(this.adapter.pageViewManager.on(g.Event.ON_PAGE_LENGTH_CHANGED,this._onPageLengthChanged,this),this.adapter.pageViewManager.on(g.Event.ON_SCROLL_PAGE_END,this._onScrollPageEnd,this))},y._onScrollPageEnd=function(){this.changedState()},y._onPageLengthChanged=function(){if(this.adapter){var e=this._indicators,t=this.adapter.viewManager.groupLength;if(t!==e.length){var i=0;if(t>e.length)for(i=0;i<t;++i)e[i]||(e[i]=this._createIndicator(i));else for(i=e.length-t;i>0;--i){var n=e[i-1];this.node.removeChild(n.node),e.splice(i-1,1)}this.layout&&this.layout.enabledInHierarchy&&this.layout.updateLayout(),this.changedState()}}},y._createIndicator=function(e){var t=new a;t.layer=this.node.layer;var i=t.addComponent(o);i.spriteFrame=this.spriteFrame,i.sizeMode=o.SizeMode.CUSTOM,t.parent=this.node;var n=t.getComponent(l);if(n.setContentSize(this.cellSize),this.indicatorMode==h.Button){var r=t.getComponent(c)||t.addComponent(c),s=new u;s.component="Indicator",s.handler="_click",s.target=this.node,s.customEventData=e,r.clickEvents.push(s)}return n},y._click=function(e,t){this.adapter.pageViewManager.scrollToPage(this.adapter.pageViewManager.pageTurningSpeed,t)},y.changedState=function(){var e=this._indicators;if(0!==e.length&&this.adapter){var t=this.adapter.pageViewManager.currentIndex;if(!(t>=e.length)){for(var i=0;i<e.length;++i){var n=e[i].getComponent(o);this._color.set(n.color),this._color.a=127.5,n.color=this._color}if(e[t]){var r=e[t].getComponent(o);this._color.set(r.color),this._color.a=255,r.color=this._color}}}},r=n,(d=[{key:"layout",get:function(){return null==this._layout&&(this._layout=this.getComponent(p)||this.addComponent(p),this.adapter.isHorizontal?(this._layout.type=p.Type.HORIZONTAL,this._layout.spacingX=this.spacing):(this._layout.type=p.Type.VERTICAL,this._layout.spacingY=this.spacing),this._layout.resizeMode=p.ResizeMode.CONTAINER),this._layout}}])&&O(r.prototype,d),f&&O(r,f),n}(d)).prototype,"adapter",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=L(w.prototype,"spriteFrame",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=L(w.prototype,"indicatorMode",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return h.Normal}}),M=L(w.prototype,"cellSize",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new r(10,10)}}),E=L(w.prototype,"spacing",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 10}}),m=w))||m));t._RF.pop()}}}));

System.register("chunks:///_virtual/interface.ts",["cc"],(function(){"use strict";var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"3d52dVTlbBOz7Wijt15IBJI","interface",void 0),t._RF.pop()}}}));

System.register("chunks:///_virtual/edit.ts",["cc","./enum.ts","./Holder.ts","./View.ts","./ScrollAdapter.ts","./edit_item.ts"],(function(e){"use strict";var t,n,i,r,o,a,c,l,u;return{setters:[function(e){t=e.cclegacy,n=e._decorator,i=e.Node,r=e.director},function(e){o=e.WrapMode},function(e){a=e.Holder},function(e){c=e.View},function(e){l=e.ScrollAdapter},function(e){u=e.edit_item}],execute:function(){var s,f,d,h,p;function b(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function m(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function g(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}t._RF.push({},"40a4crgojVJYY/aveXbUFBt","edit",void 0);var y=n.ccclass,w=n.property,_=(e("edit",(s=y("edit"),f=w(i),s((p=function(e,t,n,i,r){var o={};return Object.keys(i).forEach((function(e){o[e]=i[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),o),r&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(r):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}((h=function(e){function t(){for(var t,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return b(m(t=e.call.apply(e,[this].concat(i))||this),"prefab",p,m(t)),t}g(t,e);var n=t.prototype;return n.getPrefab=function(e){return this.prefab},n.getView=function(){return new _(this)},n.getHolder=function(e,t){return new M(e,t,this)},n.initElement=function(e,t){e.wrapBeforeMode=o.Auto},n.start=function(){for(var e=[],t=0;t<50;t++)e.push({name:t});this.modelManager.insert(e)},n.home=function(){r.loadScene("home")},n.scrollToHeader=function(){this.scrollManager.scrollToPercentage(1,0)},n.scrollToFooter=function(){this.scrollManager.scrollToPercentage(1,1)},n.insert=function(){this.modelManager.insert({name:this.modelManager.length,anim:!0},0)},n.remove=function(){this.modelManager.remove(6,1)},n.move=function(){this.modelManager.move(this.modelManager.length-1,1,0)},n.clear=function(){this.modelManager.clear()},t}(l)).prototype,"prefab",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),d=h))||d)),function(e){function t(){return e.apply(this,arguments)||this}g(t,e);var n=t.prototype;return n.onVisible=function(){},n.onDisable=function(){},t}(c)),M=function(e){function t(){for(var t,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return v(m(t=e.call.apply(e,[this].concat(i))||this),"_item",null),t}g(t,e);var n=t.prototype;return n.onCreated=function(){this._item=this.node.getComponent(u)},n.onVisible=function(){this._item.show(this)},n.onDisable=function(){this._item.hide()},t}(a);t._RF.pop()}}}));

System.register("chunks:///_virtual/test.ts",["cc","./Holder.ts","./View.ts","./ScrollAdapter.ts","./test_item.ts"],(function(e){"use strict";var t,n,i,r,o,a,l,u;return{setters:[function(e){t=e.cclegacy,n=e._decorator,i=e.Node,r=e.tween},function(e){o=e.Holder},function(e){a=e.View},function(e){l=e.ScrollAdapter},function(e){u=e.TestItem}],execute:function(){var c,s,f,d,h,p,b;function g(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function m(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function w(e,t,n,i,r){var o={};return Object.keys(i).forEach((function(e){o[e]=i[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),o),r&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(r):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}t._RF.push({},"4989d/dj95LEbRXxYKodcL8","test",void 0);var _=n.ccclass,z=n.property,M=(e("Test",(c=_("Test"),s=z(i),f=z(i),c((p=w((h=function(e){function t(){for(var t,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return g(m(t=e.call.apply(e,[this].concat(i))||this),"loading123",p,m(t)),g(m(t),"prefab",b,m(t)),t}v(t,e);var n=t.prototype;return n.getPrefab=function(e){return this.prefab},n.getView=function(){return new M(this)},n.getHolder=function(e,t){return new j(e,t,this)},n.initElement=function(e,t){},n.start=function(){r(this.loading123).by(1,{angle:-360}).union().repeatForever().start();for(var e=[],t=0;t<10;t++)e.push({name:t,index:t});this.modelManager.insert(e)},n.insertHeader=function(){for(var e=[],t=0;t<3;t++)e.push({name:this.modelManager.length+t,index:this.modelManager.length+t});this.modelManager.insert(e,0)},n.insertFooter=function(){for(var e=[],t=0;t<4;t++)e.push({name:this.modelManager.length+t,index:this.modelManager.length+t});this.modelManager.insert(e)},n.remove=function(){this.modelManager.move(0,1,1)},t}(l)).prototype,"loading123",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=w(h.prototype,"prefab",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),d=h))||d)),function(e){function t(){return e.apply(this,arguments)||this}v(t,e);var n=t.prototype;return n.onVisible=function(){},n.onDisable=function(){},t}(a)),j=function(e){function t(){for(var t,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return y(m(t=e.call.apply(e,[this].concat(i))||this),"_item",null),t}v(t,e);var n=t.prototype;return n.onCreated=function(){this._item=this.node.getComponent(u)},n.onVisible=function(){console.log("显示",this.data.name),this._item.show(this)},n.onDisable=function(){this._item.hide()},t}(o);t._RF.pop()}}}));

System.register("chunks:///_virtual/CenterManager.ts",["cc","./Manager.ts","./enum.ts","./ViewManager.ts","./ScrollManager.ts"],(function(e){"use strict";var i,t,r,a,n,o,s;return{setters:[function(e){i=e.cclegacy,t=e._decorator,r=e.v3},function(e){a=e.Manager},function(e){n=e.AlwaysScroll},function(e){o=e.ViewManager},function(e){s=e.ScrollManager}],execute:function(){var l,c,u,p,h,d,g,f,v,b,w;function _(e,i,t,r){t&&Object.defineProperty(e,i,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(r):void 0})}function m(e,i){for(var t=0;t<i.length;t++){var r=i[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function z(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function M(e,i,t,r,a){var n={};return Object.keys(r).forEach((function(e){n[e]=r[e]})),n.enumerable=!!n.enumerable,n.configurable=!!n.configurable,("value"in n||n.initializer)&&(n.writable=!0),n=t.slice().reverse().reduce((function(t,r){return r(e,i,t)||t}),n),a&&void 0!==n.initializer&&(n.value=n.initializer?n.initializer.call(a):void 0,n.initializer=void 0),void 0===n.initializer&&(Object.defineProperty(e,i,n),n=null),n}i._RF.push({},"49cfdCskIREZ6//by123w4v","CenterManager",void 0);var A=t.ccclass,x=t.property;e("CenterManager",(l=A("CenterManager"),c=x("boolean"),u=x({visible:function(){return this.enabled}}),p=x({range:[0,1],slide:!0,step:.1}),h=x({range:[0,1],slide:!0,step:.1}),l((f=M((g=function(e){var i,t;function a(){for(var i,t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];return _(z(i=e.call.apply(e,[this].concat(r))||this),"_enabled",f,z(i)),_(z(i),"duration",v,z(i)),_(z(i),"containerAnchorPoint",b,z(i)),_(z(i),"elementAnchorPoint",w,z(i)),i}t=e,(i=a).prototype=Object.create(t.prototype),i.prototype.constructor=i,i.__proto__=t;var l,c,u,p=a.prototype;return p.getContainerOffset=function(e){void 0===e&&(e=this.containerAnchorPoint);var i=0;return i=this.adapter.isHorizontal?-1==this.adapter.multiplier?e:1-e:1==this.adapter.multiplier?e:1-e,this.adapter.mainAxisSize*i},p.getElementOffset=function(e){void 0===e&&(e=this.elementAnchorPoint);return this.adapter.isHorizontal?-1==this.adapter.multiplier?e:1-e:1==this.adapter.multiplier?e:1-e},p.onInit=function(){this.adapter.scrollManager.on(s.Event.ON_ABOUT_TO_STOP,this._onAboutToStop,this),this.adapter.viewManager.on(o.Event.ON_UPDATE_VIEWS,this.scrollToCenter,this,!0)},p._onAboutToStop=function(){this.scrollToCenter()},p.scrollToCenter=function(e){if(void 0===e&&(e=this.duration),this.enabled){var i=this.getCenterVisibleIndex();if(-1!=i){var t=this.adapter.viewManager.getVisibleView(i);this.adapter.scrollManager.scrollToGroupIndex(e,t.index)}}},p.getCenterVisibleIndex=function(e,i){void 0===e&&(e=this.containerAnchorPoint),void 0===i&&(i=this.elementAnchorPoint);for(var t=this.adapter.mainAxis,a=this.getContainerOffset(e),n=-1,o=Number.MAX_SAFE_INTEGER,s=0;s<this.adapter.viewManager.visibleLength;s++){var l=this.adapter.viewManager.getVisibleView(s);if(!l||!l.group)break;var c={x:l.group.position.x,y:l.group.position.y};c[t]-=this.adapter.multiplier*l.group.size[t]*i;var u=this.adapter.scrollManager.content.convertToWorldSpaceAR(r(c.x,c.y)),p=this.adapter.scrollManager.view.convertToNodeSpaceAR(u),h=Math.abs(p[t]+this.adapter.multiplier*a);h<o&&(o=h,n=s)}return n},p.getPositionByGroupIndex=function(e,i,t){void 0===i&&(i=n.Auto),void 0===t&&(t=!1);var r=this.adapter.viewManager.getGroup(e);if(!r)return null;var a=null;if(i==n.Header&&this.adapter.viewManager.loopHeader)t&&(a=this._checkExists(e)),null==a&&(a=this._alwaysHeader(e,r));else if(i==n.Footer&&this.adapter.viewManager.loopFooter)t&&(a=this._checkExists(e)),null==a&&(a=this._alwaysFooter(e,r));else if(null==(a=this._checkExists(e))){var o=this.adapter.viewManager.header,s=this.adapter.viewManager.footer;o?e>s.index?a=this._calcTargetFooter(s.group,s.index+1,e,r):e<o.index&&(a=this._calcTargetHeader(o.group,o.index-1,e,r)):a={position:r.position[this.adapter.mainAxis],size:r.size[this.adapter.mainAxis],anchor:r.anchorPoint[this.adapter.mainAxis]}}return this._convertTargetToPosition(a)},p._convertTargetToPosition=function(e){var i=null;if(e){var t=this.adapter.multiplier,r=-1==t?e.anchor:1-e.anchor;i=-e.position,i-=this.getContainerOffset()*t,i-=e.size*r*t,i+=e.size*this.getElementOffset()*t}return i},p._checkExists=function(e){var i=this.adapter.viewManager.getVisibleIndexByGroupIndex(e);if(-1!=i){var t=this.adapter.viewManager.getVisibleView(i);return{position:t.group.position[this.adapter.mainAxis],size:t.group.size[this.adapter.mainAxis],anchor:t.group.anchorPoint[this.adapter.mainAxis]}}return null},p._calcTargetFooter=function(e,i,t,r){for(var a=this.adapter.viewManager.internal_getInitFooterSize(e),n=i;n<=t;n++)a+=this.adapter.viewManager.internal_accumulationSize(n);return{position:this.adapter.viewManager.internal_convertSizeToFooterPosition(a,r),size:r.size[this.adapter.mainAxis],anchor:r.anchorPoint[this.adapter.mainAxis]}},p._calcTargetHeader=function(e,i,t,r){for(var a=this.adapter.viewManager.internal_getInitHeaderSize(e),n=i;n>=t;n--)a+=this.adapter.viewManager.internal_accumulationSize(n);return{position:this.adapter.viewManager.internal_convertSizeToHeaderPosition(a,r),size:r.size[this.adapter.mainAxis],anchor:r.anchorPoint[this.adapter.mainAxis]}},p._alwaysHeader=function(e,i){var t=0,r=e,a=this.adapter.viewManager.header;return a&&(t=this.adapter.viewManager.internal_getInitHeaderSize(a.group),r=a.index),e!=r&&(t=this._calcSizeToHeader(r,e,t)),{position:this.adapter.viewManager.internal_convertSizeToHeaderPosition(t,i),size:i.size[this.adapter.mainAxis],anchor:i.anchorPoint[this.adapter.mainAxis]}},p._alwaysFooter=function(e,i){var t=0,r=e,a=this.adapter.viewManager.footer;return a&&(t=this.adapter.viewManager.internal_getInitFooterSize(a.group),r=a.index),e!=r&&(t=this._calcSizeToFooter(r,e,t)),{position:this.adapter.viewManager.internal_convertSizeToFooterPosition(t,i),size:i.size[this.adapter.mainAxis],anchor:i.anchorPoint[this.adapter.mainAxis]}},p._calcSizeToHeader=function(e,i,t){for(;;){if(--e<0){if(!this.adapter.viewManager.loopHeader)return t;e=this.adapter.viewManager.groupLength-1}if(t+=this.adapter.viewManager.internal_accumulationSize(e),i==e)return t}},p._calcSizeToFooter=function(e,i,t){for(;;){if(++e>=this.adapter.viewManager.groupLength){if(!this.adapter.viewManager.loopFooter)return t;e=0}if(t+=this.adapter.viewManager.internal_accumulationSize(e),e==i)return t}},l=a,(c=[{key:"enabled",get:function(){return this._enabled},set:function(e){e!=this._enabled&&(this._enabled=e)}},{key:"max",get:function(){var e=this.getContainerOffset(this.containerAnchorPoint);return this.adapter.isArrangeAxisStart?e:this.adapter.mainAxisSize-e}},{key:"min",get:function(){var e=this.getContainerOffset(this.containerAnchorPoint);return this.adapter.isArrangeAxisStart?this.adapter.mainAxisSize-e:e}}])&&m(l.prototype,c),u&&m(l,u),a}(a)).prototype,"_enabled",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),M(g.prototype,"enabled",[c],Object.getOwnPropertyDescriptor(g.prototype,"enabled"),g.prototype),v=M(g.prototype,"duration",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),b=M(g.prototype,"containerAnchorPoint",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),w=M(g.prototype,"elementAnchorPoint",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),d=g))||d));i._RF.pop()}}}));

System.register("chunks:///_virtual/time.ts",["cc","./Holder.ts","./View.ts","./ScrollAdapter.ts","./time_item.ts"],(function(e){"use strict";var t,i,n,r,o,a,u;return{setters:[function(e){t=e.cclegacy,i=e._decorator,n=e.Node},function(e){r=e.Holder},function(e){o=e.View},function(e){a=e.ScrollAdapter},function(e){u=e.TimeItem}],execute:function(){var l,c,s,f,p,h;function b(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function y(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function m(e,t,i,n,r){var o={};return Object.keys(n).forEach((function(e){o[e]=n[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),o),r&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(r):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}t._RF.push({},"4a4d813ttpCaZeKBWEWAuzf","time",void 0);var g=i.ccclass,w=i.property,_=(e("Time",(l=g("Time"),c=w(n),l((p=m((f=function(e){function t(){for(var t,i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];return b(d(t=e.call.apply(e,[this].concat(n))||this),"prefab",p,d(t)),b(d(t),"type",h,d(t)),t}v(t,e);var i=t.prototype;return i.getPrefab=function(e){return this.prefab},i.getView=function(){return new _(this)},i.getHolder=function(e,t){return new z(e,t,this)},i.initElement=function(e,t){},i.onLoad=function(){var e=[];if(0==this.type)for(var t=0;t<2e3;t++)e.push({value:1850+t,name:"年",type:this.type});else if(1==this.type)for(var i=0;i<12;i++)e.push({value:i+1,name:"月",type:this.type});else if(2==this.type)for(var n=0;n<31;n++)e.push({value:n+1,name:"日",type:this.type});this.modelManager.insert(e)},i.scrollTo=function(e,t){var i=this.modelManager.modelList.findIndex((function(e){return e.data.value==t}));this.scrollManager.scrollToGroupIndex(e,i)},t}(a)).prototype,"prefab",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),h=m(f.prototype,"type",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),s=f))||s)),function(e){function t(){return e.apply(this,arguments)||this}v(t,e);var i=t.prototype;return i.onVisible=function(){},i.onDisable=function(){},t}(o)),z=function(e){function t(){for(var t,i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];return y(d(t=e.call.apply(e,[this].concat(n))||this),"_item",void 0),t}v(t,e);var i=t.prototype;return i.onCreated=function(){this._item=this.node.getComponent(u)},i.onVisible=function(){this._item.show(this)},i.onDisable=function(){this._item.hide()},t}(r);t._RF.pop()}}}));

System.register("chunks:///_virtual/ReleaseManager.ts",["cc","./Manager.ts","./enum.ts","./ScrollManager.ts"],(function(t){"use strict";var e,i,n,a,r;return{setters:[function(t){e=t.cclegacy,i=t._decorator},function(t){n=t.Manager},function(t){a=t.ReleaseState},function(t){r=t.ScrollManager}],execute:function(){var s,o,l,h,p,u,_,c,f,d,g,b,v,L,m;function E(t,e,i,n){i&&Object.defineProperty(t,e,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function w(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function y(t,e,i){return e&&w(t.prototype,e),i&&w(t,i),t}function S(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function O(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function R(t,e,i,n,a){var r={};return Object.keys(n).forEach((function(t){r[t]=n[t]})),r.enumerable=!!r.enumerable,r.configurable=!!r.configurable,("value"in r||r.initializer)&&(r.writable=!0),r=i.slice().reverse().reduce((function(i,n){return n(t,e,i)||i}),r),a&&void 0!==r.initializer&&(r.value=r.initializer?r.initializer.call(a):void 0,r.initializer=void 0),void 0===r.initializer&&(Object.defineProperty(t,e,r),r=null),r}e._RF.push({},"584779mBRhND6eHOQ3xrp/1","ReleaseManager",void 0);var P,M=i.ccclass,U=i.property;!function(t){t[t.ON_PULL_UP=0]="ON_PULL_UP",t[t.ON_PULL_DOWN=1]="ON_PULL_DOWN",t[t.ON_PULL_LEFT=2]="ON_PULL_LEFT",t[t.ON_PULL_RIGHT=3]="ON_PULL_RIGHT"}(P||(P={}));t("ReleaseManager",(s=M("ReleaseManager"),o=U("boolean"),l=U({range:[0,1],slide:!0,step:.01,visible:function(){return this.enabled}}),h=U({range:[0,1],slide:!0,step:.01,visible:function(){return this.enabled}}),p=U({range:[0,1],slide:!0,step:.01,visible:function(){return this.enabled}}),u=U({range:[0,1],slide:!0,step:.01,visible:function(){return this.enabled}}),s((m=L=function(t){var e,i;function n(){for(var e,i=arguments.length,n=new Array(i),a=0;a<i;a++)n[a]=arguments[a];return E(S(e=t.call.apply(t,[this].concat(n))||this),"_enabled",f,S(e)),E(S(e),"left",d,S(e)),E(S(e),"right",g,S(e)),E(S(e),"top",b,S(e)),E(S(e),"bottom",v,S(e)),O(S(e),"_pullUp",void 0),O(S(e),"_pullDown",void 0),O(S(e),"_pullLeft",void 0),O(S(e),"_pullRight",void 0),e}i=t,(e=n).prototype=Object.create(i.prototype),e.prototype.constructor=e,e.__proto__=i;var s=n.prototype;return s.onInit=function(){this.enabled&&(this._pullUp=new z(this,P.ON_PULL_UP,this.bottom),this._pullDown=new z(this,P.ON_PULL_DOWN,this.top),this._pullLeft=new z(this,P.ON_PULL_LEFT,this.right),this._pullRight=new z(this,P.ON_PULL_RIGHT,this.left),this.adapter.scrollManager.on(r.Event.ON_SCROLL_START,this.onScrollStart,this),this.adapter.scrollManager.on(r.Event.ON_SCROLL_END,this.onScrollEnd,this),this.adapter.scrollManager.on(r.Event.ON_SCROLL_CANCEL,this.onScrollEnd,this),this.checkLoop(),console.log("release创建完成"))},s.checkLoop=function(){this.adapter.isHorizontal?this.adapter.isArrangeAxisStart?(this.left>0&&(this.adapter.viewManager.loopHeader=!1),this.right>0&&(this.adapter.viewManager.loopFooter=!1)):(this.left>0&&(this.adapter.viewManager.loopFooter=!1),this.right>0&&(this.adapter.viewManager.loopHeader=!1)):this.adapter.isArrangeAxisStart?(this.top>0&&(this.adapter.viewManager.loopHeader=!1),this.bottom>0&&(this.adapter.viewManager.loopFooter=!1)):(this.top>0&&(this.adapter.viewManager.loopFooter=!1),this.bottom>0&&(this.adapter.viewManager.loopHeader=!1))},s.onScrollStart=function(){this.adapter.isHorizontal?(this.left>0&&this._pullRight._setState(a.IDLE),this.right>0&&this._pullLeft._setState(a.IDLE)):(this.top>0&&this._pullDown._setState(a.IDLE),this.bottom>0&&this._pullUp._setState(a.IDLE))},s.onScrollEnd=function(){this.adapter.isHorizontal?(this.left>0&&this._pullRight._setState(a.RELEASE),this.right>0&&this._pullLeft._setState(a.RELEASE)):(this.top>0&&this._pullDown._setState(a.RELEASE),this.bottom>0&&this._pullUp._setState(a.RELEASE))},s.internal_lateUpdate=function(t){if(this.enabled){var e=this.adapter.scrollManager.boundaryOffset;this.adapter.scrollManager.dragging||(e=0),this.adapter.isHorizontal?(this.left>0&&this._pullRight._set(Math.max(-e,0),e<0),this.right>0&&this._pullLeft._set(Math.max(e,0),e>0)):(this.top>0&&this._pullDown._set(Math.max(e,0),e>0),this.bottom>0&&this._pullUp._set(Math.max(-e,0),e<0))}},y(n,[{key:"enabled",get:function(){return this._enabled},set:function(t){t!=this._enabled&&(this._enabled=t)}},{key:"max",get:function(){return this.enabled?this.adapter.isHorizontal?this._pullLeft?this._pullLeft.expand:0:this._pullDown?this._pullDown.expand:0:0}},{key:"min",get:function(){return this.enabled?this.adapter.isHorizontal?this._pullRight?this._pullRight.expand:0:this._pullUp?this._pullUp.expand:0:0}}]),n}(n),O(L,"Event",P),f=R((c=m).prototype,"_enabled",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),R(c.prototype,"enabled",[o],Object.getOwnPropertyDescriptor(c.prototype,"enabled"),c.prototype),d=R(c.prototype,"left",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),g=R(c.prototype,"right",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),b=R(c.prototype,"top",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),v=R(c.prototype,"bottom",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),_=c))||_));var z=t("ReleaseEvent",function(){function t(t,e,i){O(this,"_expand",0),O(this,"_progress",0),O(this,"_offset",0),O(this,"_state",void 0),O(this,"_defaultPercentage",void 0),O(this,"_manager",void 0),O(this,"_event",void 0),O(this,"_stop",void 0),this._defaultPercentage=i,this._manager=t,this._event=e}y(t,[{key:"expand",get:function(){return this._expand}},{key:"progress",get:function(){return this._progress}},{key:"offset",get:function(){return this._offset}},{key:"state",get:function(){return this._state}}]);var e=t.prototype;return e._set=function(t,e){e&&(this._stop=!1),this._stop||(this._offset=t,this._progress=t/(this._defaultPercentage*this._manager.adapter.mainAxisSize),this._stop=this._offset<=.1,this._setState(a.PULL),this._manager.emit(this._event,this))},e._setState=function(t){this._state!=a.WAIT&&(t==a.PULL&&this._state==a.RELEASE||(this._state=t))},e.wait=function(t){void 0===t&&(t=this._defaultPercentage*this._manager.adapter.mainAxisSize),this._expand=t,this._state=a.WAIT},e.release=function(){this._expand=0,this._state=a.IDLE,this.offset<=.1&&(this._offset=0,this._progress=0,this._manager.emit(this._event,this))},t}());e._RF.pop()}}}));

System.register("chunks:///_virtual/pageView_item.ts",["cc","./enum.ts","./Holder.ts","./View.ts","./ScrollAdapter.ts","./page_item.ts","./item_page.ts"],(function(e){"use strict";var t,i,r,n,o,a,l,u,c,f,p;return{setters:[function(e){t=e.cclegacy,i=e._decorator,r=e.Label,n=e.Prefab,o=e.Node},function(e){a=e.WrapMode},function(e){l=e.Holder},function(e){u=e.View},function(e){c=e.ScrollAdapter},function(e){f=e.page_item},function(e){p=e.item_page}],execute:function(){var s,b,h,d,m,w,g,y,v;function _(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function z(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function A(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function V(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function j(e,t,i,r,n){var o={};return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce((function(i,r){return r(e,t,i)||i}),o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}t._RF.push({},"58d34yHUJBMr6bNe9N2eji9","pageView_item",void 0);var M=i.ccclass,O=i.property,P=(e("pageView_item",(s=M("pageView_item"),b=O(r),h=O(n),d=O(o),s((g=j((w=function(e){function t(){for(var t,i=arguments.length,r=new Array(i),n=0;n<i;n++)r[n]=arguments[n];return _(z(t=e.call.apply(e,[this].concat(r))||this),"label",g,z(t)),_(z(t),"prefab1",y,z(t)),_(z(t),"prefab2",v,z(t)),V(z(t),"_holder",void 0),t}A(t,e);var i=t.prototype;return i.getPrefab=function(e){return 0==e.type?this.prefab1:this.prefab2},i.getView=function(){return new P(this)},i.getHolder=function(e,t){return new B(e,t,this)},i.initElement=function(e,t){t.wrapAfter&&(e.wrapAfterMode=t.wrapAfter,e.wrapBeforeMode=t.wrapBefore)},i.show=function(e){this._holder=e,this.label.string=this._holder.data.name;for(var t=0;t<10;t++){var i={name:t+"",type:t%2};0==this._holder.data.type&&(i.wrapAfter=a.Nowrap,i.wrapBefore=t%2==1?a.Auto:a.Wrap),this.modelManager.insert(i)}},i.hide=function(){this.modelManager.clear()},t}(c)).prototype,"label",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=j(w.prototype,"prefab1",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=j(w.prototype,"prefab2",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=w))||m)),function(e){function t(){return e.apply(this,arguments)||this}A(t,e);var i=t.prototype;return i.onVisible=function(){},i.onDisable=function(){},t}(u)),B=function(e){function t(){for(var t,i=arguments.length,r=new Array(i),n=0;n<i;n++)r[n]=arguments[n];return V(z(t=e.call.apply(e,[this].concat(r))||this),"_item",null),t}A(t,e);var i=t.prototype;return i.onCreated=function(){},i.onVisible=function(){0!=this.data.type?this._item=this.node.getComponent(p):this._item=this.node.getComponent(f),this._item.show(this)},i.onDisable=function(){this._item.hide()},t}(l);t._RF.pop()}}}));

System.register("chunks:///_virtual/ScrollManager.ts",["cc","./helper.ts","./Manager.ts","./enum.ts","./debug.ts","./ViewManager.ts"],(function(t){"use strict";var e,i,n,a,r,o,s,h,l,c,_,d,u,p,g,v,f,y;return{setters:[function(t){e=t.cclegacy,i=t._decorator,n=t.Vec3,a=t.UITransform,r=t.Node,o=t.Widget,s=t.EventTouch,h=t.macro,l=t.easing},function(t){c=t.Helper},function(t){_=t.Manager},function(t){d=t.Orientation,u=t.TouchMode,p=t.MovementType,g=t.ScrollDirection,v=t.NestedDirection,f=t.Layer},function(){},function(t){y=t.ViewManager}],execute:function(){var E,O,M,T,b,A,m,S,w,P,C,N,L,x,D,H,R,z,I,U,k,V,F,G,B,X,j,W,Z,q,Y;function K(t,e,i,n){i&&Object.defineProperty(t,e,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function J(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Q(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function $(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function tt(t,e,i,n,a){var r={};return Object.keys(n).forEach((function(t){r[t]=n[t]})),r.enumerable=!!r.enumerable,r.configurable=!!r.configurable,("value"in r||r.initializer)&&(r.writable=!0),r=i.slice().reverse().reduce((function(i,n){return n(t,e,i)||i}),r),a&&void 0!==r.initializer&&(r.value=r.initializer?r.initializer.call(a):void 0,r.initializer=void 0),void 0===r.initializer&&(Object.defineProperty(t,e,r),r=null),r}e._RF.push({},"6000cNyEYlC4aj/Efw70/yK","ScrollManager",void 0);var et,it=i.ccclass,nt=i.property,at=new n,rt=t("ADAPTER","__ADAPTER__");!function(t){t[t.ON_SCROLL=0]="ON_SCROLL",t[t.ON_UPDATE_PERCENTAGE=1]="ON_UPDATE_PERCENTAGE",t[t.ON_VIEW_SIZE_CHANGED=2]="ON_VIEW_SIZE_CHANGED",t[t.ON_ABOUT_TO_STOP=3]="ON_ABOUT_TO_STOP",t[t.ON_SCROLL_START=4]="ON_SCROLL_START",t[t.ON_SCROLL_END=5]="ON_SCROLL_END",t[t.ON_SCROLL_CANCEL=6]="ON_SCROLL_CANCEL",t[t.ON_CHANGED_ORIENTATION=7]="ON_CHANGED_ORIENTATION",t[t.ON_SCROLL_TO_GROUPINDEX_BEFOR=8]="ON_SCROLL_TO_GROUPINDEX_BEFOR",t[t.ON_SCROLL_TO_GROUPINDEX_AFTER=9]="ON_SCROLL_TO_GROUPINDEX_AFTER",t[t.ON_SCROLL_TO_MODELINDEX_BEFOR=10]="ON_SCROLL_TO_MODELINDEX_BEFOR",t[t.ON_SCROLL_TO_MODELINDEX_AFTER=11]="ON_SCROLL_TO_MODELINDEX_AFTER"}(et||(et={}));t("ScrollManager",(E=it("ScrollManager"),O=nt(a),M=nt(a),T=nt(a),b=nt(a),A=nt({type:d}),m=nt({type:d}),S=nt({type:u}),w=nt({type:p}),P=nt({range:[0,1],slide:!0,step:.001,visible:function(){return this.movementType==p.Elastic}}),C=nt({range:[0,1],slide:!0,step:.001,visible:function(){return this.inertia}}),N=nt({tooltip:"当滚动速度小于这个值时，会发送ON_ABOUT_TO_STOP广播"}),L=nt({tooltip:"取消子节点的Button点击事件"}),x=nt({range:[0,.5],slide:!0,step:.001,visible:function(){return this.inertia}}),D=nt({range:[.5,1],slide:!0,step:.001,visible:function(){return this.inertia}}),E((Y=q=function(t){var e,i;function a(){for(var e,i=arguments.length,a=new Array(i),r=0;r<i;r++)a[r]=arguments[r];return K(Q(e=t.call.apply(t,[this].concat(a))||this),"_view",z,Q(e)),K(Q(e),"_content",I,Q(e)),K(Q(e),"_orientation",U,Q(e)),K(Q(e),"touchMode",k,Q(e)),K(Q(e),"movementType",V,Q(e)),K(Q(e),"elasticity",F,Q(e)),K(Q(e),"inertia",G,Q(e)),K(Q(e),"decelerationRate",B,Q(e)),K(Q(e),"aboutToStopVelocity",X,Q(e)),K(Q(e),"cancelInnerEvents",j,Q(e)),K(Q(e),"nestedMinThreshold",W,Q(e)),K(Q(e),"nestedMaxThreshold",Z,Q(e)),$(Q(e),"__debug_graphics",void 0),$(Q(e),"_boundaryOffset",0),$(Q(e),"_viewWidget",null),$(Q(e),"_parentAdapter",void 0),$(Q(e),"_layerLowest",void 0),$(Q(e),"_layerMedium",void 0),$(Q(e),"_layerHighest",void 0),$(Q(e),"_percentage",0),$(Q(e),"_velocity",0),$(Q(e),"_dragging",!1),$(Q(e),"_scrolling",!1),$(Q(e),"_isCanceledEvent",!1),$(Q(e),"_contentStartPosition",new n),$(Q(e),"_prevContentPosition",new n),$(Q(e),"_nestedDirection",v.Both),$(Q(e),"_parentTouch",!1),$(Q(e),"_stopCheckNested",!1),$(Q(e),"_scrollHandlePercentage",null),$(Q(e),"_scrollHandlePosition",null),$(Q(e),"_isEmitAboutToStop",!1),$(Q(e),"_isMyEventAndMoved",!1),$(Q(e),"_scrollDirection",g.None),$(Q(e),"_laseScrollDirection",g.None),$(Q(e),"_touchEvent",null),$(Q(e),"test",!1),e}i=t,(e=a).prototype=Object.create(i.prototype),e.prototype.constructor=e,e.__proto__=i;var _,d,E,O=a.prototype;return O.onInit=function(){var t=this;this._initView(),this._initContent(),this._parentAdapter=this.adapter.getParentAdapter(this.adapter.node.parent),this.view.node[rt]=!0,this.adapter.viewManager.on(y.Event.ON_UPDATE_VIEWS,this._onUpdateViews,this),this.adapter.viewManager.on(y.Event.ON_CHANGED_VIRTUALSIZE,this._onChangedVirtualSize,this),this.adapter.viewManager.on(y.Event.ON_CHANGED_OVERFLOWHEADER,this._onChangedOverflowHeader,this),this.adapter.viewManager.on(y.Event.ON_RESET_ALL_STATE,this._onResetAllState,this),this.adapter.viewManager.on(y.Event.ON_CLEARVIEWS,this._onResetAllState,this),this.adapter.node.on(r.EventType.SIZE_CHANGED,this._onAdapterSizeChanged,this),this.view.node.on(r.EventType.SIZE_CHANGED,this._onViewSizeChanged,this),this._registerTouchEvent(),this.__createDebug(),this.view.scheduleOnce((function(){t._updatePercentage()}))},O._initView=function(){if(!this.view)throw Error("ScrollManager view 参数为空！");var t={x:.5,y:.5};t[this.adapter.mainAxis]=this.adapter.mainAxisAnchorPoint,this.view.setAnchorPoint(t.x,t.y);var e=this.view.getComponent(o);e||((e=this.view.addComponent(o)).isAlignLeft=e.isAlignRight=e.isAlignTop=e.isAlignBottom=!0,e.left=e.right=e.top=e.bottom=0),e.updateAlignment(),this._viewWidget=e},O.__createDebug=function(){},O.__drawDebug=function(){if(this.__debug_graphics){this.__debug_graphics.clear();var t=this.adapter.mainAxis,e=this.adapter.crossAxis,i=this.adapter.multiplier,n={x:0,y:0},a={x:0,y:0};a[t]=this.adapter.viewManager.virtualSize,a[e]=this.adapter.crossAxisSize,n[t]=this.contentPosition-a[t]*this.content.anchorPoint[t]*i,n[t]+=this.adapter.viewManager.overflowHeader,n[e]-=a[e]*this.view.anchorPoint[e],this.__debug_graphics.fillRect(n.x,n.y,a.x,a.y),this.__debug_graphics.stroke()}},O._initContent=function(){if(!this.content)throw Error("ScrollManager content 参数为空！");this.content.setAnchorPoint(this.view.anchorPoint);var t={x:0,y:0};t[this.adapter.crossAxis]=this.view.contentSize[this.adapter.crossAxis],this.content.setContentSize(t.x,t.y),this._layerLowest||(this._layerLowest=new r("_layerLowest"),this._layerMedium=new r("_layerMedium"),this._layerHighest=new r("_layerHighest"),this.content.node.addChild(this._layerLowest),this.content.node.addChild(this._layerMedium),this.content.node.addChild(this._layerHighest)),this._updateContentPosition({x:0,y:0})},O._registerTouchEvent=function(){this.view.node.on(r.EventType.TOUCH_START,this._onTouchStart,this,!0),this.view.node.on(r.EventType.TOUCH_END,this._onTouchEnd,this,!0),this.view.node.on(r.EventType.TOUCH_CANCEL,this._onTouchCancel,this,!0),this.view.node.on(r.EventType.TOUCH_MOVE,this._onTouchMove,this,!0)},O._bubbleToParent=function(t){this._parentAdapter&&this._parentAdapter.scrollManager.view.node.dispatchEvent(t)},O._emitCancelEvent=function(t){if(!this._isCanceledEvent){var e=t.getUILocation();e.subtract(t.getUIStartLocation()),this.cancelInnerEvents&&e.length()>7&&t.target!==this.view.node&&(this._simulateEvent(t,r.EventType.MOUSE_LEAVE),this._simulateEvent(t,r.EventType.TOUCH_CANCEL),this._isCanceledEvent=!0)}},O._simulateEvent=function(t,e,i){if(void 0===i&&(i=!0),t){var n=new s(t.getTouches(),t.bubbles),a=t.target;n.type=e,n.touch=t.touch,n.simulate=i,a.dispatchEvent(n)}},O._onUpdateViews=function(){this._velocity=0,this._updatePercentage()},O._onChangedVirtualSize=function(){this._updatePercentage(),null!=this._scrollHandlePosition&&null!=this._scrollHandlePosition.change&&this._scrollHandlePosition.change()},O._onChangedOverflowHeader=function(t){this.__drawDebug()},O._onResetAllState=function(){this._velocity=0,this._scrolling=!1,this._dragging=!1,this._isMyEventAndMoved=!1,this._scrollDirection=g.None,this._percentage=0,this._isEmitAboutToStop=!1,this._boundaryOffset=0,this._isCanceledEvent=!1,this._parentTouch=!1,this._stopCheckNested=!1,this._scrollDirection=g.None,this._touchEvent=null,this.stopScroll(),this._initView(),this._initContent()},O._onAdapterSizeChanged=function(){this._viewWidget.updateAlignment()},O._onViewSizeChanged=function(){this.emit(et.ON_VIEW_SIZE_CHANGED)},O._isMyEvent=function(t,e){return t.eventPhase==s.AT_TARGET||!e||e[0]==this.view.node&&!t.target[rt]},O._onTouchStart=function(t){this._velocity=0,this._dragging=!0,this._isMyEventAndMoved=!1,this._isCanceledEvent=!1,this._parentTouch=!1,this._stopCheckNested=!1,this._isEmitAboutToStop=!1,this._scrollDirection=g.None,this._contentStartPosition.set(this.content.node.position),this._touchEvent=t,this.stopScroll(),this._calcNestedDirection(),this.emit(et.ON_SCROLL_START)},O._onTouchEnd=function(t,e){this._dragging=!1,this._touchEvent=null,this.emit(et.ON_SCROLL_END,t)},O._onTouchCancel=function(t,e){t.simulate||(this._dragging=!1,this._touchEvent=null,this.emit(et.ON_SCROLL_CANCEL,t))},O._onTouchMove=function(t,e){if(this._isMyEvent(t,e)){if(this._emitCancelEvent(t),this._parentTouch||!this.canTouch)return this._bubbleToParent(t);if(this._touchEvent){var i=this.adapter.mainAxis,n=t.getUILocation(),a=t.getUIStartLocation(),r=n.subtract(a);if(!r.equals2f(0,0)){var o={x:0,y:0};o[i]=this._contentStartPosition[i]+r[i];var s=o[i]-this.contentPosition,h=this.calcOffset(s),l=this.adapter.isHorizontal?-1:1;o[i]+=l*h,this.movementType==p.Elastic&&0!=h&&(o[i]-=l*this._rubberDelta(h,this.adapter.mainAxisSize)),this._checkNested(t,o,this._parentAdapter),this._parentTouch?this._bubbleToParent(t):(this._isMyEventAndMoved=!0,this._updateContentPosition(o))}}}},O._calcNestedDirection=function(){this._parentAdapter&&(this.percentage<=this.nestedMinThreshold&&!this.adapter.viewManager.loopHeader?this._nestedDirection=1==this.adapter.multiplier?v.Footer:v.Header:this.percentage>=this.nestedMaxThreshold&&!this.adapter.viewManager.loopFooter?this._nestedDirection=1==this.adapter.multiplier?v.Header:v.Footer:this._nestedDirection=v.Both)},O._checkNested=function(t,e,i){if(i&&!this._stopCheckNested){if(this.orientation==i.scrollManager.orientation){var n=e[this.adapter.mainAxis]-this._contentStartPosition[this.adapter.mainAxis];if(Math.abs(n)<=.1)return;this._nestedDirection==v.Footer?n<0&&(this._parentTouch=!0):this._nestedDirection==v.Header&&n>0&&(this._parentTouch=!0)}else{var a=0,r=0;if(t instanceof s){var o=t.getUIStartLocation(),h=t.getUILocation();a=Math.abs(o.x-h.x),r=Math.abs(o.y-h.y)}else a=Math.abs(t.getScrollX()),r=Math.abs(t.getScrollY());if(a==r)return;a>r?this.adapter.isVertical&&(this._parentTouch=!0):r>a&&this.adapter.isHorizontal&&(this._parentTouch=!0)}if(!this._parentTouch&&i.scrollManager.parentAdapter)return this._checkNested(t,e,i.scrollManager.parentAdapter);this._stopCheckNested=!0}},O._updateContentPosition=function(t,e){void 0===e&&(e=!0),this._updateScrollDirection(t),this.content.node.setPosition(t.x,t.y),this.emit(et.ON_SCROLL,this._scrollDirection),e?this._updatePercentage():this.__drawDebug()},O._updatePrevContentPosition=function(){this._prevContentPosition.set(this.content.node.position)},O._calcPercentage=function(t,e){var i=this.internal_getHiddenSize(),n=this.adapter.viewManager.loopHeader,a=this.adapter.viewManager.loopFooter,r=this.adapter.multiplier,o=this.adapter.viewManager.overflowHeader,s=t*r;if(this.adapter.isHorizontal?s-=e*r:s+=e*r,a)s+=(o+(i+=this.adapter.viewManager.spacing)*r)*r,this.adapter.centerManager.enabled?s+=this.adapter.centerManager.getContainerOffset():s+=this.adapter.paddingHeader,s+=1,s%=i;else if(n){s+=this.adapter.mainAxisSize-1,this.adapter.centerManager.enabled?s-=this.adapter.centerManager.getContainerOffset():s-=this.adapter.paddingFooter,s+=(o+i*r)*r,t*-r>o*r&&(s+=this.adapter.viewManager.spacing),s%=i}else s+=o*r,this.adapter.centerManager.enabled?s+=this.adapter.centerManager.getContainerOffset():s+=this.adapter.paddingHeader,s>i&&(s=i);return s/i},O._updatePercentage=function(){var t=this.calcOffset();this.adapter.viewManager.virtualSize<=this.adapter.mainAxisSize?this._percentage=0:this._percentage=this._calcPercentage(this.contentPosition,t),this.emit(et.ON_UPDATE_PERCENTAGE,this._percentage,t),this.__drawDebug()},O.internal_disableTouchTarget=function(t){if(this._touchEvent&&this._touchEvent.target==t){var e=this._touchEvent;this._simulateEvent(e,r.EventType.TOUCH_CANCEL,!1),this._simulateEvent(e,r.EventType.MOUSE_LEAVE,!1),this._touchEvent=null}},O.internal_getHiddenSize=function(){var t=this.adapter.viewManager.loopHeader,e=this.adapter.viewManager.loopFooter,i=this.adapter.viewManager.virtualSize;return t||e||this.adapter.centerManager.enabled||(i-=this.adapter.mainAxisSize,i+=this.adapter.mainAxisPadding),i},O._getContentMinBoundaryOffset=function(t,e){return!this.adapter.viewManager.header||!this.adapter.centerManager.enabled&&this.adapter.viewManager.virtualSize<=this.adapter.mainAxisSize?this.adapter.isHorizontal?e+this._defaultMax+t:e+this._defaultMin+t:this.adapter.viewManager.min+t},O._getContentMaxBoundaryOffset=function(t,e){return!this.adapter.viewManager.header||!this.adapter.centerManager.enabled&&this.adapter.viewManager.virtualSize<=this.adapter.mainAxisSize?this.adapter.isHorizontal?e+this._defaultMin+t:e+this._defaultMax+t:this.adapter.viewManager.max+t},O._getMaxBoundaryOffset=function(t){var e=this._viewMax;return this.adapter.isHorizontal?this.adapter.isArrangeAxisStart?t:e+t:this.adapter.isArrangeAxisStart?-t:e-t},O._getMinBoundaryOffset=function(t){var e=this._viewMin;return this.adapter.isHorizontal?this.adapter.isArrangeAxisStart?e+t:t:this.adapter.isArrangeAxisStart?e-t:-t},O._rubberDelta=function(t,e){return(1-1/(.55*Math.abs(t)/e+1))*e*Math.sign(t)},O._calcElastic=function(t,e,i){var n=this.adapter.mainAxis,a=this.elasticity;this._scrolling&&(a*=3);var r=this.adapter.isHorizontal?-1:1,o=c.smoothDamp(this.contentPosition,this.contentPosition+r*e,this._velocity,a,c.Infinity,t),s=o.velocity,h=o.position;Math.abs(s)<1&&(s=0),this._velocity=s,i[n]=h},O._calcInertia=function(t,e){this._velocity*=Math.pow(this.decelerationRate,t),Math.abs(this._velocity)<1&&(this._velocity=0),e[this.adapter.mainAxis]+=this._velocity*t},O._calcClamped=function(t){var e=this.adapter.mainAxis,i=t[e]-this.contentPosition,n=this.calcOffset(i);this.adapter.isHorizontal?t[e]-=n:t[e]+=n},O._updateScrollDirection=function(t){var e=t[this.adapter.mainAxis]-this.contentPosition;0!=e?(this.adapter.isHorizontal?this._scrollDirection=e>0?g.Right:g.Left:this._scrollDirection=e>0?g.Up:g.Down,this._laseScrollDirection=this._scrollDirection):this._scrollDirection=g.None},O.internal_setContentPosition=function(t,e){void 0===e&&(e=!0);var i={x:0,y:0};i[this.adapter.mainAxis]=t,this._updateContentPosition(i,e)},O.internal_lateUpdate=function(t){this.test||(this._autoScrolling(t),this._scrollHandler(t,this._scrollHandlePosition,this._scrollPositionHandler.bind(this)),this._scrollHandler(t,this._scrollHandlePercentage,this._scrollPercentageHandler.bind(this)))},O._autoScrolling=function(t){var e=this.calcOffset();if(this._boundaryOffset=e,this._dragging||0==e&&0==this._velocity||(this.content.node.getPosition(at),this.movementType==p.Elastic&&0!=e?this._calcElastic(t,e,at):this.inertia?this._calcInertia(t,at):this._velocity=0,this.movementType==p.Clamped&&this._calcClamped(at),this._updateContentPosition(at)),this._dragging&&this.inertia){var i=(this.contentPosition-this._prevContentPosition[this.adapter.mainAxis])/t;this._velocity=c.lerp(this._velocity,i,10*t)}this._prevContentPosition.equals(this.content.node.position)||this._updatePrevContentPosition(),!this._isEmitAboutToStop&&!this._dragging&&Math.abs(this._velocity)<=this.aboutToStopVelocity&&(this._scrollHandlePercentage||this._scrollHandlePosition||(this.emit(et.ON_ABOUT_TO_STOP,this._velocity),this._isEmitAboutToStop=!0)),this._scrolling=!1},O._scrollHandler=function(t,e,i){if(null!=e){e.deltaTime+=t;var n=e.deltaTime/(e.duration>h.FLT_EPSILON?e.duration:h.FLT_EPSILON);n=c.clamp01(n);var a=l.quintOut(n);e.current=c.progress(e.from,e.to,e.current,a),i(e,n)}},O._scrollPercentageHandler=function(t,e){var i=this.percentage;if(this.setPercentage(t.current),1==e||i==this.percentage){var n=!0;this._scrollHandlePercentage.stop&&(n=this._scrollHandlePercentage.stop()),n&&(this._scrollHandlePercentage=null)}},O._scrollPositionHandler=function(t,e){var i={x:0,y:0};i[this.adapter.mainAxis]=t.current,this._setAutoScroll(i),(1==e||Math.abs(this.contentPosition-t.to)<=1e-4)&&(this._scrollHandlePosition.stop&&this._scrollHandlePosition.stop(),this._scrollHandlePosition=null)},O._setAutoScroll=function(t){var e=this,i=function(t){e._updateContentPosition(t),e._updatePrevContentPosition(),e._velocity=0};i(t);var n=this.calcOffset();if(0!=n){var a=this.adapter.isHorizontal?-1:1;return t[this.adapter.mainAxis]+=n*a,i(t),!1}return!0},O._scrollToPosition=function(t,e,i){var n=this;if(!this.canAutoScroll)return!1;var a=e();return!(null==a||Math.abs(this.contentPosition-a)<h.FLT_EPSILON)&&(this._scrollHandlePercentage=null,this._scrollHandlePosition={current:0,from:this.contentPosition,to:a,deltaTime:0,duration:Math.max(0,t),change:function(){a=e(),n._scrollHandlePosition.to=a},stop:function(){i()}},!0)},O.getLayerNode=function(t){switch(t){case f.Medium:return this._layerMedium;case f.Highest:return this._layerHighest;default:return this._layerLowest}},O.scrollToModelIndex=function(t,e,i){var n=this,a=this.adapter.viewManager.getGroupIndexByModelIndex(e);if(-1!=a){var r=!1;this._scrollToPosition(t,(function(){var t=n.adapter.centerManager.getPositionByGroupIndex(a,i,r);return r=!0,t}),(function(){n.emit(et.ON_SCROLL_TO_MODELINDEX_AFTER,e)}))&&this.emit(et.ON_SCROLL_TO_MODELINDEX_BEFOR,e)}},O.scrollToGroupIndex=function(t,e,i){var n=this,a=!1;this._scrollToPosition(t,(function(){var t=n.adapter.centerManager.getPositionByGroupIndex(e,i,a);return a=!0,t}),(function(){n.emit(et.ON_SCROLL_TO_GROUPINDEX_AFTER,e)}))&&this.emit(et.ON_SCROLL_TO_GROUPINDEX_BEFOR,e)},O.scrollToHeader=function(t){this.scrollToGroupIndex(t,0)},O.scrollToFooter=function(t){this.scrollToGroupIndex(t,this.adapter.viewManager.groupLength-1)},O.scrollToPercentage=function(t,e){if(!this.canAutoScroll)return!1;Math.abs(this._percentage-e)<.001||(e=c.clamp01(e),t=Math.max(0,t),this._scrollHandlePercentage=null,this._scrollHandlePercentage={deltaTime:0,duration:t,current:0,from:this._percentage,to:e})},O.stopVelocity=function(){this._velocity=0},O.stopScroll=function(){this._scrollHandlePosition=null,this._scrollHandlePercentage=null,this.stopVelocity()},O.setPercentage=function(t){for(var e=this.internal_getHiddenSize(),i={x:0,y:0},n=0,a=null;n<100;){n++;var r=this._percentage-t;if(null!=a&&this._percentage===a)break;if(Math.abs(r)<h.FLT_EPSILON)break;a=this._percentage;var o=this.contentPosition-r*this.adapter.multiplier*e;if(i[this.adapter.mainAxis]=o,!this._setAutoScroll(i))break}100==n&&console.warn("循环次数已达最大值，尽量不要在滚动过程中频繁修改尺寸")},O.calcOffset=function(t,e){void 0===t&&(t=0),void 0===e&&(e=this.contentPosition);var i=0;if(this.movementType==p.Unrestricted)return i;var n=this._getContentMaxBoundaryOffset(t,e),a=this._getContentMinBoundaryOffset(t,e),r=this._getMaxBoundaryOffset(n),o=this._getMinBoundaryOffset(a);!this.adapter.centerManager.enabled&&this.adapter.viewManager.virtualSize>this.adapter.mainAxisSize&&(this.adapter.isVertical?(r-=this.adapter.viewManager.top,o+=this.adapter.viewManager.bottom):(r-=this.adapter.viewManager.left,o+=this.adapter.viewManager.right));var s=0,h=0;if(this.adapter.centerManager.enabled&&this.adapter.viewManager.groupLength>0)h=this.adapter.centerManager.max,s=this.adapter.centerManager.min;else{var l=this.adapter.viewManager.getMagneticOffset();r-=l,o-=l}return this.adapter.releaseManager.enabled&&(h=Math.max(h,this.adapter.releaseManager.max),s=Math.max(s,this.adapter.releaseManager.min)),r-=h,(o+=s)<-.001?i=o:r>.001&&(i=r),i},_=a,(d=[{key:"view",get:function(){return this._view},set:function(t){this._view=t}},{key:"content",get:function(){return this._content},set:function(t){this._content=t}},{key:"orientation",get:function(){return this._orientation},set:function(t){t!=this._orientation&&(this._orientation=t,this.emit(et.ON_CHANGED_ORIENTATION))}},{key:"_viewMin",get:function(){return-this.adapter.mainAxisSize}},{key:"_viewMax",get:function(){return this.adapter.mainAxisSize}},{key:"_defaultMin",get:function(){return 1==this.adapter.multiplier?-this.adapter.mainAxisSize:0}},{key:"_defaultMax",get:function(){return 1==this.adapter.multiplier?0:this.adapter.mainAxisSize}},{key:"isMyEventAndMoved",get:function(){return this._isMyEventAndMoved}},{key:"velocity",get:function(){return this._velocity}},{key:"scrollDirection",get:function(){return this._scrollDirection}},{key:"laseScrollDirection",get:function(){return this._laseScrollDirection}},{key:"percentage",get:function(){return this._percentage}},{key:"dragging",get:function(){return this._dragging}},{key:"boundaryOffset",get:function(){return this._boundaryOffset}},{key:"parentAdapter",get:function(){return this._parentAdapter}},{key:"canAutoScroll",get:function(){return!this.dragging&&this.adapter.viewManager.virtualSize>this.adapter.mainAxisSize}},{key:"canTouch",get:function(){return this.touchMode==u.AlwaysAllow||this.touchMode!=u.Disabled&&(!!this.adapter.centerManager.enabled||!!this.adapter.releaseManager.enabled||this.adapter.viewManager.virtualSize>this.adapter.mainAxisSize)}},{key:"contentPosition",get:function(){return this.content.node.position[this.adapter.mainAxis]}}])&&J(_.prototype,d),E&&J(_,E),a}(_),$(q,"Event",et),z=tt((R=Y).prototype,"_view",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),tt(R.prototype,"view",[M],Object.getOwnPropertyDescriptor(R.prototype,"view"),R.prototype),I=tt(R.prototype,"_content",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),tt(R.prototype,"content",[b],Object.getOwnPropertyDescriptor(R.prototype,"content"),R.prototype),U=tt(R.prototype,"_orientation",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return d.Vertical}}),tt(R.prototype,"orientation",[m],Object.getOwnPropertyDescriptor(R.prototype,"orientation"),R.prototype),k=tt(R.prototype,"touchMode",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return u.Auto}}),V=tt(R.prototype,"movementType",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return p.Elastic}}),F=tt(R.prototype,"elasticity",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.1}}),G=tt(R.prototype,"inertia",[nt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),B=tt(R.prototype,"decelerationRate",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.135}}),X=tt(R.prototype,"aboutToStopVelocity",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 100}}),j=tt(R.prototype,"cancelInnerEvents",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),W=tt(R.prototype,"nestedMinThreshold",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.001}}),Z=tt(R.prototype,"nestedMaxThreshold",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.999}}),H=R))||H));e._RF.pop()}}}));

System.register("chunks:///_virtual/ViewManager.ts",["cc","./helper.ts","./Manager.ts","./enum.ts","./ModelManager.ts","./Group.ts","./View.ts","./ScrollManager.ts"],(function(i){"use strict";var e,t,r,a,n,s,o,l,h,d,u,p,c;return{setters:[function(i){e=i.cclegacy,t=i._decorator,r=i.instantiate},function(i){a=i.Helper},function(i){n=i.Manager},function(i){s=i.ArrangeAxis,o=i.StretchDirection,l=i.MagneticDirection,h=i.ScrollDirection},function(i){d=i.ModelManager},function(i){u=i.Group},function(i){p=i.View},function(i){c=i.ScrollManager}],execute:function(){var _,f,g,v,b,x,m,w,A,H,V,y,z,S,E,F,I,O,P,M,D,N,T,G,L,C,k,R,B,U,W,j;function Z(i,e,t,r){t&&Object.defineProperty(i,e,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(r):void 0})}function q(i,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(i,r.key,r)}}function J(i){if(void 0===i)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i}function K(i,e,t){return e in i?Object.defineProperty(i,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):i[e]=t,i}function Q(i,e,t,r,a){var n={};return Object.keys(r).forEach((function(i){n[i]=r[i]})),n.enumerable=!!n.enumerable,n.configurable=!!n.configurable,("value"in n||n.initializer)&&(n.writable=!0),n=t.slice().reverse().reduce((function(t,r){return r(i,e,t)||t}),n),a&&void 0!==n.initializer&&(n.value=n.initializer?n.initializer.call(a):void 0,n.initializer=void 0),void 0===n.initializer&&(Object.defineProperty(i,e,n),n=null),n}e._RF.push({},"74bbbWBWzpGspxEpsEO9xIS","ViewManager",void 0);var X,Y=t.ccclass,$=t.property;!function(i){i[i.ON_SCROLL=0]="ON_SCROLL",i[i.ON_LATEUPDATE=1]="ON_LATEUPDATE",i[i.ON_CLEARVIEWS=2]="ON_CLEARVIEWS",i[i.ON_UPDATE_VIEWS=3]="ON_UPDATE_VIEWS",i[i.ON_CHANGED_VIRTUALSIZE=4]="ON_CHANGED_VIRTUALSIZE",i[i.ON_MAGNETIC=5]="ON_MAGNETIC",i[i.ON_CHANGED_OVERFLOWHEADER=6]="ON_CHANGED_OVERFLOWHEADER",i[i.ON_RESET_ALL_STATE=7]="ON_RESET_ALL_STATE",i[i.ON_CHANGED_SPACING=8]="ON_CHANGED_SPACING"}(X||(X={}));i("ViewManager",(_=Y("ViewManager"),f=$({type:s}),g=$({type:s}),v=$({type:o}),b=$({range:[0,1],slide:!0,step:.01}),x=$({range:[0,1],slide:!0,step:.01}),m=$({group:{id:"padding",name:"padding"}}),w=$({group:{id:"padding",name:"padding"}}),A=$({group:{id:"padding",name:"padding"}}),H=$({group:{id:"padding",name:"padding"}}),V=$({type:l,visible:function(){return this.magnetic}}),y=$({visible:function(){return this.magnetic}}),z=$({tooltip:"当item尺寸改变时,是否触发磁吸",visible:function(){return this.magnetic}}),_((j=W=function(i){var e,t;function n(){for(var e,t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];return Z(J(e=i.call.apply(i,[this].concat(r))||this),"_arrangeAxis",F,J(e)),Z(J(e),"stretchDirection",I,J(e)),Z(J(e),"overflowOffset",O,J(e)),Z(J(e),"enterOffset",P,J(e)),Z(J(e),"_spacing",M,J(e)),Z(J(e),"left",D,J(e)),Z(J(e),"right",N,J(e)),Z(J(e),"top",T,J(e)),Z(J(e),"bottom",G,J(e)),Z(J(e),"magnetic",L,J(e)),Z(J(e),"magneticDirection",C,J(e)),Z(J(e),"magneticDuration",k,J(e)),Z(J(e),"magneticSizeChanges",R,J(e)),Z(J(e),"loopHeader",B,J(e)),Z(J(e),"loopFooter",U,J(e)),K(J(e),"_groupLength",0),K(J(e),"_cacheGroups",[]),K(J(e),"_groups",[]),K(J(e),"_disableViews",[]),K(J(e),"_visibleViews",[]),K(J(e),"_fixedViews",[]),K(J(e),"_disableHolders",[]),K(J(e),"_isFill",!1),K(J(e),"_headerIndex",-1),K(J(e),"_footerIndex",-1),K(J(e),"_virtualSize",0),K(J(e),"_overflowHeader",0),K(J(e),"_cacheHeadeDatas",[]),K(J(e),"_cacheHeadePosition",void 0),e}t=i,(e=n).prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t;var s,_,f,g=n.prototype;return g.onInit=function(){this.adapter.modelManager.on(d.Event.ON_CHANGE_BEFORE,this._onModelChangeBefore,this),this.adapter.modelManager.on(d.Event.ON_INSERT,this._updateGroups,this),this.adapter.modelManager.on(d.Event.ON_REMOVE,this._updateGroups,this),this.adapter.modelManager.on(d.Event.ON_MOVE,this._updateGroups,this),this.adapter.modelManager.on(d.Event.ON_CLEAR,this._onClearModel,this),this.adapter.scrollManager.on(c.Event.ON_SCROLL,this._onScroll,this),this.adapter.scrollManager.on(c.Event.ON_VIEW_SIZE_CHANGED,this._resetAllState,this),this.adapter.scrollManager.on(c.Event.ON_CHANGED_ORIENTATION,this._resetAllState,this)},g._clearAll=function(){for(var i,e=0,t=this._visibleViews.length;e<t;e++)this._recycleViewToDisableViews(this._visibleViews[e]);(i=this._cacheGroups).push.apply(i,this._groups),this._clearFixedViews(),this._visibleViews.length=0,this._groups.length=0,this.virtualSize=0,this.overflowHeader=0},g._onClearModel=function(){this._clearAll(),this.emit(X.ON_CLEARVIEWS)},g._resetAllState=function(){this._clearAll(),this.internal_updateVisibleView(0),this.emit(X.ON_RESET_ALL_STATE)},g._onModelChangeBefore=function(){if(this.header&&this.virtualSize>this.adapter.mainAxisSize){var i=this.getVisibleIndexByGroupIndex(0);if(-1!=i){var e=this._visibleViews[i];this._cacheHeadeDatas=e.group.models.map((function(i){return i.data})),this._cacheHeadePosition={x:e.group.position.x,y:e.group.position.y}}else this._cacheHeadeDatas=this.header.group.models.map((function(i){return i.data})),this._cacheHeadePosition={x:this.header.group.position.x,y:this.header.group.position.y}}},g._updateGroups=function(i){var e,t=this,r=this._getViewFromDisibleViews(null),a=this.getGroupIndexByModelIndex(i);-1==a&&(a=this._groupLength-1);var n=null,s=!1,o={modelIndex:i,fixedIndex:-1},h=this._groups[a-1];for(h&&(o.fixedIndex=h.fixedIndex);;){(n=this._groups[a])||((n=this._getGroupFromCache()).internal_setIndex(this._groups.length),this._groups.push(n),a=this._groups.length);var d=n.internal_insert(o,r,s);if(a++,s=!0,!d)break}var u=this._groups.splice(a,this._groups.length);(e=this._cacheGroups).push.apply(e,u),this._groupLength=this._groups.length;var p=-1,c=0;this._cacheHeadeDatas.length>0&&(p=this._groups.findIndex((function(i){return i.internal_includes(t._cacheHeadeDatas)})));var _=this._groups[p];_&&(c+=_.size[this.adapter.mainAxis]+this.spacing,_.internal_setPosition(this._cacheHeadePosition[this.adapter.mainAxis]));for(var f=p-1;f>=0;f--){var g=this._groups[f];this._calcMainAxisPosition(g,_,l.Header),c+=g.size[this.adapter.mainAxis]+this.spacing,_=g}_=this._groups[p];for(var v=p+1;v<this.groupLength;v++){g=this._groups[v];this._calcMainAxisPosition(g,_,l.Footer),c+=g.size[this.adapter.mainAxis]+this.spacing,_=g}c-=this.spacing,this._virtualSize=Math.max(0,c),this._resetOverflowHeader(this._groups[0]),r.internal_reset(),this._disableViews.push(r),this.updateVisibles(p),this._cacheHeadeDatas=[],console.log(this._groups),this._cacheHeadePosition=null},g.updateVisibles=function(i){var e=[];i=Math.max(0,i);for(var t=function(i){var t=e.findIndex((function(e){return e.oldData==i.data}));return-1!=t?e.splice(t,1)[0]:null},r=0;r<this._visibleViews.length;r++){var a=this._visibleViews[r];e=e.concat(a.holderList),a.internal_reset()}for(var n=this.adapter.mainAxisSize,s=0,o=this.visibleLength,l=i,h=this._groups.length;l<h;l++){var d=this._groups[l];if(this.getVisibleMainAxisSize()>=n&&o<=0)break;(p=this._visibleViews[s++])||(p=this._getViewFromDisibleViews(d.index),this._visibleViews.push(p)),p.internal_visible(d,t),o--}for(var u=this._visibleViews.length-1;u>=0;u--){var p;if((p=this._visibleViews[u]).holderList.length>0)break;this._disableFromVisibleViews(u)}for(var c=0,_=e.length;c<_;c++){var f=e[c];f.internal_disable(),this._disableHolders.push(f)}this._forceFill(),this._calcMagnetic(),this.emit(X.ON_UPDATE_VIEWS)},g._getGroupFromCache=function(){var i=this._cacheGroups.pop();return i||(i=new u(this.adapter)),i.internal_reset(),i},g._calcMagnetic=function(){if(this.magnetic&&this.header){var i=!1;0==this.adapter.scrollManager.velocity&&(this.magneticDirection==l.Footer?this.footer.index==this._groupLength-1&&(console.error("滚动到尾部"),this.adapter.scrollManager.scrollToFooter(this.magneticDuration),i=!0):0==this.header.index&&(this.adapter.scrollManager.scrollToHeader(this.magneticDuration),console.error("滚动到头部"),i=!0)),this.emit(X.ON_MAGNETIC,i)}},g._calcMainAxisPosition=function(i,e,t){if(i)if(e){var r,a,n=this.adapter.mainAxis,s=this.adapter.multiplier,o=t==l.Footer?1:-1;t==l.Footer?(r=1==s?e.anchorPoint[n]:1-e.anchorPoint[n],a=1==s?1-i.anchorPoint[n]:i.anchorPoint[n]):(r=1==s?1-e.anchorPoint[n]:e.anchorPoint[n],a=1==s?i.anchorPoint[n]:1-i.anchorPoint[n]);var h=e.position[n];h-=e.size[n]*r*o*s,h-=this.spacing*s*o,h-=i.size[n]*a*o*s,i.internal_setPosition(h)}else i.internal_setPosition(this._getMainAxisHeaderPosition(i))},g._getMainAxisHeaderPosition=function(i){var e=0,t=0;return this.adapter.isVertical?(e=this.adapter.isArrangeAxisStart?-this.top:this.bottom,t=this.adapter.isArrangeAxisStart?1-i.anchorPoint[this.adapter.mainAxis]:i.anchorPoint[this.adapter.mainAxis]):(e=this.adapter.isArrangeAxisStart?this.left:-this.right,t=this.adapter.isArrangeAxisStart?i.anchorPoint[this.adapter.mainAxis]:1-i.anchorPoint[this.adapter.mainAxis]),e-=t*i.size[this.adapter.mainAxis]*this.adapter.multiplier},g._getViewFromDisibleViews=function(i){var e=null;if(null!=i){var t=this._fixedViews.findIndex((function(e){return e.index==i}));if(-1!=t){var r=this._fixedViews.splice(t,1)[0];this._recycleViewToDisableViews(r)}}return e||(e=this._disableViews.pop()),e||(e=this.adapter.getView()),e},g._getHolderFromDisableHolders=function(i){var e=this._disableHolders.findIndex((function(e){return e.code==i.code}));if(-1!=e)return this._disableHolders.splice(e,1)[0]},g._disableFromVisibleViews=function(i){var e=-1;e=i instanceof p?this._visibleViews.findIndex((function(e){return e.index==i.index})):i,this._recycleViewToDisableViews(this._visibleViews[e]),this._visibleViews.splice(e,1)},g._recycleViewToDisableViews=function(i){var e=this;i&&(i.internal_recycleHolders((function(i){return e._disableHolders.push(i)})),i.internal_disable(),this._disableViews.push(i))},g._clearFixedViews=function(){for(var i=0,e=this._fixedViews.length;i<e;i++){var t=this._fixedViews[i];this._recycleViewToDisableViews(t)}this._fixedViews.length=0},g._checkHeaderInvisible=function(){this.header&&(this.loopFooter||this.footer.index!=this.groupLength-1)&&this._isOverflowHeader(this.header.group)&&(this._disableFromVisibleViews(0),this._checkHeaderInvisible())},g._checkFooterInvisible=function(){this.footer&&(this.loopHeader||0!=this.header.index)&&this._isOverflowFooter(this.footer.group)&&(this._disableFromVisibleViews(this._visibleViews.length-1),this._checkFooterInvisible())},g._isOverflowHeader=function(i,e){void 0===e&&(e=this.overflowOffset);var t=this.internal_getGroupFooterBoundary(i);return e*=i.size[this.adapter.mainAxis],1==this.adapter.multiplier?t>=e:t<=-e},g._isOverflowFooter=function(i,e){void 0===e&&(e=this.overflowOffset);var t=this.internal_getGroupHeaderBoundary(i);return e*=i.size[this.adapter.mainAxis],1==this.adapter.multiplier?t+this.adapter.mainAxisSize<=-e:t-this.adapter.mainAxisSize>=e},g._isEnterFooter=function(i){if(!i)return!1;var e=this.internal_getGroupFooterBoundary(i),t=this.enterOffset*i.size[this.adapter.mainAxis];return 1==this.adapter.multiplier?e+this.adapter.mainAxisSize+t>=0:e-this.adapter.mainAxisSize-t<=0},g._isEnterHeader=function(i){if(!i)return!1;var e=this.internal_getGroupHeaderBoundary(i),t=this.overflowOffset*i.size[this.adapter.mainAxis];return 1==this.adapter.multiplier?e-t<=0:e+t>=0},g._fillHeader=function(){var i=this._groups[this._headerIndex];if(this._isEnterHeader(i)){var e=this._accumTargetSizeTowardsHeader(i.index,this.internal_getInitHeaderSize(i)),t=e.index,r=e.size,a=this._groups[t];if(a&&-1==this.getVisibleIndexByGroupIndex(t)){var n=this.internal_convertSizeToHeaderPosition(r,a);a.internal_setPosition(n);var s=this._getViewFromDisibleViews(a.index);this._visibleViews.unshift(s),s.internal_visible(a),0==s.index&&this._resetOverflowHeader(s.group),this._headerIndex=a.index,this._fillHeader()}}},g._fillFooter=function(){var i=this._groups[this._footerIndex];if(this._isEnterFooter(i)){var e=this._accumTargetSizeTowardsFooter(i.index,this.internal_getInitFooterSize(i)),t=e.index,r=e.size,a=this._groups[t];if(a&&-1==this.getVisibleIndexByGroupIndex(t)){var n=this.internal_convertSizeToFooterPosition(r,a);a.internal_setPosition(n);var s=this._getViewFromDisibleViews(a.index);this._visibleViews.push(s),s.internal_visible(a),0==s.index&&this._resetOverflowHeader(s.group),this._footerIndex=a.index,this._fillFooter()}}},g._fillFixedView=function(){if(this.header&&(-1!=this.header.group.fixedIndex||this.header.group.isFixed))for(var i=this.header.index,e=this.adapter.mainAxis,t=this.internal_getInitHeaderSize(this.header.group),r=i-1;r>=0;r--){var n=this._groups[r];if(!n)return void console.error("_fillFixedView错误 找不到group",r);if(t+=n.size[e]+this.spacing,n.isFixed){var s=this.internal_convertSizeToHeaderPosition(t,n);if(-1!=this._fixedViews.findIndex((function(i){return i.index==n.index}))){a.approximately(s,n.position[e])||(n.internal_setPosition(s),this.adapter.layoutManager.layout(n));break}this._clearFixedViews();s=this.internal_convertSizeToHeaderPosition(t,n);n.internal_setPosition(s);var o=this._getViewFromDisibleViews(n.index);o.internal_visible(n),this._fixedViews.push(o);break}}},g._accumTargetSizeTowardsHeader=function(i,e){for(var t=this._groups.length;;){if(0==i&&this.loopHeader&&(i=t),0==i)return{index:i,size:e};if(i--,!this._groups[i])return{index:i,size:e};if((e+=this.internal_accumulationSize(i))>=0)return{index:i,size:e}}},g._accumTargetSizeTowardsFooter=function(i,e){for(var t=this._groups.length;;){if(i==t-1&&this.loopFooter&&(i=-1),i==t-1)return{index:i,size:e};if(i++,!this._groups[i])return{index:i,size:e};if((e+=this.internal_accumulationSize(i))>=0)return{index:i,size:e}}},g._fillFooterHandle=function(){this._checkHeaderInvisible(),this._fillFooter()},g._fillHeaderHandle=function(){this._checkFooterInvisible(),this._fillHeader()},g._forceFill=function(){this._updateHeaderFooterIndex(),this._fillHeaderHandle(),this._fillFooterHandle()},g._updateHeaderFooterIndex=function(){this._headerIndex=this.header?this.header.index:0,this._footerIndex=this.footer?this.footer.index:0},g._onScroll=function(i){if(0!=this._groups.length){switch(this._updateHeaderFooterIndex(),i){case h.Up:case h.Left:this.adapter.isArrangeAxisStart?this._fillFooterHandle():this._fillHeaderHandle();break;case h.Down:case h.Right:this.adapter.isArrangeAxisStart?this._fillHeaderHandle():this._fillFooterHandle()}this._fillFixedView(),this.emit(X.ON_SCROLL)}},g._stretchToHeader=function(i,e){for(var t=this._visibleViews[i],r=e;r>=0;r--){var a=this._visibleViews[r];t&&(this._calcMainAxisPosition(a.group,t.group,l.Header),this.adapter.layoutManager.layout(a.group)),t=a}},g._stretchToFooter=function(i,e){for(var t=this._visibleViews[i],r=e;r<this._visibleViews.length;r++){var a=this._visibleViews[r];t&&(this._calcMainAxisPosition(a.group,t.group,l.Footer),this.adapter.layoutManager.layout(a.group)),t=a}},g._resetOverflowHeader=function(i){if(!i)return this.overflowHeader=0;var e=this.adapter.mainAxis,t=i.anchorPoint[e];t=1==this.adapter.multiplier?1-t:t;var r=i.position[e];r+=i.size[e]*t*this.adapter.multiplier,this.overflowHeader=r},g._calcOverflowHeader=function(i,e,t){var r=this.getVisibleIndexByGroupIndex(0);if(-1!=r){var a=this._visibleViews[r];return this._resetOverflowHeader(a.group)}var n=this.adapter.mainAxis,s=i.anchorPoint[n];s=1==this.adapter.multiplier?1-s:s;var l=i.oldSize[n],h=i.size[n],d=this.adapter.multiplier;switch(this.stretchDirection){case o.Header:var u=i.oldPosition[n]+l*s*d;(p=1==d?this.overflowHeader>=u:this.overflowHeader<=u)&&(this.overflowHeader+=(h-l)*d);break;case o.Footer:u=i.oldPosition[n]+l*s*d;(p=1==d?this.overflowHeader>=u:this.overflowHeader<=u)||(this.overflowHeader-=(h-l)*d);break;case o.Center:u=i.oldPosition[n]+l*s*d;(p=1==d?this.overflowHeader>=u:this.overflowHeader<=u)?this.overflowHeader+=.5*(h-l)*d:this.overflowHeader-=.5*(h-l)*d;break;case o.Auto:u=i.oldPosition[n]+l*s*d;var p=1==d?this.overflowHeader>=u:this.overflowHeader<=u;e<=t&&(u=i.oldPosition[n]+l*s*d,p=-1==d?this.overflowHeader>=u:this.overflowHeader<=u),p&&(e<=t?this.overflowHeader-=(h-l)*d:this.overflowHeader+=(h-l)*d)}},g.internal_lateUpdate=function(i){this._isFill&&(this._isFill=!1,this._forceFill()),this.emit(X.ON_LATEUPDATE,i)},g.internal_viewChanged=function(i,e){var t=i.group.size[this.adapter.mainAxis]-e;this.virtualSize+=t;var r=this.getVisibleIndexByGroupIndex(i.index),a=-1;if(this.stretchDirection==o.Footer){var n=r-1;this._visibleViews[n]||this.adapter.layoutManager.layout(i.group),this._stretchToFooter(n,r)}else if(this.stretchDirection==o.Header){var s=r+1;this._visibleViews[s]||this.adapter.layoutManager.layout(i.group),this._stretchToHeader(s,r)}else if(this.stretchDirection==o.Center)this.adapter.layoutManager.layout(i.group),this._stretchToHeader(r,r-1),this._stretchToFooter(r,r+1);else{if(-1==(a=this.adapter.centerManager.getCenterVisibleIndex()))throw Error("找不到中心索引"+i.index);var l=this._visibleViews[a];this.adapter.layoutManager.layout(l.group),this._stretchToHeader(a,a-1),this._stretchToFooter(a,a+1)}this._calcOverflowHeader(i.group,a,r),this.magneticSizeChanges&&this._calcMagnetic(),this._isFill=!0,this.emit(X.ON_CHANGED_VIRTUALSIZE)},g.internal_getHolder=function(i){var e=this._getHolderFromDisableHolders(i);if(!e){var t=this.adapter.getPrefab(i.data),a=r(t);e=this.adapter.getHolder(a,i.code)}return e.node.parent=this.adapter.scrollManager.getLayerNode(i.element.layer),e},g.internal_updateVisibleView=function(i){this._onModelChangeBefore(),this._updateGroups(i)},g.internal_getGroupFooterBoundary=function(i){if(!i)return 0;var e=i.anchorPoint[this.adapter.mainAxis];e=1==this.adapter.multiplier?e:1-e;var t=i.position[this.adapter.mainAxis];return t-=i.size[this.adapter.mainAxis]*e*this.adapter.multiplier,t+=this.adapter.scrollManager.contentPosition},g.internal_getGroupHeaderBoundary=function(i){if(!i)return 0;var e=i.anchorPoint[this.adapter.mainAxis];return e=1==this.adapter.multiplier?1-e:e,i.position[this.adapter.mainAxis]+this.adapter.scrollManager.contentPosition+e*i.size[this.adapter.mainAxis]*this.adapter.multiplier},g.internal_getInitHeaderSize=function(i){if(!i)return 0;var e=i.anchorPoint[this.adapter.mainAxis];e=1==this.adapter.multiplier?1-e:e;var t=-i.position[this.adapter.mainAxis]*this.adapter.multiplier;return t-=i.size[this.adapter.mainAxis]*e,t-=this.adapter.scrollManager.contentPosition*this.adapter.multiplier,t=this.adapter.mainAxisSize-t},g.internal_getInitFooterSize=function(i){if(!i)return 0;var e=i.anchorPoint[this.adapter.mainAxis];e=1==this.adapter.multiplier?e:1-e;var t=-i.position[this.adapter.mainAxis]*this.adapter.multiplier;return t+=i.size[this.adapter.mainAxis]*e,t-=this.adapter.scrollManager.contentPosition*this.adapter.multiplier},g.internal_accumulationSize=function(i){var e=this._groups[i];return e?e.size[this.adapter.mainAxis]+this.spacing:0},g.internal_convertSizeToFooterPosition=function(i,e){var t=e.anchorPoint[this.adapter.mainAxis];t=1==this.adapter.multiplier?t:1-t;var r=e.size[this.adapter.mainAxis]*t,a=-this.adapter.scrollManager.contentPosition;return a-=this.adapter.multiplier*i-this.adapter.multiplier*r},g.internal_convertSizeToHeaderPosition=function(i,e){var t=e.anchorPoint[this.adapter.mainAxis];t=1==this.adapter.multiplier?1-t:t;var r=e.size[this.adapter.mainAxis]*t,a=this.adapter.multiplier*i-this.adapter.multiplier*r;return a-=this.adapter.multiplier*this.adapter.mainAxisSize,a-=this.adapter.scrollManager.contentPosition},g.getGroup=function(i){return this._groups[i]},g.getVisibleView=function(i){return this._visibleViews[i]},g.getVisibleMainAxisSize=function(){if(0==this._visibleViews.length)return 0;for(var i=0,e=this.adapter.mainAxis,t=0,r=this._visibleViews.length;t<r;t++){var a=this._visibleViews[t];a.group&&(i+=a.group.size[e]+this.spacing)}return i-=this.spacing},g.getGroupIndexByModelIndex=function(i){for(var e=0,t=this._groups.length;e<t;e++){if(-1!=this._groups[e].findModelIndex(i))return e}return-1},g.getVisibleIndexByGroupIndex=function(i){return this._visibleViews.findIndex((function(e){return e.index==i}))},g.getNextFixedHolders=function(i){for(var e=[],t=this.getVisibleIndexByGroupIndex(i)+1,r=this._visibleViews.length;t<r;t++){var a=this._visibleViews[t];if(a.index!=i&&a.group.isFixed){e=a.getFixedHolders();break}}return e},g.getMagneticOffset=function(){if(!this.magnetic)return 0;var i=this.adapter.isHorizontal?-this.adapter.multiplier:this.adapter.multiplier;return this.magneticDirection==l.Footer?this.footer?Math.max(0,this.adapter.mainAxisSize-this.adapter.mainAxisPadding-this.getVisibleMainAxisSize())*i:this.adapter.mainAxisSize*i:0},s=n,(_=[{key:"arrangeAxis",get:function(){return this._arrangeAxis},set:function(i){i!=this._arrangeAxis&&(this._arrangeAxis=i,this._resetAllState())}},{key:"spacing",get:function(){return this._spacing},set:function(i){i!=this._spacing&&(this._spacing=i,this._resetAllState())}},{key:"header",get:function(){return this._visibleViews[0]}},{key:"footer",get:function(){return this._visibleViews[this._visibleViews.length-1]}},{key:"overflowHeader",get:function(){return this._overflowHeader},set:function(i){i!=this._overflowHeader&&(this._overflowHeader=i,this.emit(X.ON_CHANGED_OVERFLOWHEADER,i))}},{key:"virtualSize",get:function(){return this._virtualSize},set:function(i){i!=this._virtualSize&&(this._virtualSize=i,this.emit(X.ON_CHANGED_VIRTUALSIZE))}},{key:"groupLength",get:function(){return this._groupLength}},{key:"visibleLength",get:function(){return this._visibleViews.length}},{key:"min",get:function(){return this.header?this.adapter.isArrangeAxisStart?this.internal_getGroupFooterBoundary(this.footer.group):this.internal_getGroupHeaderBoundary(this.header.group):0}},{key:"max",get:function(){return this.header?this.adapter.isArrangeAxisStart?this.internal_getGroupHeaderBoundary(this.header.group):this.internal_getGroupFooterBoundary(this.footer.group):0}}])&&q(s.prototype,_),f&&q(s,f),n}(n),K(W,"Event",X),F=Q((E=j).prototype,"_arrangeAxis",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return s.Start}}),Q(E.prototype,"arrangeAxis",[g],Object.getOwnPropertyDescriptor(E.prototype,"arrangeAxis"),E.prototype),I=Q(E.prototype,"stretchDirection",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return o.Auto}}),O=Q(E.prototype,"overflowOffset",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.3}}),P=Q(E.prototype,"enterOffset",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),M=Q(E.prototype,"_spacing",[$],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Q(E.prototype,"spacing",[$],Object.getOwnPropertyDescriptor(E.prototype,"spacing"),E.prototype),D=Q(E.prototype,"left",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),N=Q(E.prototype,"right",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),T=Q(E.prototype,"top",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),G=Q(E.prototype,"bottom",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),L=Q(E.prototype,"magnetic",[$],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),C=Q(E.prototype,"magneticDirection",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return l.Header}}),k=Q(E.prototype,"magneticDuration",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.5}}),R=Q(E.prototype,"magneticSizeChanges",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),B=Q(E.prototype,"loopHeader",[$],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),U=Q(E.prototype,"loopFooter",[$],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),S=E))||S));e._RF.pop()}}}));

System.register("chunks:///_virtual/edit_item.ts",["cc","./helper.ts","./enum.ts","./ScrollManager.ts"],(function(e){"use strict";var t,i,n,o,r,a,l,s,u,h;return{setters:[function(e){t=e.cclegacy,i=e._decorator,n=e.Label,o=e.Tween,r=e.v3,a=e.Node,l=e.Component},function(){},function(e){s=e.WrapMode,u=e.Layer},function(e){h=e.ADAPTER}],execute:function(){var c,d,f,p,_;function m(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function b(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}t._RF.push({},"7afa7DiG+pHAIh2BaoQNrth","edit_item",void 0);var y=i.ccclass,g=i.property;e("edit_item",(c=y("edit_item"),d=g(n),c((_=function(e,t,i,n,o){var r={};return Object.keys(n).forEach((function(e){r[e]=n[e]})),r.enumerable=!!r.enumerable,r.configurable=!!r.configurable,("value"in r||r.initializer)&&(r.writable=!0),r=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),r),o&&void 0!==r.initializer&&(r.value=r.initializer?r.initializer.call(o):void 0,r.initializer=void 0),void 0===r.initializer&&(Object.defineProperty(e,t,r),r=null),r}((p=function(e){var t,i;function n(){for(var t,i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];return m(b(t=e.call.apply(e,[this].concat(n))||this),"label",_,b(t)),v(b(t),"_holder",null),v(b(t),"_tween",void 0),t}i=e,(t=n).prototype=Object.create(i.prototype),t.prototype.constructor=t,t.__proto__=i;var l=n.prototype;return l._onTouchMove=function(e){console.log("移动了我");var t=this.node.getPosition();t.add3f(e.getUIDelta().x,e.getUIDelta().y,0),this.node.setPosition(t)},l.show=function(e){this._holder=e,this.label.string=this._holder.data.name,this._holder.data.anim&&(this._holder.data.anim=!1,this.node.setScale(0,1,1),this._tween=new o(this.node).to(.5,{scale:r(1,1,1)},{easing:"backOut"}).start()),this.register()},l.hide=function(){this._tween&&this._tween.stop(),this.node.setScale(1,1,1),this._holder.data.anim=!1},l.updateData=function(){this._holder.data.name="已更新",this._holder.model.update()},l.updateWrap=function(){this._holder.element.wrapBeforeMode=s.Wrap,this._holder.element.update()},l.ignoreLayout=function(){this._holder.element.placeholder=!0,this._holder.element.ignoreLayout=!this._holder.element.ignoreLayout,this._holder.element.ignoreLayout?this._holder.element.layer=u.Medium:this._holder.element.layer=u.Lowest,this._holder.element.update(),this.register()},l.register=function(){this.node.off(a.EventType.TOUCH_MOVE,this._onTouchMove,this),this._holder.element.ignoreLayout?(this.node.on(a.EventType.TOUCH_MOVE,this._onTouchMove,this),this.node[h]=!0):this.node[h]=!1},l.update=function(){},n}(l)).prototype,"label",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),f=p))||f));t._RF.pop()}}}));

System.register("chunks:///_virtual/time_main.ts",["cc","./time.ts"],(function(e){"use strict";var i,t,r,n,o;return{setters:[function(e){i=e.cclegacy,t=e._decorator,r=e.director,n=e.Component},function(e){o=e.Time}],execute:function(){var a,l,c,u,s,f,b,m,p;function v(e,i,t,r){t&&Object.defineProperty(e,i,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(r):void 0})}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y(e,i,t,r,n){var o={};return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=t.slice().reverse().reduce((function(t,r){return r(e,i,t)||t}),o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,i,o),o=null),o}i._RF.push({},"7bf76HowPBMDpYMlIy7LoYb","time_main",void 0);var d=t.ccclass,g=t.property;e("TimeMain",(a=d("TimeMain"),l=g(o),c=g(o),u=g(o),a((b=y((f=function(e){var i,t;function n(){for(var i,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return v(h(i=e.call.apply(e,[this].concat(r))||this),"timeYear",b,h(i)),v(h(i),"timeMoon",m,h(i)),v(h(i),"timeDay",p,h(i)),i}t=e,(i=n).prototype=Object.create(t.prototype),i.prototype.constructor=i,i.__proto__=t;var o=n.prototype;return o.home=function(){r.loadScene("home")},o.now=function(){var e=new Date;this.timeYear.scrollTo(2,e.getFullYear()),this.timeMoon.scrollTo(1,e.getMonth()+1),this.timeDay.scrollTo(1,e.getDate())},o.start=function(){var e=this;this.scheduleOnce((function(){e.now()}))},n}(n)).prototype,"timeYear",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=y(f.prototype,"timeMoon",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),p=y(f.prototype,"timeDay",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),s=f))||s));i._RF.pop()}}}));

System.register("chunks:///_virtual/time_item.ts",["cc"],(function(e){"use strict";var t,i,r,a,n,o;return{setters:[function(e){t=e.cclegacy,i=e._decorator,r=e.Label,a=e.UIOpacity,n=e.v3,o=e.Component}],execute:function(){var l,c,s,u,d,h,p;function b(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function _(e,t,i,r,a){var n={};return Object.keys(r).forEach((function(e){n[e]=r[e]})),n.enumerable=!!n.enumerable,n.configurable=!!n.configurable,("value"in n||n.initializer)&&(n.writable=!0),n=i.slice().reverse().reduce((function(i,r){return r(e,t,i)||i}),n),a&&void 0!==n.initializer&&(n.value=n.initializer?n.initializer.call(a):void 0,n.initializer=void 0),void 0===n.initializer&&(Object.defineProperty(e,t,n),n=null),n}t._RF.push({},"98c46gtiQRCkYwWq6W0T1lW","time_item",void 0);var m=i.ccclass,y=i.property;e("TimeItem",(l=m("TimeItem"),c=y(r),s=y(a),l((h=_((d=function(e){var t,i;function r(){for(var t,i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return b(f(t=e.call.apply(e,[this].concat(r))||this),"label",h,f(t)),b(f(t),"opacity",p,f(t)),v(f(t),"_holder",void 0),t}i=e,(t=r).prototype=Object.create(i.prototype),t.prototype.constructor=t,t.__proto__=i;var a=r.prototype;return a.show=function(e){this._holder=e,this.label.string=this._holder.data.value+" "+this._holder.data.name},a.hide=function(){},a.click=function(){this._holder.adapter.scrollManager.scrollToGroupIndex(.5,this._holder.view.index)},a.lateUpdate=function(e){if(this._holder&&this._holder.model){var t=this._holder.adapter.scrollManager.content.convertToWorldSpaceAR(this.node.position),i=this._holder.adapter.scrollManager.view.convertToNodeSpaceAR(t),r=this._holder.adapter.centerManager.getContainerOffset(),a=i[this._holder.adapter.mainAxis]+r,o=(a=Math.abs(a))/(.85*this._holder.adapter.mainAxisSize);o=1-o;var l=this.node.getScale();l[this._holder.adapter.mainAxis]=o,this.node.setScale(l);var c=1-a/(.5*this._holder.adapter.mainAxisSize);this.opacity.opacity=255*c;var s=36*(1-o),u=.1*a-.1*a*o*Math.cos(s*Math.PI/180);0==this._holder.data.type?this.label.node.setPosition(n(u,0)):2==this._holder.data.type&&this.label.node.setPosition(n(-u,0))}},r}(o)).prototype,"label",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),p=_(d.prototype,"opacity",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),u=d))||u));t._RF.pop()}}}));

System.register("chunks:///_virtual/PageViewManager.ts",["cc","./Manager.ts","./enum.ts","./ViewManager.ts","./ScrollManager.ts"],(function(e){"use strict";var t,i,n,r,a,o;return{setters:[function(e){t=e.cclegacy,i=e._decorator},function(e){n=e.Manager},function(e){r=e.AlwaysScroll},function(e){a=e.ViewManager},function(e){o=e.ScrollManager}],execute:function(){var l,s,c,u,h,g,d,_,p,f,b,v,E,O,T;function L(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function S(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function P(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function N(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function y(e,t,i,n,r){var a={};return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}t._RF.push({},"9a9b8/q4JFHHb650TtGE+gS","PageViewManager",void 0);var w,M=i.ccclass,x=i.property;!function(e){e[e.ON_PAGE_LENGTH_CHANGED=0]="ON_PAGE_LENGTH_CHANGED",e[e.ON_SCROLL_PAGE_BEFOR=1]="ON_SCROLL_PAGE_BEFOR",e[e.ON_SCROLL_PAGE_END=2]="ON_SCROLL_PAGE_END"}(w||(w={}));e("PageViewManager",(l=M("PageViewManager"),s=x("boolean"),c=x({range:[0,1],slide:!0,step:.01,visible:function(){return this.enabled}}),u=x({range:[0,1],slide:!0,step:.01,visible:function(){return this.enabled}}),h=x({visible:function(){return this.enabled}}),g=x({visible:function(){return this.enabled}}),l((T=O=function(e){var t,i;function n(){for(var t,i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];return L(P(t=e.call.apply(e,[this].concat(n))||this),"_enabled",p,P(t)),L(P(t),"scrollThreshold",f,P(t)),L(P(t),"pageTurningEventTiming",b,P(t)),L(P(t),"autoPageTurningThreshold",v,P(t)),L(P(t),"pageTurningSpeed",E,P(t)),N(P(t),"_currentIndex",0),t}i=e,(t=n).prototype=Object.create(i.prototype),t.prototype.constructor=t,t.__proto__=i;var l,s,c,u=n.prototype;return u.onInit=function(){this._register()},u._register=function(){this.adapter&&this.enabled&&(this.adapter.scrollManager.on(o.Event.ON_SCROLL_END,this._handleReleaseLogic,this),this.adapter.scrollManager.on(o.Event.ON_SCROLL_CANCEL,this._handleReleaseLogic,this),this.adapter.scrollManager.on(o.Event.ON_SCROLL_TO_GROUPINDEX_BEFOR,this._onScrollToIndex,this),this.adapter.viewManager.on(a.Event.ON_UPDATE_VIEWS,this._onUpdateViews,this,!0))},u._unregister=function(){this.adapter&&!this.enabled&&(this.adapter.scrollManager.off(o.Event.ON_SCROLL_END,this._handleReleaseLogic,this),this.adapter.scrollManager.off(o.Event.ON_SCROLL_CANCEL,this._handleReleaseLogic,this),this.adapter.scrollManager.off(o.Event.ON_SCROLL_TO_GROUPINDEX_BEFOR,this._onScrollToIndex,this),this.adapter.viewManager.off(a.Event.ON_UPDATE_VIEWS,this._onUpdateViews,this))},u.scrollToPage=function(e,t,i){t<0||t>=this.length||t==this.currentIndex&&0!=this.adapter.scrollManager.calcOffset()||(this.adapter.scrollManager.scrollToGroupIndex(e,t,i),this.emit(w.ON_SCROLL_PAGE_BEFOR,t))},u.scrollToPrevPage=function(e,t){void 0===e&&(e=this.pageTurningSpeed),void 0===t&&(t=r.Header),0!=this._currentIndex?this.scrollToPage(e,this._currentIndex-1,t):this.adapter.viewManager.loopHeader&&this.scrollToPage(e,this.length-1,t)},u.scrollToNextPage=function(e,t){void 0===e&&(e=this.pageTurningSpeed),void 0===t&&(t=r.Footer),this._currentIndex>=this.length-1?this.adapter.viewManager.loopFooter&&this.scrollToPage(e,0,t):this.scrollToPage(e,this._currentIndex+1,t)},u._onUpdateViews=function(){this.emit(w.ON_PAGE_LENGTH_CHANGED),this._currentIndex=0,this.scrollToPage(this.pageTurningSpeed,this._currentIndex)},u._onScrollToIndex=function(e){this._currentIndex=e,this.emit(w.ON_SCROLL_PAGE_END,e)},u._handleReleaseLogic=function(e){if(this._enabled&&this.adapter.scrollManager.isMyEventAndMoved){var t=e.getUIStartLocation()[this.adapter.mainAxis]-e.getUILocation()[this.adapter.mainAxis],i=this._getNextIndex(t);this._isScrollable(t)||this._isQuicklyScrollable(this.adapter.scrollManager.velocity)?this.scrollToPage(this.pageTurningSpeed,i):this.scrollToPage(this.pageTurningSpeed,this._currentIndex)}},u._getNextIndex=function(e){var t=this._currentIndex;return this.adapter.isHorizontal?this.adapter.isArrangeAxisStart?e>0?t++:e<0&&t--:(e<0&&t++,e>0&&t--):this.adapter.isArrangeAxisStart?e<0?t++:e>0&&t--:e>0?t++:e<0&&t--,t>=this.length&&this.adapter.viewManager.loopFooter?t=0:t<0&&this.adapter.viewManager.loopHeader&&(t=this.length-1),(t<0||t>=this.length)&&(t=this._currentIndex),t},u._isScrollable=function(e){return Math.abs(e)>=this.adapter.mainAxisSize*this.scrollThreshold},u._isQuicklyScrollable=function(e){return Math.abs(e)>this.autoPageTurningThreshold},l=n,(s=[{key:"enabled",get:function(){return this._enabled},set:function(e){e!=this._enabled&&(this._enabled=e,this._enabled?this._register():this._unregister())}},{key:"currentIndex",get:function(){return this._currentIndex}},{key:"length",get:function(){return this.adapter.viewManager.groupLength}}])&&S(l.prototype,s),c&&S(l,c),n}(n),N(O,"Event",w),p=y((_=T).prototype,"_enabled",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),y(_.prototype,"enabled",[s],Object.getOwnPropertyDescriptor(_.prototype,"enabled"),_.prototype),f=y(_.prototype,"scrollThreshold",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.5}}),b=y(_.prototype,"pageTurningEventTiming",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.1}}),v=y(_.prototype,"autoPageTurningThreshold",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 100}}),E=y(_.prototype,"pageTurningSpeed",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.3}}),d=_))||d));t._RF.pop()}}}));

System.register("chunks:///_virtual/Manager.ts",["cc"],(function(e){"use strict";var t,n;return{setters:[function(e){t=e.cclegacy,n=e._decorator}],execute:function(){var a;function r(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}t._RF.push({},"9e556t6rHxO6ZbZa4CSsrXu","Manager",void 0);var c=n.ccclass;n.property,e("Manager",c("Manager")(a=function(){function e(){i(this,"_inited",!1),i(this,"_eventMap",new Map),i(this,"_adapter",null)}var t,n,a,c=e.prototype;return c.internal_create=function(e){this._adapter=e},c.internal_init=function(){this._inited||(this._inited=!0,this.onInit())},c.on=function(e,t,n,a){void 0===a&&(a=!1),this._eventMap.has(e)||this._eventMap.set(e,[]);var r=this._eventMap.get(e);(null==r?void 0:r.find((function(e){return e.target==n&&e.callback==t})))||r.push({callback:t,target:n,once:a})},c.off=function(e,t,n){if(this._eventMap.has(e)){var a=this._eventMap.get(e),r=null==a?void 0:a.findIndex((function(e){return e.callback==t&&e.target==n}));-1!=r&&a.splice(r,1)}},c.emit=function(e){if(this._eventMap.has(e)){for(var t=this._eventMap.get(e),n=arguments.length,a=new Array(n>1?n-1:0),r=1;r<n;r++)a[r-1]=arguments[r];for(var i=0;i<t.length;i++){var c,o=t[i];(c=o.callback).call.apply(c,[o.target].concat(a)),o.once&&(t.splice(i,1),i--)}}},t=e,(n=[{key:"adapter",get:function(){return this._adapter}}])&&r(t.prototype,n),a&&r(t,a),e}())||a);t._RF.pop()}}}));

System.register("chunks:///_virtual/fixed.ts",["cc","./enum.ts","./Holder.ts","./View.ts","./ScrollAdapter.ts","./fixed_item.ts"],(function(e){"use strict";var i,t,n,r,o,a,l,c,u;return{setters:[function(e){i=e.cclegacy,t=e._decorator,n=e.Node,r=e.director},function(e){o=e.Layer},function(e){a=e.Holder},function(e){l=e.View},function(e){c=e.ScrollAdapter},function(e){u=e.fixed_item}],execute:function(){var f,s,d,b,p,h,m;function v(e,i,t,n){t&&Object.defineProperty(e,i,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(n):void 0})}function g(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y(e,i){e.prototype=Object.create(i.prototype),e.prototype.constructor=e,e.__proto__=i}function w(e,i,t){return i in e?Object.defineProperty(e,i,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[i]=t,e}function x(e,i,t,n,r){var o={};return Object.keys(n).forEach((function(e){o[e]=n[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=t.slice().reverse().reduce((function(t,n){return n(e,i,t)||t}),o),r&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(r):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,i,o),o=null),o}i._RF.push({},"a0c62+GGSVJfJkgAg7jeAZe","fixed",void 0);var _=t.ccclass,P=t.property,z=(e("fixed",(f=_("fixed"),s=P(n),d=P(n),f((h=x((p=function(e){function i(){for(var i,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return v(g(i=e.call.apply(e,[this].concat(n))||this),"fixedPrefab",h,g(i)),v(g(i),"normalPrefab",m,g(i)),i}y(i,e);var t=i.prototype;return t.getPrefab=function(e){return e.fixed?this.fixedPrefab:this.normalPrefab},t.getView=function(){return new z(this)},t.getHolder=function(e,i){return new j(e,i,this)},t.initElement=function(e,i){e.fixed=i.fixed,e.fixed&&(e.layer=o.Medium)},t.home=function(){r.loadScene("home")},t.scrollToHeader=function(){this.scrollManager.scrollToPercentage(1,0)},t.scrollToFooter=function(){this.scrollManager.scrollToPercentage(1,1)},t.start=function(){for(var e=[],i=0;i<1e3;i++){var t={name:i,fixed:i%10==0};e.push(t)}this.modelManager.insert(e)},i}(c)).prototype,"fixedPrefab",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=x(p.prototype,"normalPrefab",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=p))||b)),function(e){function i(){return e.apply(this,arguments)||this}y(i,e);var t=i.prototype;return t.onVisible=function(){},t.onDisable=function(){},i}(l)),j=function(e){function i(){for(var i,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return w(g(i=e.call.apply(e,[this].concat(n))||this),"_item",null),i}y(i,e);var t=i.prototype;return t.onCreated=function(){this._item=this.node.getComponent(u)},t.onVisible=function(){this._item.show(this)},t.onDisable=function(){this._item.hide()},i}(a);i._RF.pop()}}}));

System.register("chunks:///_virtual/home.ts",["cc"],(function(t){"use strict";var o,r,e,c;return{setters:[function(t){o=t.cclegacy,r=t._decorator,e=t.director,c=t.Component}],execute:function(){var n;o._RF.push({},"a402fmmXFtF6r0IWio7Y0gD","home",void 0);var p=r.ccclass;r.property,t("home",p("home")(n=function(t){var o,r;function c(){return t.apply(this,arguments)||this}r=t,(o=c).prototype=Object.create(r.prototype),o.prototype.constructor=o,o.__proto__=r;var n=c.prototype;return n.start=function(){},n.go=function(t,o){e.loadScene(o)},c}(c))||n);o._RF.pop()}}}));

System.register("chunks:///_virtual/debug.ts",["cc"],(function(_){"use strict";var e,D;return{setters:[function(_){e=_.cclegacy,D=_.Color}],execute:function(){e._RF.push({},"b7bf3JPeg5Pz4Pj5H6FXtBa","debug",void 0);_("DEBUG_DRAW_LINE_COLOR",new D(238,124,55,255)),_("DEBUG_DRAW_FILL_COLOR",new D(88,175,64,50)),_("DEBUG_DRAW_BORDER_COLOR",new D(56,120,94,255)),_("DEBUG_DRAW_LIND_WIDTH",3),_("ADAPTER_DEBUG_VIEW",!1),_("ADAPTER_DEBUG_CONTENT",!1);e._RF.pop()}}}));

System.register("chunks:///_virtual/Group.ts",["cc","./enum.ts"],(function(e){"use strict";var i,t;return{setters:[function(e){i=e.cclegacy},function(e){t=e.StretchDirection}],execute:function(){function n(e,i){for(var t=0;t<i.length;t++){var n=i[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function r(e,i,t){return i in e?Object.defineProperty(e,i,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[i]=t,e}i._RF.push({},"c701cxQvelFbLzv3DVRhj2t","Group",void 0);e("Group",function(){var e,i,s;function o(e){r(this,"_adapter",void 0),r(this,"_index",-1),r(this,"_models",[]),r(this,"_size",{x:0,y:0}),r(this,"_oldSize",{x:0,y:0}),r(this,"_anchorPoint",{x:.5,y:.5}),r(this,"_position",{x:0,y:0}),r(this,"_oldPosition",{x:0,y:0}),r(this,"_totalMinSize",{x:0,y:0}),r(this,"_totalPreferredSize",{x:0,y:0}),r(this,"_totalFlexibleSize",{x:0,y:0}),r(this,"_isFixed",!1),r(this,"_fixedIndex",-1),this._adapter=e,this.internal_reset()}e=o,(i=[{key:"adapter",get:function(){return this._adapter}},{key:"index",get:function(){return this._index}},{key:"models",get:function(){return this._models}},{key:"size",get:function(){return this._size}},{key:"oldSize",get:function(){return this._oldSize}},{key:"anchorPoint",get:function(){return this._anchorPoint}},{key:"position",get:function(){return this._position}},{key:"oldPosition",get:function(){return this._oldPosition}},{key:"totalMinSize",get:function(){return this._totalMinSize}},{key:"totalPreferredSize",get:function(){return this._totalPreferredSize}},{key:"totalFlexibleSize",get:function(){return this._totalFlexibleSize}},{key:"isFixed",get:function(){return this._isFixed}},{key:"fixedIndex",get:function(){return this._fixedIndex}}])&&n(e.prototype,i),s&&n(e,s);var a=o.prototype;return a.findModelIndex=function(e){return this.models.findIndex((function(i){return i.index==e}))},a.internal_reset=function(){this._models=[],this._size={x:0,y:0},this._oldSize={x:0,y:0},this._anchorPoint={x:.5,y:.5},this._position={x:0,y:0},this._oldPosition={x:0,y:0},this._totalMinSize={x:0,y:0},this._totalPreferredSize={x:0,y:0},this._totalFlexibleSize={x:0,y:0},this._isFixed=!1,this._fixedIndex=-1,this._setAnchorPoint()},a.internal_setPosition=function(e){var i=this.adapter.mainAxis;this.oldPosition[i]=this.position[i],this.position[i]=e},a.internal_setIndex=function(e){this._index=e},a.internal_insert=function(e,i,t){i.internal_reset();var n=this.models;if(this.internal_reset(),this._fixedIndex=e.fixedIndex,!t)for(var r=0;r<n.length;r++){var s=n[r];if(!(s.index<e.modelIndex))break;if(!this._insertHandler(s,i))return e.modelIndex=s.index,e.fixedIndex=this.isFixed?this.index:e.fixedIndex,!0}for(var o=e.modelIndex;o<this.adapter.modelManager.length;o++){var a=this.adapter.modelManager.get(o);if(!this._insertHandler(a,i))return e.modelIndex=a.index,e.fixedIndex=this.isFixed?this.index:e.fixedIndex,a.index}return!1},a.internal_includes=function(e){for(var i=this,t=function(t){var n=e[t];if(-1!=i.models.findIndex((function(e){return e.data==n})))return{v:!0}},n=0;n<e.length;n++){var r=t(n);if("object"==typeof r)return r.v}return!1},a._insertHandler=function(e,i){if(i.internal_isWrap(e,this))return i.internal_reset(),!1;i.internal_push(e),e.element.fixed&&(this._isFixed=!0,this._fixedIndex=-1);var t=this.adapter.mainAxis,n=this.adapter.crossAxis;return(!e.element.ignoreLayout||e.element.ignoreLayout&&e.element.placeholder)&&(this.size[t]=Math.max(this.size[t],e.size[t]*e.scale[t])),this.size[n]=this.adapter.crossAxisSize,this.oldSize[t]=this.size[t],this.oldSize[n]=this.size[n],this.models.push(e),!0},a._setAnchorPoint=function(){switch(this.adapter.viewManager.stretchDirection){case t.Center:this.anchorPoint[this.adapter.mainAxis]=.5;break;case t.Header:this.anchorPoint[this.adapter.mainAxis]=1-this.adapter.mainAxisAnchorPoint;break;default:this.anchorPoint[this.adapter.mainAxis]=this.adapter.mainAxisAnchorPoint}},o}());i._RF.pop()}}}));

System.register("chunks:///_virtual/helper.ts",["cc"],(function(n){"use strict";var t;return{setters:[function(n){t=n.cclegacy}],execute:function(){function r(n,t,r){return t in n?Object.defineProperty(n,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[t]=r,n}t._RF.push({},"d16dfIj/wBDe7lg2eRhY7du","helper",void 0);var e=n("Helper",function(){function n(){}return n.smoothStep=function(n,t,r){return t*(r=-2*(r=this.clamp01(r))*r*r+3*r*r)+n*(1-r)},n.smoothDamp=function(n,t,r,e,a,o){var i=2/(e=Math.max(1e-4,e)),u=i*o,c=1/(1+u+.48*u*u+.235*u*u*u),x=n-t,p=t,f=a*e,s=(r+i*(x=this.clamp(x,0-f,f)))*o;r=(r-i*s)*c;var h=(t=n-x)+(x+s)*c;return p-n>0==h>p&&(r=((h=p)-p)/o),{velocity:r,position:h}},n.clamp01=function(n){return this.clamp(n,0,1)},n.clamp=function(n,t,r){return void 0===t&&(t=0),void 0===r&&(r=1),Math.min(Math.max(n,t),r)},n.sign=function(n){return n>=0?1:-1},n.lerp=function(n,t,r){return n+(t-n)*this.clamp01(r)},n.approximately=function(n,t){return Math.abs(t-n)<Math.max(1e-4*Math.max(Math.abs(n),Math.abs(t)),8*this.Epsilon)},n.round=function(n,t){return Math.round(n*Math.pow(10,t))/Math.pow(10,t)},n.pingpang=function(n){var t=n;t=Math.abs(n);var r=Math.trunc(t);return r%2==0?t-=r:t=1-(t-r),t},n.isNumber=function(n){return"number"==typeof n&&!isNaN(n)},n.progress=function(n,t,r,e){return n+(t-n)*e},n.getGuid=function(){var n=(new Date).getTime();return window.performance&&"function"==typeof window.performance.now&&(n+=performance.now()),"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){var r=(n+16*Math.random())%16|0;return n=Math.floor(n/16),("x"==t?r:3&r|8).toString(16)}))},n}());r(e,"Epsilon",1401298e-51),r(e,"Infinity",1/0),t._RF.pop()}}}));

System.register("chunks:///_virtual/ScrollAdapter.ts",["cc","./enum.ts","./ModelManager.ts","./LayoutManager.ts","./ViewManager.ts","./ScrollManager.ts","./CenterManager.ts","./PageViewManager.ts","./ReleaseManager.ts"],(function(e){"use strict";var t,r,n,i,a,o,l,s,c,u,g,f;return{setters:[function(e){t=e.cclegacy,r=e._decorator,n=e.Component},function(e){i=e.Orientation,a=e.ArrangeAxis},function(e){o=e.ModelManager},function(e){l=e.LayoutManager},function(e){s=e.ViewManager},function(e){c=e.ScrollManager},function(e){u=e.CenterManager},function(e){g=e.PageViewManager},function(e){f=e.ReleaseManager}],execute:function(){var h,p,M,w,v,b,d,y,m,A,_,x,z,S,k;function V(e,t,r,n){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}function P(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function O(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function R(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function j(e,t,r,n,i){var a={};return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,n){return n(e,t,r)||r}),a),i&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(i):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}t._RF.push({},"d5d1crBDMFIA4umJNt7GKmz","ScrollAdapter",void 0);var H=r.ccclass,U=r.property;e("ScrollAdapter",(h=H("ScrollAdapter"),p=U(c),M=U(s),w=U(l),v=U(g),b=U(f),d=U(u),h((A=j((m=function(e){var t,r;function n(){for(var t,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return V(O(t=e.call.apply(e,[this].concat(n))||this),"scrollManager",A,O(t)),V(O(t),"viewManager",_,O(t)),V(O(t),"layoutManager",x,O(t)),V(O(t),"pageViewManager",z,O(t)),V(O(t),"releaseManager",S,O(t)),V(O(t),"centerManager",k,O(t)),R(O(t),"modelManager",new o),t}r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var l,s,c,u=n.prototype;return u.getParentAdapter=function(e){if(null!=e){var t=e.getComponent("ScrollAdapter");return t||this.getParentAdapter(e.parent)}},u.__preload=function(){this.scrollManager.internal_create(this),this.viewManager.internal_create(this),this.modelManager.internal_create(this),this.releaseManager.internal_create(this),this.layoutManager.internal_create(this),this.pageViewManager.internal_create(this),this.centerManager.internal_create(this),this.viewManager.internal_init(),this.releaseManager.internal_init(),this.layoutManager.internal_init(),this.pageViewManager.internal_init(),this.centerManager.internal_init(),this.scrollManager.internal_init(),this.modelManager.internal_init()},u.lateUpdate=function(e){this.scrollManager.internal_lateUpdate(e),this.viewManager.internal_lateUpdate(e),this.layoutManager.internal_lateUpdate(e),this.releaseManager.internal_lateUpdate(e)},u.generator=function(e,t){var r=this;return new Promise((function(n,i){!function i(){for(var a=(new Date).getTime(),o=e.next();;o=e.next()){if(null==o||o.done)return void n();if((new Date).getTime()-a>t)return void r.scheduleOnce((function(){i()}))}}()}))},u.getGeneratorArray=regeneratorRuntime.mark((function e(t,r){var n,i,a,o,l,s=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(n=s.length,i=new Array(n>2?n-2:0),a=2;a<n;a++)i[a-2]=s[a];o=0;case 2:if(!(o<t.length)){e.next=9;break}return l=t[o],e.next=6,r.apply(void 0,[l].concat(i));case 6:o++,e.next=2;break;case 9:case"end":return e.stop()}}),e)})),l=n,(s=[{key:"isVertical",get:function(){return this.scrollManager.orientation==i.Vertical}},{key:"isHorizontal",get:function(){return this.scrollManager.orientation==i.Horizontal}},{key:"isArrangeAxisStart",get:function(){return this.viewManager.arrangeAxis==a.Start}},{key:"mainAxis",get:function(){return this.isVertical?"y":"x"}},{key:"crossAxis",get:function(){return this.isVertical?"x":"y"}},{key:"mainAxisAnchorPoint",get:function(){var e=this.isVertical?1:0;return this.isArrangeAxisStart?e:1-e}},{key:"mainAxisSize",get:function(){return this.scrollManager.view.contentSize[this.mainAxis]}},{key:"crossAxisSize",get:function(){return this.scrollManager.view.contentSize[this.crossAxis]}},{key:"multiplier",get:function(){var e=this.isVertical?-1:1;return this.isArrangeAxisStart?-e:e}},{key:"paddingHeader",get:function(){return this.isHorizontal?this.isArrangeAxisStart?this.viewManager.left:this.viewManager.right:this.isArrangeAxisStart?this.viewManager.top:this.viewManager.bottom}},{key:"paddingFooter",get:function(){return this.isHorizontal?this.isArrangeAxisStart?this.viewManager.right:this.viewManager.left:this.isArrangeAxisStart?this.viewManager.bottom:this.viewManager.top}},{key:"mainAxisPadding",get:function(){return this.isHorizontal?this.viewManager.left+this.viewManager.right:this.viewManager.top+this.viewManager.bottom}}])&&P(l.prototype,s),c&&P(l,c),n}(n)).prototype,"scrollManager",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new c}}),_=j(m.prototype,"viewManager",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new s}}),x=j(m.prototype,"layoutManager",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new l}}),z=j(m.prototype,"pageViewManager",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new g}}),S=j(m.prototype,"releaseManager",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new f}}),k=j(m.prototype,"centerManager",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new u}}),y=m))||y));t._RF.pop()}}}));

System.register("chunks:///_virtual/LayoutManager.ts",["cc","./helper.ts","./Manager.ts","./enum.ts"],(function(t){"use strict";var e,i,r,n,o,a;return{setters:[function(t){e=t.cclegacy,i=t._decorator},function(t){r=t.Helper},function(t){n=t.Manager},function(t){o=t.ChildAlignment,a=t.Orientation}],execute:function(){var l,s,c,h,u,g,p,_,f,d,y,z,A,S,m,x,b,H,v,O,T,E,C;function L(t,e,i,r){i&&Object.defineProperty(t,e,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function W(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function M(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function w(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function P(t,e,i,r,n){var o={};return Object.keys(r).forEach((function(t){o[t]=r[t]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce((function(i,r){return r(t,e,i)||i}),o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(t,e,o),o=null),o}e._RF.push({},"d91f5nGeD5IbK7eVk2CJPJh","LayoutManager",void 0);var D,N=i.ccclass,k=i.property;!function(t){t[t.ON_LAYOUT_COMPLATED=0]="ON_LAYOUT_COMPLATED",t[t.ON_CHANGED_LAYOUT_STATE=1]="ON_CHANGED_LAYOUT_STATE"}(D||(D={}));t("LayoutManager",(l=N("LayoutManager"),s=k({type:o}),c=k({type:o}),h=k({group:{id:"0",name:"forceExpand"}}),u=k({group:{id:"0",name:"forceExpand"}}),g=k({group:{id:"0",name:"controlSize"}}),p=k({group:{id:"0",name:"controlSize"}}),_=k({group:{id:"0",name:"controlScale"}}),f=k({group:{id:"0",name:"controlScale"}}),l((C=E=function(t){var e,i;function n(){for(var e,i=arguments.length,r=new Array(i),n=0;n<i;n++)r[n]=arguments[n];return L(M(e=t.call.apply(t,[this].concat(r))||this),"_childAlignment",z,M(e)),L(M(e),"_spacing",A,M(e)),L(M(e),"_reverseArrangement",S,M(e)),L(M(e),"delayLayout",m,M(e)),L(M(e),"_forceExpandWidth",x,M(e)),L(M(e),"_forceExpandHeight",b,M(e)),L(M(e),"_controlSizeWidth",H,M(e)),L(M(e),"_controlSizeHeight",v,M(e)),L(M(e),"_controlScaleWidth",O,M(e)),L(M(e),"_controlScaleHeight",T,M(e)),w(M(e),"_isDirty",!1),w(M(e),"_layoutQueue",[]),e}i=t,(e=n).prototype=Object.create(i.prototype),e.prototype.constructor=e,e.__proto__=i;var o,l,s,c=n.prototype;return c.onInit=function(){},c.layout=function(t){t&&(this.delayLayout?(this.unLayout(t.index),this._layoutQueue.push(t),this._isDirty=!0):(this._layoutHandler(t),this.emit(D.ON_LAYOUT_COMPLATED,[t.index])))},c.unLayout=function(t){-1!=(t=this._layoutQueue.findIndex((function(e){return e.index==t})))&&this._layoutQueue.splice(t,1)},c._layoutHandler=function(t){this._calcAlongAxis(t,a.Horizontal,this.adapter.isHorizontal),this._setChildrenAlongAxis(t,a.Horizontal,this.adapter.isHorizontal),this._calcAlongAxis(t,a.Vertical,this.adapter.isHorizontal),this._setChildrenAlongAxis(t,a.Vertical,this.adapter.isHorizontal)},c._calcAlongAxis=function(t,e,i){for(var r=e==a.Horizontal?this.horizontal:this.vertical,n=this._getControlSize(e),o=this._getControlScale(e),l=this._getForceExpandSize(e),s=r,c=r,h=0,u=i!=(e==a.Vertical),g=this._getLayoutList(t.models),p=0;p<g.length;p++){var _=g[p],f=this._getChildSizes(_,e,n,l),d=f.min,y=f.preferred,z=f.flexible;if(o){var A=_.scale[this._getAxis(e)];d*=A,y*=A,z*=A}u?(s=Math.max(d+r,s),c=Math.max(y+r,c),h=Math.max(z,h)):(s+=d+this.spacing,c+=y+this.spacing,h+=z)}!u&&g.length>0&&(s-=this.spacing,c-=this.spacing),c=Math.max(s,c),this._setLayoutInputForAxis(t,s,c,h,e)},c._getControlSize=function(t){return t==a.Horizontal?this.controlSizeWidth:this.controlSizeHeight},c._getControlScale=function(t){return t==a.Horizontal?this.controlScaleWidth:this.controlScaleHeight},c._getForceExpandSize=function(t){return t==a.Horizontal?this.forceExpandWidth:this.forceExpandHeight},c._setChildrenAlongAxis=function(t,e,i){var n=t.size[this._getAxis(e)],o=this._getControlSize(e),l=this._getControlScale(e),s=this._getForceExpandSize(e),c=this._getAlignmentOnAxis(e),h=this._getLayoutList(t.models),u=i!=(e==a.Vertical),g=this.reverseArrangement?h.length-1:0,p=this.reverseArrangement?0:h.length,_=this.reverseArrangement?-1:1,f=this._getAxis(e);if(u)for(var d=n-(e==a.Horizontal?this.horizontal:this.vertical),y=g;this.reverseArrangement?y>=p:y<p;y+=_){var z=h[y],A=this._getChildSizes(z,e,o,s),S=A.min,m=A.preferred,x=A.flexible,b=l?z.scale[f]:1,H=r.clamp(d,S,x>0?n:m),v=this._getStartOffset(t,e,H*b);if(o)this._setChildAlongAxisWithScale(t,z,e,v,b,H);else{var O=(H-z.size[f])*c;O*=b,this._setChildAlongAxisWithScale(t,z,e,v+O,b)}}else{var T=e==a.Horizontal?this.left:this.top,E=0,C=n-this._getTotalPreferredSize(t,e);C>0&&(0==this._getTotalFlexibleSize(t,e)?T=this._getStartOffset(t,e,this._getTotalPreferredSize(t,e)-(e==a.Horizontal?this.horizontal:this.vertical)):this._getTotalFlexibleSize(t,e)>0&&(E=C/this._getTotalFlexibleSize(t,e)));var L=0;this._getTotalMinSize(t,e)!=this._getTotalPreferredSize(t,e)&&(L=r.clamp01((n-this._getTotalMinSize(t,e))/(this._getTotalPreferredSize(t,e)-this._getTotalMinSize(t,e))));for(y=g;this.reverseArrangement?y>=p:y<p;y+=_){var W=h[y],M=this._getChildSizes(W,e,o,s),w=(S=M.min,m=M.preferred,x=M.flexible,l?W.scale[f]:1),P=r.lerp(S,m,L);if(P+=x*E,o)this._setChildAlongAxisWithScale(t,W,e,T,w,P);else{O=(P-W.size[f])*c;this._setChildAlongAxisWithScale(t,W,e,T+O,w)}T+=P*w+this.spacing}}},c._setChildAlongAxisWithScale=function(t,e,i,r,n,o){if(null!=e){var l=this._getAxis(i),s=0;isNaN(o)?s=e.size[l]:(e.layoutSize[l]=o,s=o);var c={x:e.position.x,y:e.position.y},h=0;i==a.Horizontal?(h=r+s*e.anchorPoint[l]*n,h-=t.size[l]*t.anchorPoint[l],h+=t.position[l]):(h=-r-s*(1-e.anchorPoint[l])*n,h+=t.size[l]*(1-t.anchorPoint[l]),h+=t.position[l]),c[l]=h,e.position=c}},c._getStartOffset=function(t,e,i){var r=i+(e==a.Horizontal?this.horizontal:this.vertical),n=t.size[this._getAxis(e)]-r,o=this._getAlignmentOnAxis(e);return(e==a.Horizontal?this.left:this.top)+n*o},c._setLayoutInputForAxis=function(t,e,i,r,n){var o=this._getAxis(n);t.totalMinSize[o]=e,t.totalPreferredSize[o]=i,t.totalFlexibleSize[o]=r},c._getAxis=function(t){return t==a.Horizontal?"x":"y"},c._getMinSize=function(t,e){return t.minSize[this._getAxis(e)]},c._getPreferredSize=function(t,e){var i=this._getAxis(e);return Math.max(t.minSize[i],t.preferredSize[i])},c._getFlexibleSize=function(t,e){return t.flexibleSize[this._getAxis(e)]},c._getTotalMinSize=function(t,e){return t.totalMinSize[this._getAxis(e)]},c._getTotalPreferredSize=function(t,e){return t.totalPreferredSize[this._getAxis(e)]},c._getTotalFlexibleSize=function(t,e){return t.totalFlexibleSize[this._getAxis(e)]},c._getChildSizes=function(t,e,i,r){var n,o,a;return i?(n=this._getMinSize(t.element,e),o=this._getPreferredSize(t.element,e),a=this._getFlexibleSize(t.element,e)):(o=n=t.size[this._getAxis(e)],a=0),r&&(a=Math.max(a,1)),{min:n,preferred:o,flexible:a}},c._getAlignmentOnAxis=function(t){return t==a.Horizontal?this.adapter.layoutManager.childAlignment%3*.5:.5*Math.floor(this.adapter.layoutManager.childAlignment/3)},c._getLayoutList=function(t){for(var e=[],i=0;i<t.length;i++){var r=t[i];r.element.ignoreLayout||e.push(r)}return e},c.internal_lateUpdate=function(t){if(this._isDirty){this._isDirty=!1;for(var e=[];this._layoutQueue.length>0;){var i=this._layoutQueue.shift();this._layoutHandler(i),e.push(i.index)}e.length>0&&this.emit(D.ON_LAYOUT_COMPLATED,e)}},o=n,(l=[{key:"childAlignment",get:function(){return this._childAlignment},set:function(t){t!=this._childAlignment&&(this._childAlignment=t,this.emit(D.ON_CHANGED_LAYOUT_STATE))}},{key:"spacing",get:function(){return this._spacing},set:function(t){t!=this._spacing&&(this._spacing=t,this.emit(D.ON_CHANGED_LAYOUT_STATE))}},{key:"reverseArrangement",get:function(){return this._reverseArrangement},set:function(t){t!=this._reverseArrangement&&(this._reverseArrangement=t,this.emit(D.ON_CHANGED_LAYOUT_STATE))}},{key:"forceExpandWidth",get:function(){return this._forceExpandWidth},set:function(t){t!=this._forceExpandWidth&&(this._forceExpandWidth=t,this.emit(D.ON_CHANGED_LAYOUT_STATE))}},{key:"forceExpandHeight",get:function(){return this._forceExpandHeight},set:function(t){t!=this._forceExpandHeight&&(this._forceExpandHeight=t,this.emit(D.ON_CHANGED_LAYOUT_STATE))}},{key:"controlSizeWidth",get:function(){return this._controlSizeWidth},set:function(t){t!=this._controlSizeWidth&&(this._controlSizeWidth=t,this.emit(D.ON_CHANGED_LAYOUT_STATE))}},{key:"controlSizeHeight",get:function(){return this._controlSizeHeight},set:function(t){t!=this._controlSizeHeight&&(this._controlSizeHeight=t,this.emit(D.ON_CHANGED_LAYOUT_STATE))}},{key:"controlScaleWidth",get:function(){return this._controlScaleWidth},set:function(t){t!=this._controlScaleWidth&&(this._controlScaleWidth=t,this.emit(D.ON_CHANGED_LAYOUT_STATE))}},{key:"controlScaleHeight",get:function(){return this._controlScaleHeight},set:function(t){t!=this._controlScaleHeight&&(this._controlScaleHeight=t,this.emit(D.ON_CHANGED_LAYOUT_STATE))}},{key:"top",get:function(){return this.adapter.isVertical?0:this.adapter.viewManager.top}},{key:"bottom",get:function(){return this.adapter.isVertical?0:this.adapter.viewManager.bottom}},{key:"left",get:function(){return this.adapter.isHorizontal?0:this.adapter.viewManager.left}},{key:"right",get:function(){return this.adapter.isHorizontal?0:this.adapter.viewManager.right}},{key:"horizontal",get:function(){return this.left+this.right}},{key:"vertical",get:function(){return this.top+this.bottom}},{key:"isControlMainAxisSize",get:function(){return this.adapter.isHorizontal&&this.controlSizeWidth||this.adapter.isVertical&&this.controlSizeHeight}},{key:"isControlCrossAxisSize",get:function(){return this.adapter.isHorizontal&&this.controlSizeHeight||this.adapter.isVertical&&this.controlSizeWidth}},{key:"isControlCrossAxisScale",get:function(){return this.adapter.isHorizontal&&this.controlScaleHeight||this.adapter.isVertical&&this.controlScaleWidth}}])&&W(o.prototype,l),s&&W(o,s),n}(n),w(E,"Event",D),z=P((y=C).prototype,"_childAlignment",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return o.UpperLeft}}),P(y.prototype,"childAlignment",[c],Object.getOwnPropertyDescriptor(y.prototype,"childAlignment"),y.prototype),A=P(y.prototype,"_spacing",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),P(y.prototype,"spacing",[k],Object.getOwnPropertyDescriptor(y.prototype,"spacing"),y.prototype),S=P(y.prototype,"_reverseArrangement",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),P(y.prototype,"reverseArrangement",[k],Object.getOwnPropertyDescriptor(y.prototype,"reverseArrangement"),y.prototype),m=P(y.prototype,"delayLayout",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),x=P(y.prototype,"_forceExpandWidth",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),P(y.prototype,"forceExpandWidth",[h],Object.getOwnPropertyDescriptor(y.prototype,"forceExpandWidth"),y.prototype),b=P(y.prototype,"_forceExpandHeight",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),P(y.prototype,"forceExpandHeight",[u],Object.getOwnPropertyDescriptor(y.prototype,"forceExpandHeight"),y.prototype),H=P(y.prototype,"_controlSizeWidth",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),P(y.prototype,"controlSizeWidth",[g],Object.getOwnPropertyDescriptor(y.prototype,"controlSizeWidth"),y.prototype),v=P(y.prototype,"_controlSizeHeight",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),P(y.prototype,"controlSizeHeight",[p],Object.getOwnPropertyDescriptor(y.prototype,"controlSizeHeight"),y.prototype),O=P(y.prototype,"_controlScaleWidth",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),P(y.prototype,"controlScaleWidth",[_],Object.getOwnPropertyDescriptor(y.prototype,"controlScaleWidth"),y.prototype),T=P(y.prototype,"_controlScaleHeight",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),P(y.prototype,"controlScaleHeight",[f],Object.getOwnPropertyDescriptor(y.prototype,"controlScaleHeight"),y.prototype),d=y))||d));e._RF.pop()}}}));

System.register("chunks:///_virtual/pageView.ts",["cc","./Holder.ts","./View.ts","./ScrollAdapter.ts","./pageView_item.ts"],(function(e){"use strict";var t,i,n,r,o,a,c,l;return{setters:[function(e){t=e.cclegacy,i=e._decorator,n=e.Prefab,r=e.director},function(e){o=e.Holder},function(e){a=e.View},function(e){c=e.ScrollAdapter},function(e){l=e.pageView_item}],execute:function(){var u,f,s,p,b,h,g;function d(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function v(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function w(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function y(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function m(e,t,i,n,r){var o={};return Object.keys(n).forEach((function(e){o[e]=n[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),o),r&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(r):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}t._RF.push({},"e19ce/HBJlJTqHa8oS0cj0o","pageView",void 0);var _=i.ccclass,V=i.property,P=(e("pageView",(u=_("pageView"),f=V(n),s=V(n),u((h=m((b=function(e){function t(){for(var t,i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];return d(v(t=e.call.apply(e,[this].concat(n))||this),"prefab1",h,v(t)),d(v(t),"prefab2",g,v(t)),t}w(t,e);var i=t.prototype;return i.getPrefab=function(e){return 0==e.type?this.prefab1:this.prefab2},i.getHolder=function(e,t){return new z(e,t,this)},i.getView=function(){return new P(this)},i.initElement=function(e,t){},i.home=function(){r.loadScene("home")},i.start=function(){for(var e=[],t=0;t<10;t++)e.push({name:"# "+t,type:t%2});this.modelManager.insert(e)},i.scrollToPrevPage=function(){this.pageViewManager.scrollToPrevPage()},i.scrollToNextPage=function(){this.pageViewManager.scrollToNextPage()},t}(c)).prototype,"prefab1",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=m(b.prototype,"prefab2",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),p=b))||p)),function(e){function t(){return e.apply(this,arguments)||this}w(t,e);var i=t.prototype;return i.onVisible=function(){},i.onDisable=function(){},t}(a)),z=function(e){function t(){for(var t,i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];return y(v(t=e.call.apply(e,[this].concat(n))||this),"_item",null),t}w(t,e);var i=t.prototype;return i.onCreated=function(){this._item=this.node.getComponent(l)},i.onVisible=function(){this._item.show(this)},i.onDisable=function(){this._item.hide()},t}(o);t._RF.pop()}}}));

System.register("chunks:///_virtual/Scrollbar.ts",["cc","./helper.ts","./enum.ts","./ScrollManager.ts","./ScrollAdapter.ts"],(function(t){"use strict";var i,e,n,r,o,a,s,h,l,c,u,p,f,_,d,g,b;return{setters:[function(t){i=t.cclegacy,e=t._decorator,n=t.Color,r=t.Sprite,o=t.SpriteFrame,a=t.Vec2,s=t.Node,h=t.v3,l=t.UITransform,c=t.Component},function(t){u=t.Helper},function(t){p=t.ScrollbarDirection,f=t.Transition,_=t.Orientation},function(t){d=t.ScrollManager,g=t.ADAPTER},function(t){b=t.ScrollAdapter}],execute:function(){var m,v,S,T,y,E,w,z,H,C,M,O,A,L,x,R,U,G,k,I,P,N,D,V,F,j,B,K,W,q,J,Q,X,Y,Z,$,tt,it,et,nt;function rt(t,i,e,n){e&&Object.defineProperty(t,i,{enumerable:e.enumerable,configurable:e.configurable,writable:e.writable,value:e.initializer?e.initializer.call(n):void 0})}function ot(t,i){for(var e=0;e<i.length;e++){var n=i[e];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function at(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function st(t,i,e){return i in t?Object.defineProperty(t,i,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[i]=e,t}function ht(t,i,e,n,r){var o={};return Object.keys(n).forEach((function(t){o[t]=n[t]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=e.slice().reverse().reduce((function(e,n){return n(t,i,e)||e}),o),r&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(r):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(t,i,o),o=null),o}i._RF.push({},"e7832mHcjNK2r9z66HM2mwU","Scrollbar",void 0);var lt=e.ccclass,ct=e.property,ut=new n;t("Scrollbar",(m=lt("Scrollbar"),v=ct(b),S=ct(r),T=ct({type:p,tooltip:"滚动方向"}),y=ct({tooltip:"开启后会允许用户滑动进度条"}),E=ct({range:[0,1],slide:!0,step:.001,visible:function(){return this.interactable},tooltip:"可拖拽的最小限制，默认=0不限制,仅当你开启了循环,并且你的item会实时修改主轴尺寸时,那么你应该适当限制拖拽区域"}),w=ct({range:[0,1],slide:!0,step:.001,visible:function(){return this.interactable},tooltip:"可拖拽的最大限制，默认=1不限制,仅当你开启了循环,并且你的item会实时修改主轴尺寸时,那么你应该适当限制拖拽区域"}),z=ct({type:f}),H=ct({type:f,visible:function(){return this.interactable}}),C=ct({type:r,visible:function(){return this.transition!=f.None&&this.interactable}}),M=ct({type:o,visible:function(){return this.transition==f.SpriteSwap&&this.interactable}}),O=ct({type:o,visible:function(){return this.transition==f.SpriteSwap&&this.interactable}}),A=ct({visible:function(){return this.transition==f.ColorTint&&this.interactable}}),L=ct({visible:function(){return this.transition==f.ColorTint&&this.interactable}}),x=ct({visible:function(){return this.transition==f.Scale&&this.interactable}}),R=ct({visible:function(){return this.transition==f.Scale&&this.interactable}}),U=ct({visible:function(){return this.transition==f.Scale||this.transition==f.ColorTint&&this.interactable}}),G=ct({range:[0,11],slide:!0,step:1,tooltip:"用于进度的步数。值为 < 2 将禁用"}),k=ct({tooltip:"开启后会在滚动条无更新时自动隐藏"}),I=ct({visible:function(){return this.enableAutoHide},tooltip:"自动隐藏滚动条的时间"}),m((D=ht((N=function(t){var i,e;function o(){for(var i,e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return rt(at(i=t.call.apply(t,[this].concat(n))||this),"adapter",D,at(i)),rt(at(i),"handle",V,at(i)),rt(at(i),"direction",F,at(i)),rt(at(i),"interactable",j,at(i)),rt(at(i),"dragMinLimit",B,at(i)),rt(at(i),"dragMaxLimit",K,at(i)),rt(at(i),"_transition",W,at(i)),rt(at(i),"targetGraphic",q,at(i)),rt(at(i),"hoverSprite",J,at(i)),rt(at(i),"pressedSprite",Q,at(i)),rt(at(i),"hoverColor",X,at(i)),rt(at(i),"pressedColor",Y,at(i)),rt(at(i),"hoverScale",Z,at(i)),rt(at(i),"pressedScale",$,at(i)),rt(at(i),"transitionDuration",tt,at(i)),rt(at(i),"numberOfSteps",it,at(i)),rt(at(i),"enableAutoHide",et,at(i)),rt(at(i),"autoHideTime",nt,at(i)),st(at(i),"_transitionInfo",void 0),st(at(i),"_targetEnter",void 0),st(at(i),"_targetStart",void 0),st(at(i),"_isDirty",!1),st(at(i),"_transform",void 0),st(at(i),"_handleTransform",void 0),st(at(i),"_size",0),st(at(i),"_value",-1),st(at(i),"_pointerEvent",void 0),st(at(i),"_offset",void 0),st(at(i),"_isHide",void 0),st(at(i),"_opacity",255),st(at(i),"_autoHideRemainingTime",void 0),st(at(i),"_rawTargetScale",void 0),st(at(i),"_rawTargetFrame",void 0),st(at(i),"_rawTargetColor",void 0),i}e=t,(i=o).prototype=Object.create(e.prototype),i.prototype.constructor=i,i.__proto__=e;var a,c,b,m=o.prototype;return m.__preload=function(){this.transform.setAnchorPoint(.5,.5),this.handleTransform.setAnchorPoint(.5,.5),this.handle.node.setPosition(0,0),this.adapter&&(this.adapter.scrollManager.on(d.Event.ON_UPDATE_PERCENTAGE,this._onUpdateScrollbar,this),this._updateVisuals()),this.targetGraphic&&(this._rawTargetScale=this.targetGraphic.node.getScale().clone(),this._rawTargetFrame=this.targetGraphic.spriteFrame,this._rawTargetColor=this.targetGraphic.color.clone()),this._openAutoHide(!0)},m.onEnable=function(){var t=this.node.getComponent(r);t&&(this._opacity=t.color.a),this.adapter&&(this.node[g]=!0,this.node.on(s.EventType.TOUCH_START,this._onTouchStart,this),this.node.on(s.EventType.TOUCH_MOVE,this._onTouchMove,this),this.node.on(s.EventType.TOUCH_END,this._onTouchEnd,this),this.node.on(s.EventType.TOUCH_CANCEL,this._onTouchEnd,this),this.node.on(s.EventType.MOUSE_ENTER,this._mouseEnter,this),this.node.on(s.EventType.MOUSE_LEAVE,this._mouseLeave,this),this.targetGraphic&&(this.targetGraphic.node.on(s.EventType.MOUSE_ENTER,this._targetMouseEnter,this),this.targetGraphic.node.on(s.EventType.MOUSE_LEAVE,this._targetMouseLeave,this)))},m.onDisable=function(){this.node.off(s.EventType.TOUCH_START,this._onTouchStart,this),this.node.off(s.EventType.TOUCH_MOVE,this._onTouchMove,this),this.node.off(s.EventType.TOUCH_END,this._onTouchEnd,this),this.node.off(s.EventType.TOUCH_CANCEL,this._onTouchEnd,this),this.node.off(s.EventType.MOUSE_ENTER,this._mouseEnter,this),this.node.off(s.EventType.MOUSE_LEAVE,this._mouseLeave,this),this.targetGraphic&&(this.targetGraphic.node.off(s.EventType.MOUSE_ENTER,this._targetMouseEnter,this),this.targetGraphic.node.off(s.EventType.MOUSE_LEAVE,this._targetMouseLeave,this))},m._targetMouseEnter=function(){switch(this._targetEnter=!0,this._openAutoHide(!1),this.transition){case f.Scale:this._transitionScale(this._targetStart?this.pressedScale:this.hoverScale);break;case f.SpriteSwap:this._transitionSprite(this._targetStart?this.pressedSprite:this.hoverSprite);break;case f.ColorTint:this._transitionColor(this._targetStart?this.pressedColor:this.hoverColor)}},m._targetMouseLeave=function(){switch(this._targetEnter=!1,this._openAutoHide(!0),this.transition){case f.Scale:this._transitionScale(this._targetStart?this.pressedScale:this._rawTargetScale);break;case f.SpriteSwap:this._transitionSprite(this._targetStart?this.pressedSprite:this._rawTargetFrame);break;case f.ColorTint:this._transitionColor(this._targetStart?this.pressedColor:this._rawTargetColor)}},m._transitionScale=function(t){t&&this.targetGraphic&&(this._transitionInfo={time:0,from:this.targetGraphic.node.getScale().clone(),to:t})},m._transitionColor=function(t){t&&this.targetGraphic&&(this._transitionInfo={time:0,from:this.targetGraphic.color,to:t})},m._transitionSprite=function(t){t&&this.targetGraphic&&(this.targetGraphic.spriteFrame=t)},m._mouseEnter=function(t){this.interactable&&this._openAutoHide(!1)},m._mouseLeave=function(t){this.interactable&&this._openAutoHide(!0)},m._openAutoHide=function(t){this.enableAutoHide&&(this._autoHideRemainingTime=this.autoHideTime,this._isHide=t,t||this._setOpacity(this._opacity))},m._onTouchStart=function(t){if(this.interactable&&1!=this.size&&0!=this.size){this._openAutoHide(!1),this._pointerEvent=null,this._targetStart=!0;var i=t.getUIStartLocation();if(this._offset=this.handleTransform.convertToNodeSpaceAR(h(i.x,i.y)),Math.abs(this._offset[this.xy])>.5*this.handleTransform[this.wh]){this._offset=null,this._pointerEvent=t;var e=this._calcPercentage(t);this._setPercentage(e)}this.transition==f.Scale?this._transitionScale(this.pressedScale):this.transition==f.SpriteSwap?this._transitionSprite(this.pressedSprite):this.transition==f.ColorTint&&this._transitionColor(this.pressedColor)}},m._onTouchMove=function(t){if(this.interactable&&1!=this.size&&0!=this.size&&this._offset){var i=this._calcPercentage(t,this._offset[this.xy]);this._setPercentage(i)}},m._onTouchEnd=function(t){if(this.interactable&&1!=this.size&&0!=this.size){switch(this._offset=null,this._pointerEvent=null,this._targetStart=!1,this.transition){case f.Scale:this._transitionScale(this._targetEnter?this.hoverScale:this._rawTargetScale);break;case f.SpriteSwap:this._transitionSprite(this._targetEnter?this.hoverSprite:this._rawTargetFrame);break;case f.ColorTint:this._transitionColor(this._targetEnter?this.hoverColor:this._rawTargetColor)}this.adapter.centerManager.scrollToCenter()}},m._setPercentage=function(t){this.adapter.scrollManager.stopScroll(),this.adapter.scrollManager.setPercentage(t)},m._calcPercentage=function(t,i){void 0===i&&(i=0);var e=(this.axis==_.Horizontal?this.transform.width:this.transform.height)*(1-this.size),n=t.getUILocation(),r=this.transform.convertToNodeSpaceAR(h(n.x,n.y))[this.xy]-i-.5*-this.transform[this.wh];r-=.5*this.handleTransform[this.wh];var o=this.adapter.scrollManager.percentage;switch(this.direction){case p.Right_To_Left:case p.Top_To_Bottom:o=u.clamp(1-r/e,this.dragMinLimit,this.dragMaxLimit);break;case p.Left_To_Right:case p.Bottom_To_Top:o=u.clamp(r/e,this.dragMinLimit,this.dragMaxLimit)}return this.getSteps(o)},m._onUpdateScrollbar=function(t,i){var e=0,n=0;this.adapter.viewManager.virtualSize>0&&(e=this.adapter.viewManager.virtualSize>=this.adapter.mainAxisSize?u.clamp01((this.adapter.mainAxisSize-Math.abs(i))/this.adapter.viewManager.virtualSize):1),n=t,this.size=e,this.numberOfSteps>1&&(n=Math.round(n*(this.numberOfSteps-1))/(this.numberOfSteps-1),n=u.clamp01(n)),this.value=n,this._autoHideRemainingTime=this.autoHideTime,this._setOpacity(this._opacity)},m._updateVisuals=function(){if(this.handleTransform&&this.adapter){var t={x:0,y:0},i={x:0,y:0},e=this.adapter.mainAxis,n=u.clamp01(this.value)*(1-this.size);t[e]=n,i[e]=n+this.size;var r=this.transform.contentSize[this.wh]-i[e]*this.transform.contentSize[this.wh],o=t[e]*this.transform.contentSize[this.wh],a=this.handle.node.getPosition();switch(this.direction){case p.Bottom_To_Top:case p.Left_To_Right:a[this.xy]=.5*(o-r);break;case p.Top_To_Bottom:case p.Right_To_Left:a[this.xy]=.5*(r-o)}this.handleTransform[this.wh]=this.transform.contentSize[this.wh]-r-o,this.handle.node.setPosition(a)}},m.update=function(t){this._clearDirty(),this._autoHide(t),this._tranitionHandler(t)},m._clearDirty=function(){if(this._isDirty&&(this._isDirty=!1,this._updateVisuals(),this._pointerEvent)){var t=this._pointerEvent.getUILocation();this._offset=this.handleTransform.convertToNodeSpaceAR(h(t.x,t.y)),this._pointerEvent=null}},m._autoHide=function(t){if(this.enableAutoHide&&this._isHide&&!(this._autoHideRemainingTime<=0)&&(this._autoHideRemainingTime-=t,this._autoHideRemainingTime<=this.autoHideTime)){this._autoHideRemainingTime=Math.max(0,this._autoHideRemainingTime);var i=this._opacity*(this._autoHideRemainingTime/this.autoHideTime);this._setOpacity(i)}},m._tranitionHandler=function(t){var i=this.targetGraphic;if(this.transition!=f.None&&i&&this._transitionInfo){this._transitionInfo.time+=t;var e=1;if(this.transitionDuration>0&&(e=this._transitionInfo.time/this.transitionDuration),e>=1&&(e=1),this.transition==f.Scale){this._transitionInfo.current=i.node.getScale();var r=this._transitionInfo.from,o=this._transitionInfo.to;this._transitionInfo.current.x=u.lerp(r.x,o.x,e),this._transitionInfo.current.y=u.lerp(r.y,o.y,e),i.node.setScale(this._transitionInfo.current)}else if(this.transition==f.ColorTint){var a=this._transitionInfo.from,s=this._transitionInfo.to;n.lerp(ut,a,s,e),i.color=ut}1===e&&(this._transitionInfo=null)}},m._setOpacity=function(t){if(this.handle){var i=function(i){i&&(ut.set(i.color),ut.a=t,i.color=ut)};i(this.node.getComponent(r)),i(this.handle.getComponent(r))}},m.getSteps=function(t){return this.numberOfSteps>1&&(t=Math.round(t*(this.numberOfSteps-1))/(this.numberOfSteps-1),t=u.clamp(t,this.dragMinLimit,this.dragMaxLimit)),t},a=o,(c=[{key:"transition",get:function(){return this._transition},set:function(t){t!=this._transition&&(this._transition=t,t!=f.None&&(this.targetGraphic||(this.targetGraphic=this.handle)))}},{key:"size",get:function(){return this._size},set:function(t){t!=this._size&&(this._size=u.clamp(t,.01,1),this._isDirty=!0)}},{key:"value",get:function(){return this._value},set:function(t){t!=this._value&&(this._value=this.getSteps(t),this._isDirty=!0)}},{key:"stepSize",get:function(){return this.numberOfSteps>1?1/(this.numberOfSteps-1):.1}},{key:"transform",get:function(){return this._transform||(this._transform=this.node.getComponent(l)),this._transform}},{key:"handleTransform",get:function(){return this.handle?(this._handleTransform||(this._handleTransform=this.handle.node.getComponent(l)),this._handleTransform):null}},{key:"xy",get:function(){return this.axis==_.Horizontal?"x":"y"}},{key:"wh",get:function(){return this.axis==_.Horizontal?"width":"height"}},{key:"axis",get:function(){return this.direction==p.Left_To_Right||this.direction==p.Right_To_Left?_.Horizontal:_.Vertical}}])&&ot(a.prototype,c),b&&ot(a,b),o}(c)).prototype,"adapter",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=ht(N.prototype,"handle",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=ht(N.prototype,"direction",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return p.Top_To_Bottom}}),j=ht(N.prototype,"interactable",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),B=ht(N.prototype,"dragMinLimit",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),K=ht(N.prototype,"dragMaxLimit",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),W=ht(N.prototype,"_transition",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return f.None}}),ht(N.prototype,"transition",[H],Object.getOwnPropertyDescriptor(N.prototype,"transition"),N.prototype),q=ht(N.prototype,"targetGraphic",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),J=ht(N.prototype,"hoverSprite",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Q=ht(N.prototype,"pressedSprite",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),X=ht(N.prototype,"hoverColor",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return n.WHITE.clone()}}),Y=ht(N.prototype,"pressedColor",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new n(211,211,211,255)}}),Z=ht(N.prototype,"hoverScale",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new a(1,1)}}),$=ht(N.prototype,"pressedScale",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new a(1.2,1.2)}}),tt=ht(N.prototype,"transitionDuration",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.2}}),it=ht(N.prototype,"numberOfSteps",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),et=ht(N.prototype,"enableAutoHide",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),nt=ht(N.prototype,"autoHideTime",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),P=N))||P));i._RF.pop()}}}));

System.register("chunks:///_virtual/horiznal_scale_card_item.ts",["cc","./helper.ts"],(function(e){"use strict";var r,t,i,n,a;return{setters:[function(e){r=e.cclegacy,t=e._decorator,i=e.Label,n=e.Component},function(e){a=e.Helper}],execute:function(){var o,l,c,s,h;function u(e,r,t,i){t&&Object.defineProperty(e,r,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(i):void 0})}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}r._RF.push({},"f2e355YhhRGGLGODyETS6Zp","horiznal_scale_card_item",void 0);var p=t.ccclass,_=t.property;e("horiznal_scale_card_item",(o=p("horiznal_scale_card_item"),l=_(i),o((h=function(e,r,t,i,n){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=t.slice().reverse().reduce((function(t,i){return i(e,r,t)||t}),a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,r,a),a=null),a}((s=function(e){var r,t;function i(){for(var r,t=arguments.length,i=new Array(t),n=0;n<t;n++)i[n]=arguments[n];return u(d(r=e.call.apply(e,[this].concat(i))||this),"label",h,d(r)),f(d(r),"_holder",void 0),r}t=e,(r=i).prototype=Object.create(t.prototype),r.prototype.constructor=r,r.__proto__=t;var n=i.prototype;return n.start=function(){},n.show=function(e){this._holder=e,this.label.string=e.data.name},n.hide=function(){},n.click=function(){350==this._holder.transform.height?this._holder.transform.height=200:this._holder.transform.height=350},n.lateUpdate=function(){if(this._holder&&this._holder.model){this._holder.view.index;var e=this._holder.adapter.scrollManager.content.convertToWorldSpaceAR(this.node.position),r=this._holder.adapter.scrollManager.view.convertToNodeSpaceAR(e),t=this._holder.adapter.centerManager.getContainerOffset(),i=Math.abs(r[this._holder.adapter.mainAxis])-t,n=Math.abs(i)/this._holder.adapter.mainAxisSize;n=1-n,n=a.clamp(n,.3,1);var o=this.node.getScale();o[this._holder.adapter.mainAxis]=n,this.node.setScale(o)}},i}(n)).prototype,"label",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),c=s))||c));r._RF.pop()}}}));

System.register("chunks:///_virtual/main",["./helper.ts","./Manager.ts","./enum.ts","./ModelManager.ts","./Holder.ts","./debug.ts","./Group.ts","./LayoutManager.ts","./View.ts","./ViewManager.ts","./ScrollManager.ts","./CenterManager.ts","./PageViewManager.ts","./ReleaseManager.ts","./ScrollAdapter.ts","./card_item.ts","./card.ts","./page_item.ts","./chat_Item.ts","./test_item.ts","./fixed_item.ts","./chat.ts","./item_page.ts","./horiznal_scale_card_item.ts","./horiznal_scale_card.ts","./Indicator.ts","./interface.ts","./edit_item.ts","./edit.ts","./test.ts","./time_item.ts","./time.ts","./pageView_item.ts","./time_main.ts","./fixed.ts","./home.ts","./pageView.ts","./Scrollbar.ts"],(function(){"use strict";return{setters:[function(){},function(){},function(){},function(){},function(){},function(){},function(){},function(){},function(){},function(){},function(){},function(){},function(){},function(){},function(){},function(){},function(){},function(){},function(){},function(){},function(){},function(){},function(){},function(){},function(){},function(){},function(){},function(){},function(){},function(){},function(){},function(){},function(){},function(){},function(){},function(){},function(){},function(){}],execute:function(){}}}));

(function(r) {
  r('virtual:///prerequisite-imports/main', 'chunks:///_virtual/main'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});