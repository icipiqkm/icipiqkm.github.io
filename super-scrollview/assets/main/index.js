System.register("chunks:///_virtual/super-layout.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./super-scrollview.ts"],(function(t){"use strict";var e,i,o,r,n,s,h,a,d,l,c,u,f,p,v,g,T,y,m,w,x,_,B;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,o=t.initializerDefineProperty,r=t.assertThisInitialized,n=t.defineProperty,s=t.createClass,h=t.asyncToGenerator},function(t){a=t.cclegacy,d=t._decorator,l=t.ccenum,c=t.UITransform,u=t.Prefab,f=t.EventHandler,p=t.Node,v=t.Vec2,g=t.Vec3,T=t.Size,y=t.SystemEventType,m=t.size,w=t.Component,x=t.director,_=t.instantiate},function(t){B=t.SuperScrollview}],execute:function(){var O,I,R,b,H,S,A,P,L,z,E,M,F,D,C,N,G,X,Y,k,V,W,Z,j,U,q,J,K,Q,$,tt,et,it,ot,rt,nt,st,ht,at,dt,lt,ct,ut,ft,pt,vt,gt,Tt;a._RF.push({},"4430bdPVstIyrMzuiBW+hni","super-layout",void 0);var yt,mt,wt,xt,_t=d.ccclass,Bt=d.property,Ot=d.requireComponent,It=1e-4;!function(t){t[t.HORIZONTAL=0]="HORIZONTAL",t[t.VERTICAL=1]="VERTICAL"}(yt||(yt={})),l(yt),function(t){t[t.TOP_TO_BOTTOM=0]="TOP_TO_BOTTOM",t[t.BOTTOM_TO_TOP=1]="BOTTOM_TO_TOP"}(mt||(mt={})),l(mt),function(t){t[t.LEFT_TO_RIGHT=0]="LEFT_TO_RIGHT",t[t.RIGHT_TO_LEFT=1]="RIGHT_TO_LEFT"}(wt||(wt={})),l(wt),function(t){t[t.NONE=0]="NONE",t[t.HEADER=1]="HEADER",t[t.FOOTER=2]="FOOTER"}(xt||(xt={}));t("SuperLayout",(O=_t("SuperLayout"),I=Ot(c),R=Bt(B),b=Bt(c),H=Bt({type:yt}),S=Bt({type:mt}),A=Bt({type:wt}),P=Bt({tooltip:"最小值=1，大于1就是Grid模式"}),L=Bt({tooltip:"决定最多创建Prefab的数量"}),z=Bt({tooltip:"顶部填充"}),E=Bt({tooltip:"底部填充"}),M=Bt({tooltip:"左侧填充"}),F=Bt({tooltip:"右侧填充"}),D=Bt({tooltip:"横轴间距"}),C=Bt({tooltip:"纵轴间距"}),N=Bt({tooltip:"计算缩放后的尺寸"}),G=Bt({tooltip:"上/左 无限循环"}),X=Bt({tooltip:"下/右 无限循环"}),Y=Bt(u),k=Bt(f),V=Bt({tooltip:"开启自动居中"}),W=Bt({tooltip:"自动居中的滚动时间",visible:function(){return this.autoCenter}}),Z=Bt({type:p,tooltip:"自动居中的参考节点，如果为空、则默认选择View中心",visible:function(){return this.autoCenter}}),j=Bt({type:v,tooltip:"自动居中时、Item的居中锚点",visible:function(){return this.autoCenter}}),O(U=I((J=e((q=function(t){function e(){for(var e,i=arguments.length,s=new Array(i),h=0;h<i;h++)s[h]=arguments[h];return e=t.call.apply(t,[this].concat(s))||this,o(r(e),"scrollView",J,r(e)),o(r(e),"view",K,r(e)),o(r(e),"layoutType",Q,r(e)),o(r(e),"verticalAxisDirection",$,r(e)),o(r(e),"horizontalAxisDirection",tt,r(e)),o(r(e),"groupItemTotal",et,r(e)),o(r(e),"multiple",it,r(e)),o(r(e),"paddingTop",ot,r(e)),o(r(e),"paddingBottom",rt,r(e)),o(r(e),"paddingLeft",nt,r(e)),o(r(e),"paddingRight",st,r(e)),o(r(e),"spacingX",ht,r(e)),o(r(e),"spacingY",at,r(e)),o(r(e),"affectedByScale",dt,r(e)),o(r(e),"headerLoop",lt,r(e)),o(r(e),"footerLoop",ct,r(e)),o(r(e),"prefab",ut,r(e)),o(r(e),"refreshItemEvents",ft,r(e)),o(r(e),"autoCenter",pt,r(e)),o(r(e),"centerTime",vt,r(e)),o(r(e),"centerNode",gt,r(e)),o(r(e),"centerAnchor",Tt,r(e)),n(r(e),"isRestart",!1),n(r(e),"scrollDirection",xt.NONE),n(r(e),"prevPos",new g(0,0,0)),n(r(e),"_maxPrefabTotal",0),n(r(e),"_itemTotal",0),e}i(e,t);var a=e.prototype;return a.onLoad=function(){var t,e,i,o=this;null===(t=this.transform)||void 0===t||t.setAnchorPoint(new v(.5,.5)),null===(e=this.transform)||void 0===e||e.setContentSize(this.view.contentSize),this.node.setPosition(g.ZERO),null===(i=this.scrollView.view)||void 0===i||i.node.on(p.EventType.SIZE_CHANGED,this.onViewSizeChange,this),Object.defineProperty(this.transform,"contentSize",{get:function(){return o.contentSize}}),Object.defineProperty(this.transform,"width",{get:function(){return o.contentSize.width}}),Object.defineProperty(this.transform,"height",{get:function(){return o.contentSize.height}})},a.onEnable=function(){this.addEventListener()},a.onDisable=function(){this.removeEventListener()},a.total=function(){var t=h(regeneratorRuntime.mark((function t(e){var i,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.createItems(e);case 2:i=t.sent,o=e-this.itemTotal,this._itemTotal=e,i||this.refreshItems(o),this.scrollView.release();case 7:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),a.scrollToCenter=function(){this.soonFinish()},a.scrollToHeader=function(t){var e=0;e=this.vertical?this.verticalAxisDirection==mt.TOP_TO_BOTTOM?this.viewHeaderBoundary:this.viewFooterBoundary:this.horizontalAxisDirection==wt.LEFT_TO_RIGHT?this.viewHeaderBoundary:this.viewFooterBoundary,this.scrollToIndex(0,t,new g(e,e))},a.scrollToFooter=function(t){var e=0;if(this.vertical){if(this.fixedItemHeight<this.view.height)return;e=this.verticalAxisDirection==mt.TOP_TO_BOTTOM?this.viewFooterBoundary:this.viewHeaderBoundary}else{if(this.fixedItemWidth<this.view.width)return;e=this.horizontalAxisDirection==wt.LEFT_TO_RIGHT?this.viewFooterBoundary:this.viewHeaderBoundary}this.scrollToIndex(this.itemTotal-1,t,new g(e,e),!0)},a.scrollToIndex=function(t,e,i,o){var r;if(void 0===o&&(o=!1),!(isNaN(t)||t<0||t>this.itemTotal-1)){this.scrollView.stopAutoScroll();var n=0,s=this.node.children.find((function(e){return e.__index==t}));if(!s){var h=!1;t>this.footerIndex&&t<this.headerIndex?h=!(Math.abs(t-this.headerIndex)<Math.abs(t-this.footerIndex)):t>this.footerIndex?h=!0:t<this.headerIndex&&(h=!1);var a=0;h?(n=t%this.groupItemTotal-this.footerIndex%this.groupItemTotal,n=Math.abs(n)):(n=this.headerIndex%this.groupItemTotal,n=Math.abs(n));for(var d=0;d<n;d++)this.vertical?this.verticalAxisDirection==mt.TOP_TO_BOTTOM?h?this.pushToFooter(!0):this.pushToHeader(!0):h?this.pushToHeader(!0):this.pushToFooter(!0):this.horizontalAxisDirection==wt.LEFT_TO_RIGHT?h?this.pushToFooter(!0):this.pushToHeader(!0):h?this.pushToHeader(!0):this.pushToFooter(!0);a=h?Math.abs(t-this.maxPrefabTotal)+1:t<this.groupItemTotal?0:t;for(var l=0;l<this.node.children.length;l++){var c=this.node.children[l];(this.headerLoop||this.footerLoop)&&a>this.itemTotal-1&&(a=0),c.__index=a,this.notifyRefreshItem(c),a++}s=this.node.children.find((function(e){return e.__index==t}))}if(s){var u=s.getPosition().clone();this.autoCenter||(this.vertical?this.verticalAxisDirection==mt.TOP_TO_BOTTOM?u.y=o?this.getItemYMin(s._uiProps.uiTransformComp)-this.paddingBottom:this.getItemYMax(s._uiProps.uiTransformComp)+this.paddingTop:u.y=o?this.getItemYMax(s._uiProps.uiTransformComp)+this.paddingTop:this.getItemYMin(s._uiProps.uiTransformComp)-this.paddingBottom:this.horizontalAxisDirection==wt.LEFT_TO_RIGHT?u.x=o?this.getItemXMax(s._uiProps.uiTransformComp)+this.paddingRight:this.getItemXMin(s._uiProps.uiTransformComp)-this.paddingLeft:u.x=o?this.getItemXMin(s._uiProps.uiTransformComp)-this.paddingLeft:this.getItemXMax(s._uiProps.uiTransformComp)+this.paddingRight);var f,p=null===(r=this.transform)||void 0===r?void 0:r.convertToWorldSpaceAR(u),v=this.view.convertToNodeSpaceAR(p);f=!this.autoCenter&&i?i:this.getCenterAnchor(s._uiProps.uiTransformComp,this.centerPosition),v.multiply(new g(-1,-1,1)).add(f),this.scrollView.scrollToAny(v,e)}}},a.onViewSizeChange=function(){this.isRestart=!0;for(var t=0;t<this.node.children.length;t++){var e=this.node.children[t]._uiProps.uiTransformComp;this.setAndSaveSizeAndScale(e)}this.resetChilds(!0),this.isRestart=!1},a.setAndSaveSizeAndScale=function(t){t.setContentSize(this.getItemSize(t)),t.node.__size=t.contentSize.clone(),t.node.__scale=t.node.getScale().clone()},a.getCenterAnchor=function(t,e){var i=e.clone();if(this.vertical){var o=t.height*this.centerAnchor.y,r=t.height*t.anchorY;i.y-=o-r}else{var n=t.width*this.centerAnchor.x,s=t.width*t.anchorX;i.x+=n-s}return i},a.soonFinish=function(){if(this.autoCenter){this.scrollView.stopAutoScroll();for(var t=new g(999999,999999),e=0;e<this.node.children.length;e++){var i,o=this.node.children[e],r=null===(i=this.transform)||void 0===i?void 0:i.convertToWorldSpaceAR(o.position),n=this.view.convertToNodeSpaceAR(r),s={width:!1,height:!1},h=this.getCenterAnchor(o._uiProps.uiTransformComp,this.centerPosition),a=n.subtract(h);s.width=Math.abs(a.x)<Math.abs(t.x),s.height=Math.abs(a.y)<Math.abs(t.y),(this.vertical&&s.height||!this.vertical&&s.width)&&(t=a)}t.multiply(new g(-1,-1,1)),this.scrollView.scrollToAny(t,this.centerTime)}},a.getItemSize=function(t){var e=new T;if(this.vertical){var i=this.spacingX*(this.groupItemTotal-1);e.width=(this.accommodWidth-i)/this.groupItemTotal,e.height=t.height}else{var o=this.spacingY*(this.groupItemTotal-1);e.height=(this.accommodHeight-o)/this.groupItemTotal,e.width=t.width}return e},a.getItemYMax=function(t){if(!t)return 0;var e=this.getScaleHeight(t)*(1-t.anchorY);return t.node.position.y+e},a.getItemYMin=function(t){if(!t)return 0;var e=this.getScaleHeight(t)*t.anchorY;return t.node.position.y-e},a.getItemXMax=function(t){if(!t)return 0;var e=this.getScaleWidth(t)*(1-t.anchorX);return t.node.position.x+e},a.getItemXMin=function(t){if(!t)return 0;var e=this.getScaleWidth(t)*t.anchorX;return t.node.position.x-e},a.getStartX=function(t){if(!t)return 0;var e=0;if(this.horizontalAxisDirection==wt.LEFT_TO_RIGHT){var i=this.getScaleWidth(t)*t.anchorX;e=this.viewStartPoint.x+i}else{var o=this.getScaleWidth(t)*(1-t.anchorX);e=this.viewStartPoint.x-o}return e},a.getEndX=function(t){if(!t)return 0;var e=0;if(this.horizontalAxisDirection==wt.LEFT_TO_RIGHT){var i=this.getScaleWidth(t)*(1-t.anchorX);e=-this.viewStartPoint.x-i-this.paddingRight+this.paddingLeft}else{var o=this.getScaleWidth(t)*t.anchorX;e=-this.viewStartPoint.x+o+this.paddingLeft-this.paddingRight}return e},a.getStartY=function(t){if(!t)return 0;var e=0;if(this.verticalAxisDirection==mt.TOP_TO_BOTTOM){var i=this.getScaleHeight(t)*(1-t.anchorY);e=this.viewStartPoint.y-i}else{var o=this.getScaleHeight(t)*t.anchorY;e=this.viewStartPoint.y+o}return e},a.getEndY=function(t){if(!t)return 0;var e=0;if(this.verticalAxisDirection==mt.TOP_TO_BOTTOM){var i=this.getScaleHeight(t)*t.anchorY;e=-this.viewStartPoint.y+i+this.paddingBottom-this.paddingTop}else{var o=this.getScaleHeight(t)*(1-t.anchorY);e=-this.viewStartPoint.y-o-this.paddingTop+this.paddingBottom}return e},a.isAccommodateByTop=function(t){return this.getItemYMax(t)+this.paddingTop<.5*this.accommodHeight},a.isAccommodateByBottom=function(t){return this.getItemYMin(t)-this.paddingBottom>-.5*this.accommodHeight},a.isAccommodateByLeft=function(t){return this.getItemXMin(t)-this.paddingLeft>-.5*this.accommodWidth},a.isAccommodateByRight=function(t){return this.getItemXMax(t)+this.paddingRight<.5*this.accommodWidth},a.getRelativeByLeft=function(t,e){return this.getItemXMin(e)-this.spacingX-this.getScaleWidth(t)*(1-t.anchorX)},a.getRelativeByRight=function(t,e){return this.getItemXMax(e)+this.spacingX+this.getScaleWidth(t)*t.anchorX},a.getRelativeByTop=function(t,e){return this.getItemYMax(e)+this.spacingY+this.getScaleHeight(t)*(1-t.anchorY)},a.getRelativeByBottom=function(t,e){return this.getItemYMin(e)-this.spacingY-this.getScaleHeight(t)*t.anchorY},a.setItemPosition=function(t,e,i){void 0===i&&(i=!1);var o=new g;this.header?o=this.vertical?this.getVerticalRelativePosition(t,e,i):this.getHorizontalRelativePosition(t,e,i):(o.x=this.getStartX(t),o.y=this.getStartY(t)),t.node.setPosition(o)},a.getVerticalRelativePosition=function(t,e,i){var o=new g,r=!1;return r=this.horizontalAxisDirection==wt.LEFT_TO_RIGHT?i?this.isAccommodateByLeft(e):this.isAccommodateByRight(e):i?this.isAccommodateByRight(e):this.isAccommodateByLeft(e),this.horizontalAxisDirection==wt.LEFT_TO_RIGHT?o.x=i?r?this.getRelativeByLeft(t,e):this.getEndX(t):r?this.getRelativeByRight(t,e):this.getStartX(t):o.x=i?r?this.getRelativeByRight(t,e):this.getEndX(t):r?this.getRelativeByLeft(t,e):this.getStartX(t),this.verticalAxisDirection==mt.TOP_TO_BOTTOM?o.y=i?r?e.node.position.y:this.getRelativeByTop(t,e):r?e.node.position.y:this.getRelativeByBottom(t,e):o.y=i?r?e.node.position.y:this.getRelativeByBottom(t,e):r?e.node.position.y:this.getRelativeByTop(t,e),o},a.getHorizontalRelativePosition=function(t,e,i){var o=new g,r=!1;return r=this.verticalAxisDirection==mt.TOP_TO_BOTTOM?i?this.isAccommodateByTop(e):this.isAccommodateByBottom(e):i?this.isAccommodateByBottom(e):this.isAccommodateByTop(e),this.verticalAxisDirection==mt.TOP_TO_BOTTOM?o.y=i?r?this.getRelativeByTop(t,e):this.getEndY(t):r?this.getRelativeByBottom(t,e):this.getStartY(t):o.y=i?r?this.getRelativeByBottom(t,e):this.getEndY(t):r?this.getRelativeByTop(t,e):this.getStartY(t),this.horizontalAxisDirection==wt.LEFT_TO_RIGHT?o.x=i?r?e.node.position.x:this.getRelativeByLeft(t,e):r?e.node.position.x:this.getRelativeByRight(t,e):o.x=i?r?e.node.position.x:this.getRelativeByRight(t,e):r?e.node.position.x:this.getRelativeByLeft(t,e),o},a.refreshItems=function(t){if(t<0){for(var e=0;e<-t;e++)this.headerLoop||this.footerLoop?this.pushToHeader():this.pushToHeader(!0);for(var i=this.headerIndex>0?this.headerIndex:0,o=0;o<this.node.children.length;o++){var r=this.node.children[o];(this.headerLoop||this.footerLoop)&&i>this.itemTotal-1&&(i=0),r.__index=i,this.notifyRefreshItem(r),i++}this.scrollView.startAutoScroll()}else for(var n=0;n<this.node.children.length;n++)this.vertical?this.verticalAxisDirection==mt.TOP_TO_BOTTOM?this.pushToFooter():this.pushToHeader():this.horizontalAxisDirection==wt.LEFT_TO_RIGHT?this.pushToFooter():this.pushToHeader()},a.createItems=function(){var t=h(regeneratorRuntime.mark((function t(e){var i,o,r=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null===(i=this.gener)||void 0===i||i.return(""),!(this.node.children.length>e)){t.next=4;break}return this.removeItems(e),t.abrupt("return",!1);case 4:if(!(this._maxPrefabTotal>0&&this._maxPrefabTotal==this.node.children.length)){t.next=6;break}return t.abrupt("return",!1);case 6:return o=e-this.node.children.length,this.gener=this.getGeneratorLength(o,(function(){var t=_(r.prefab);t.__index=r.node.children.length;var e,i,o=t._uiProps.uiTransformComp;return r.setAndSaveSizeAndScale(o),r.setItemPosition(t._uiProps.uiTransformComp,r.footer),r.node.addChild(t),r.notifyRefreshItem(t),t.on(p.EventType.SIZE_CHANGED,r.onChildSize,r),t.on(p.EventType.TRANSFORM_CHANGED,r.onChildScale,r),r.vertical?(e=r.contentSize.height,i=r.view.height):(e=r.contentSize.width,i=r.view.width),!(e>=i*r.multiple)||(r._maxPrefabTotal=r.node.children.length,!1)})),t.next=10,this.exeGenerator(this.gener,20);case 10:return t.abrupt("return",!0);case 11:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),a.removeItems=function(t){for(var e=this.node.children.length-t,i=0;i<e;i++){var o=this.node.children[this.node.children.length-1];o.off(p.EventType.SIZE_CHANGED,this.onChildSize,this),o.off(p.EventType.TRANSFORM_CHANGED,this.onChildScale,this),o.destroy(),this.node.removeChild(o)}},a.addEventListener=function(){this.node.on(y.TRANSFORM_CHANGED,this.onPositionChanged,this)},a.removeEventListener=function(){this.node.off(y.TRANSFORM_CHANGED,this.onPositionChanged,this)},a.onChildScale=function(t){if(!this.isRestart&&this.affectedByScale&&t==p.TransformBit.SCALE){for(var e=0;e<this.node.children.length;e++){var i=this.node.children[e],o=i.__scale;if(1==this.groupItemTotal){if(this.vertical){if(i.scale.x!=o.x)return console.warn("不允许修改Item缩放X"),void i.setScale(new g(o.x,i.scale.y))}else if(i.scale.y!=o.y)return console.warn("不允许修改Item缩放Y"),void i.setScale(new g(i.scale.y,o.y))}else if(this.groupItemTotal>1&&!i.scale.equals(o))return console.warn("Grid模式不允许修改Item缩放"),void i.setScale(o)}if(this.groupItemTotal>1)return;this.resetChilds()}},a.onChildSize=function(){if(!this.isRestart){for(var t=0;t<this.node.children.length;t++){var e=this.node.children[t],i=e.__size,o=e._uiProps.uiTransformComp;if(1==this.groupItemTotal){if(this.vertical){if((null==o?void 0:o.width)!=i.width)return console.warn("不允许修改Item宽度"),void o.setContentSize(m(i.width,o.height))}else if((null==o?void 0:o.height)!=i.height)return console.warn("不允许修改Item高度"),void o.setContentSize(m(o.width,i.height))}else if(this.groupItemTotal>1&&!o.contentSize.equals(i))return console.warn("Grid模式不允许修改Item尺寸"),void o.setContentSize(i)}this.groupItemTotal>1||this.resetChilds()}},a.resetChilds=function(t){void 0===t&&(t=!1);var e=this.header;if(this.vertical&&this.fixedItemHeight<=this.view.height||!this.vertical&&this.fixedItemWidth<=this.view.width){var i,o=this.getStartX(this.header),r=this.getStartY(this.header);null===(i=this.header)||void 0===i||i.node.setPosition(new g(o,r))}if(t)if(this.vertical){var n,s=this.getStartX(this.header);null===(n=this.header)||void 0===n||n.node.setPosition(new g(s,this.header.node.position.y))}else{var h,a=this.getStartY(this.header);null===(h=this.header)||void 0===h||h.node.setPosition(new g(this.header.node.position.x,a))}for(var d=1;d<this.node.children.length;d++){var l=this.node.children[d]._uiProps.uiTransformComp,c=e||this.header;this.setItemPosition(l,c),e=l}this.scrollView.startAutoScroll()},a.getUsedScaleValue=function(t){return this.affectedByScale?Math.abs(t):1},a.getScaleWidth=function(t){return t?t.width*this.getUsedScaleValue(t.node.scale.x):0},a.getScaleHeight=function(t){return t?t.height*this.getUsedScaleValue(t.node.scale.y):0},a.onPositionChanged=function(){if(!this.isRestart){if(this.vertical?this.scrollView.prevLocation.y<this.scrollView.location.y?this.scrollDirection=xt.FOOTER:this.scrollView.prevLocation.y>this.scrollView.location.y?this.scrollDirection=xt.HEADER:this.scrollDirection=xt.NONE:this.scrollView.prevLocation.x>this.scrollView.location.x?this.scrollDirection=xt.FOOTER:this.scrollView.prevLocation.x<this.scrollView.location.x?this.scrollDirection=xt.HEADER:this.scrollDirection=xt.NONE,this.vertical)for(var t=0;t<this.node.children.length;t++){Math.abs(this.prevPos.y-this.node.position.y)>It&&(this.prevPos.y<this.node.position.y?this.pushToFooter():this.prevPos.y>this.node.position.y&&this.pushToHeader())}else for(var e=0;e<this.node.children.length;e++){Math.abs(this.prevPos.x-this.node.position.x)>It&&(this.prevPos.x>this.node.position.x?this.pushToFooter():this.prevPos.x<this.node.position.x&&this.pushToHeader())}this.prevPos=this.node.position.clone()}},a.pushToFooter=function(t){var e,i,o,r;(void 0===t&&(t=!1),this.vertical)?this.verticalAxisDirection==mt.TOP_TO_BOTTOM?(t||this.headerBoundary-this.paddingTop>this.viewHeaderBoundary+(null===(e=this.header)||void 0===e?void 0:e.height))&&this.pushToFooterHandler():(t||this.footerBoundary-this.paddingTop>this.viewHeaderBoundary+(null===(i=this.header)||void 0===i?void 0:i.height))&&this.pushToHeaderHandler():this.horizontalAxisDirection==wt.LEFT_TO_RIGHT?(t||this.headerBoundary+this.paddingLeft<this.viewHeaderBoundary-(null===(o=this.header)||void 0===o?void 0:o.width))&&this.pushToFooterHandler():(t||this.footerBoundary+this.paddingLeft<this.viewHeaderBoundary-(null===(r=this.header)||void 0===r?void 0:r.width))&&this.pushToHeaderHandler()},a.pushToHeader=function(t){var e,i,o,r;(void 0===t&&(t=!1),this.vertical)?this.verticalAxisDirection==mt.TOP_TO_BOTTOM?(t||this.footerBoundary+this.paddingBottom<this.viewFooterBoundary-(null===(e=this.footer)||void 0===e?void 0:e.height))&&this.pushToHeaderHandler():(t||this.headerBoundary+this.paddingBottom<this.viewFooterBoundary-(null===(i=this.footer)||void 0===i?void 0:i.height))&&this.pushToFooterHandler():this.horizontalAxisDirection==wt.LEFT_TO_RIGHT?(t||this.footerBoundary-this.paddingRight>this.viewFooterBoundary+(null===(o=this.footer)||void 0===o?void 0:o.width))&&this.pushToHeaderHandler():(t||this.headerBoundary-this.paddingRight>this.viewFooterBoundary+(null===(r=this.footer)||void 0===r?void 0:r.width))&&this.pushToFooterHandler()},a.pushToFooterHandler=function(){var t,e,i=null===(t=this.header)||void 0===t?void 0:t.node;if(this.footerLoop)this.footerIndex>=this.itemTotal-1?i.__index=0:i.__index=this.footerIndex+1;else{if(!this.footer||this.footerIndex>=this.itemTotal-1)return;i.__index=this.footerIndex+1}this.notifyRefreshItem(i),this.setItemPosition(this.header,this.footer),null===(e=this.header)||void 0===e||e.node.setSiblingIndex(this.node.children.length)},a.pushToHeaderHandler=function(){var t,e,i=null===(t=this.footer)||void 0===t?void 0:t.node;if(this.headerLoop)0==this.headerIndex?i.__index=this.itemTotal-1:i.__index=this.headerIndex-1;else{if(!this.header||0==this.headerIndex)return;i.__index=this.headerIndex-1}(this.notifyRefreshItem(i),this.setItemPosition(this.footer,this.header,!0),null===(e=this.footer)||void 0===e||e.node.setSiblingIndex(0),this.headerLoop||0!=this.headerIndex)||this.isAccommodateByLeft(this.header)&&this.resetChilds(!0)},a.notifyRefreshItem=function(t){f.emitEvents(this.refreshItemEvents,t,t.__index)},a.getGeneratorLength=regeneratorRuntime.mark((function t(e,i){var o,r,n,s,h=arguments;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(o=h.length,r=new Array(o>2?o-2:0),n=2;n<o;n++)r[n-2]=h[n];s=0;case 2:if(!(s<e)){t.next=13;break}if(!i.apply(void 0,[s].concat(r))){t.next=9;break}return void(t.next=7);case 7:t.next=10;break;case 9:return t.abrupt("return");case 10:s++,t.next=2;break;case 13:case"end":return t.stop()}}),t)})),a.exeGenerator=function(t,e){return new Promise((function(i,o){var r=t;!function t(){for(var o=(new Date).getTime(),n=r.next();;n=r.next()){if(null==n||n.done)return void i(null);if((new Date).getTime()-o>e)return void setTimeout((function(){return t()}),x.getDeltaTime())}}()}))},s(e,[{key:"vertical",get:function(){return this.layoutType==yt.VERTICAL}},{key:"horizontal",get:function(){return this.layoutType==yt.HORIZONTAL}},{key:"transform",get:function(){return this.node._uiProps.uiTransformComp}},{key:"accommodWidth",get:function(){return this.view.width-this.paddingLeft-this.paddingRight}},{key:"accommodHeight",get:function(){return this.view.height-this.paddingTop-this.paddingBottom}},{key:"header",get:function(){return 0==this.node.children.length?null:this.node.children[0]._uiProps.uiTransformComp}},{key:"footer",get:function(){return 0==this.node.children.length?null:this.node.children[this.node.children.length-1]._uiProps.uiTransformComp}},{key:"headerIndex",get:function(){return this.header?this.header.node.__index:-1}},{key:"footerIndex",get:function(){return this.footer?this.footer.node.__index:-1}},{key:"viewStartPoint",get:function(){var t=new g;return this.horizontalAxisDirection==wt.LEFT_TO_RIGHT?t.x=-.5*this.view.width+this.paddingLeft:t.x=.5*this.view.width-this.paddingRight,this.verticalAxisDirection==mt.TOP_TO_BOTTOM?t.y=.5*this.view.height-this.paddingTop:t.y=-.5*this.view.height+this.paddingBottom,t}},{key:"viewHeaderBoundary",get:function(){return this.vertical?.5*this.view.height:-.5*this.view.width}},{key:"viewFooterBoundary",get:function(){return this.vertical?-.5*this.view.height:.5*this.view.width}},{key:"headerBoundary",get:function(){return this.header?this.vertical?this.verticalAxisDirection==mt.TOP_TO_BOTTOM?this.node.position.y+this.getItemYMax(this.header)+this.paddingTop:this.node.position.y+this.getItemYMin(this.header)-this.paddingBottom:this.horizontalAxisDirection==wt.LEFT_TO_RIGHT?this.node.position.x+this.getItemXMin(this.header)-this.paddingLeft:this.node.position.x+this.getItemXMax(this.header)+this.paddingRight:0}},{key:"footerBoundary",get:function(){return this.footer?this.vertical?this.verticalAxisDirection==mt.TOP_TO_BOTTOM?this.node.position.y+this.getItemYMin(this.footer)-this.paddingBottom:this.node.position.y+this.getItemYMax(this.footer)+this.paddingTop:this.horizontalAxisDirection==wt.LEFT_TO_RIGHT?this.node.position.x+this.getItemXMax(this.footer)+this.paddingRight:this.node.position.x+this.getItemXMin(this.footer)-this.paddingLeft:0}},{key:"centerHeaderBoundary",get:function(){var t=this.vertical?"y":"x";return this.centerNode?this.vertical?this.verticalAxisDirection==mt.TOP_TO_BOTTOM?this.headerBoundary+(this.viewHeaderBoundary-this.centerNode.position[t]):this.footerBoundary+(this.viewHeaderBoundary-this.centerNode.position[t]):this.horizontalAxisDirection==wt.LEFT_TO_RIGHT?this.headerBoundary+(this.viewHeaderBoundary-this.centerNode.position[t]):this.footerBoundary+(this.viewHeaderBoundary-this.centerNode.position[t]):this.horizontalAxisDirection==wt.LEFT_TO_RIGHT?this.headerBoundary+(this.viewHeaderBoundary-this.view.node.position[t]):this.footerBoundary+(this.viewHeaderBoundary-this.view.node.position[t])}},{key:"centerFooterBoundary",get:function(){var t=this.vertical?"y":"x";return this.centerNode?this.vertical?this.verticalAxisDirection==mt.TOP_TO_BOTTOM?this.footerBoundary+(this.viewFooterBoundary-this.centerNode.position[t]):this.headerBoundary+(this.viewFooterBoundary-this.centerNode.position[t]):this.horizontalAxisDirection==wt.LEFT_TO_RIGHT?this.footerBoundary+(this.viewFooterBoundary-this.centerNode.position[t]):this.headerBoundary+(this.viewFooterBoundary-this.centerNode.position[t]):this.vertical?this.verticalAxisDirection==mt.TOP_TO_BOTTOM?this.footerBoundary+(this.viewFooterBoundary-this.view.node.position[t]):this.headerBoundary+(this.viewFooterBoundary-this.view.node.position[t]):this.horizontalAxisDirection==wt.LEFT_TO_RIGHT?this.footerBoundary+(this.viewFooterBoundary-this.view.node.position[t]):this.headerBoundary+(this.viewFooterBoundary-this.view.node.position[t])}},{key:"isOfLeftBoundary",get:function(){if(this.vertical)return 0;if(this.autoCenter)return this.scrollDirection==xt.HEADER?this.centerHeaderBoundary:0;if(this.headerLoop)return this.header?0:this.viewHeaderBoundary+this.node.position.x;if(!this.header||this.fixedItemWidth<=this.view.width)return this.viewHeaderBoundary+this.node.position.x;if(this.horizontalAxisDirection==wt.LEFT_TO_RIGHT){if(0==this.headerIndex)return this.headerBoundary}else if(this.footerIndex==this.itemTotal-1)return this.footerBoundary;return 0}},{key:"isOfTopBoundary",get:function(){if(!this.vertical)return 0;if(this.autoCenter)return this.scrollDirection==xt.HEADER?this.centerHeaderBoundary:0;if(this.headerLoop)return this.header?0:this.viewHeaderBoundary+this.node.position.y;if(!this.header||this.fixedItemHeight<=this.view.height)return this.viewHeaderBoundary+this.node.position.y;if(this.verticalAxisDirection==mt.TOP_TO_BOTTOM){if(0==this.headerIndex)return this.headerBoundary}else if(this.footerIndex==this.itemTotal-1)return this.footerBoundary;return 0}},{key:"isOfRightBoundary",get:function(){if(this.vertical)return 0;if(this.autoCenter)return this.scrollDirection==xt.FOOTER?this.centerFooterBoundary:0;if(this.footerLoop)return this.footer?0:this.viewFooterBoundary+this.node.position.x;if(!this.footer||this.fixedItemWidth<=this.view.width)return this.viewFooterBoundary+this.node.position.x;if(this.horizontalAxisDirection==wt.LEFT_TO_RIGHT){if(this.footerIndex==this.itemTotal-1)return this.footerBoundary}else if(0==this.headerIndex)return this.headerBoundary;return 0}},{key:"isOfButtomBoundary",get:function(){if(!this.vertical)return 0;if(this.autoCenter)return this.scrollDirection==xt.FOOTER?this.centerFooterBoundary:0;if(this.footerLoop)return this.footer?0:this.viewFooterBoundary+this.node.position.y;if(!this.footer||this.fixedItemHeight<=this.view.height)return this.viewFooterBoundary+this.node.position.y;if(this.verticalAxisDirection==mt.TOP_TO_BOTTOM){if(this.footerIndex==this.itemTotal-1)return this.footerBoundary}else if(0==this.headerIndex)return this.headerBoundary;return 0}},{key:"fixedItemHeight",get:function(){return this.header?this.verticalAxisDirection==mt.TOP_TO_BOTTOM?Math.abs(this.getItemYMax(this.header))+Math.abs(this.getItemYMin(this.footer)):Math.abs(this.getItemYMin(this.header))+Math.abs(this.getItemYMax(this.footer)):0}},{key:"fixedItemWidth",get:function(){return this.header?this.horizontalAxisDirection==wt.LEFT_TO_RIGHT?Math.abs(this.getItemXMin(this.header))+Math.abs(this.getItemXMax(this.footer)):Math.abs(this.getItemXMax(this.header))+Math.abs(this.getItemXMin(this.footer)):0}},{key:"contentSize",get:function(){if(0==this.node.children.length)return this.view.contentSize;var t=new T(this.view.contentSize.width,this.view.contentSize.height);return this.vertical?this.verticalAxisDirection==mt.TOP_TO_BOTTOM?t.height=this.headerBoundary+-this.footerBoundary:t.height=this.footerBoundary+-this.headerBoundary:this.horizontalAxisDirection==wt.LEFT_TO_RIGHT?t.width=this.footerBoundary+-this.headerBoundary:t.width=this.headerBoundary+-this.footerBoundary,t.width<this.view.contentSize.width&&(t.width=this.view.contentSize.width),t.height<this.view.contentSize.height&&(t.height=this.view.contentSize.height),t}},{key:"maxPrefabTotal",get:function(){return this._maxPrefabTotal}},{key:"itemTotal",get:function(){return this._itemTotal}},{key:"centerPosition",get:function(){if(!this._centerPosition)if(this._centerPosition=new g,this.autoCenter){if(this.centerNode){var t,e,i=null===(t=this.centerNode.parent)||void 0===t||null===(e=t._uiProps.uiTransformComp)||void 0===e?void 0:e.convertToWorldSpaceAR(this.centerNode.position);this._centerPosition=this.view.convertToNodeSpaceAR(i)}}else this.vertical?this.verticalAxisDirection==mt.TOP_TO_BOTTOM?this._centerPosition.y=this.viewHeaderBoundary:this._centerPosition.y=this.viewFooterBoundary:this.horizontalAxisDirection==wt.LEFT_TO_RIGHT?this._centerPosition.x=this.viewHeaderBoundary:this._centerPosition.x=this.viewFooterBoundary;return this._centerPosition}}]),e}(w)).prototype,"scrollView",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),K=e(q.prototype,"view",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Q=e(q.prototype,"layoutType",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return yt.VERTICAL}}),$=e(q.prototype,"verticalAxisDirection",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return mt.TOP_TO_BOTTOM}}),tt=e(q.prototype,"horizontalAxisDirection",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return wt.LEFT_TO_RIGHT}}),et=e(q.prototype,"groupItemTotal",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),it=e(q.prototype,"multiple",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 2}}),ot=e(q.prototype,"paddingTop",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),rt=e(q.prototype,"paddingBottom",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),nt=e(q.prototype,"paddingLeft",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),st=e(q.prototype,"paddingRight",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),ht=e(q.prototype,"spacingX",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),at=e(q.prototype,"spacingY",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),dt=e(q.prototype,"affectedByScale",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),lt=e(q.prototype,"headerLoop",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ct=e(q.prototype,"footerLoop",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ut=e(q.prototype,"prefab",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ft=e(q.prototype,"refreshItemEvents",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),pt=e(q.prototype,"autoCenter",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),vt=e(q.prototype,"centerTime",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),gt=e(q.prototype,"centerNode",[Z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Tt=e(q.prototype,"centerAnchor",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new v(.5,.5)}}),U=q))||U)||U));a._RF.pop()}}}));

System.register("chunks:///_virtual/auto-center.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./simple.ts"],(function(t){"use strict";var e,r,n,i,o,l,a,c;return{setters:[function(t){e=t.applyDecoratedDescriptor,r=t.inheritsLoose,n=t.initializerDefineProperty,i=t.assertThisInitialized},function(t){o=t.cclegacy,l=t._decorator,a=t.Label},function(t){c=t.Simple}],execute:function(){var s,u,h,p,y,f;o._RF.push({},"4c92cs7z69H1oh1nqJfFooW","auto-center",void 0);var b=l.ccclass,g=l.property;t("AutoCenter",(s=b("AutoCenter"),u=g(a),s((y=e((p=function(t){function e(){for(var e,r=arguments.length,o=new Array(r),l=0;l<r;l++)o[l]=arguments[l];return e=t.call.apply(t,[this].concat(o))||this,n(i(e),"label",y,i(e)),n(i(e),"key",f,i(e)),e}r(e,t);var o=e.prototype;return o.start=function(){this.label.string="当前中心锚点："+this.layout.centerAnchor[this.key],this.layout.scrollToCenter()},o.onInputAnchor=function(t){var e=Number(t.string);isNaN(e)||(this.layout.centerAnchor[this.key]=e,this.layout.scrollToCenter(),this.label.string="当前中心锚点："+this.layout.centerAnchor[this.key])},e}(c)).prototype,"label",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f=e(p.prototype,"key",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),h=p))||h));o._RF.pop()}}}));

System.register("chunks:///_virtual/simple.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./baseMain.ts"],(function(t){"use strict";var s,e,i,n;return{setters:[function(t){s=t.inheritsLoose},function(t){e=t.cclegacy,i=t._decorator},function(t){n=t.BaseMain}],execute:function(){var o;e._RF.push({},"5f170uFuGRCJZCiHTMaOxhs","simple",void 0);var r=i.ccclass;i.property,t("Simple",r("Simple")(o=function(t){function e(){return t.apply(this,arguments)||this}return s(e,t),e.prototype.onLoad=function(){for(var t=0;t<50;t++)this.datas.push({message:t});this.layout.total(this.datas.length)},e}(n))||o);e._RF.pop()}}}));

System.register("chunks:///_virtual/super-scrollview.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./super-layout.ts"],(function(t){"use strict";var e,o,s,i,r,a,n,h,l,u,c,f,d;return{setters:[function(t){e=t.applyDecoratedDescriptor,o=t.inheritsLoose,s=t.initializerDefineProperty,i=t.assertThisInitialized,r=t.defineProperty,a=t.createClass},function(t){n=t.cclegacy,h=t._decorator,l=t.EventHandler,u=t.Vec2,c=t.ScrollView,f=t.Vec3},function(t){d=t.SuperLayout}],execute:function(){var p,v,g,y,_,O,S,m,E,L,B,P,b,k,M,F;n._RF.push({},"72cf528Z4dK+ofNYmM2Xf22","super-scrollview",void 0);var H=h.ccclass,T=h.property,R=1e-4;t("SuperScrollview",(p=H("SuperScrollview"),v=T({displayName:"顶部偏移量",tooltip:"下拉时超过此偏移会发送下拉事件",visible:function(){return this.pullRefresh}}),g=T({displayName:"满足触发Header的倍数",visible:function(){return this.pullRefresh}}),y=T({displayName:"底部偏移量",tooltip:"上拉时超过此偏移会发送上拉事件",visible:function(){return this.pullRefresh}}),_=T({displayName:"满足触发Footer的倍数",visible:function(){return this.pullRefresh}}),O=T({type:l,visible:function(){return this.pullRefresh}}),S=T({type:l,visible:function(){return this.pullRefresh}}),p((L=e((E=function(t){function e(){for(var e,o=arguments.length,a=new Array(o),n=0;n<o;n++)a[n]=arguments[n];return e=t.call.apply(t,[this].concat(a))||this,s(i(e),"pullRefresh",L,i(e)),s(i(e),"headerOutOffset",B,i(e)),s(i(e),"headerMultiple",P,i(e)),s(i(e),"footerOutOffset",b,i(e)),s(i(e),"footerMultiple",k,i(e)),s(i(e),"headerEvents",M,i(e)),s(i(e),"footerEvents",F,i(e)),r(i(e),"prevLocation",new u),r(i(e),"location",new u),r(i(e),"isCallSoonFinish",!1),r(i(e),"isMoveHeader",!1),r(i(e),"isMoveFooter",!1),r(i(e),"isLockHeader",!1),r(i(e),"isLockFooter",!1),r(i(e),"headerProgress",0),r(i(e),"footerProgress",0),e}o(e,t);var n=e.prototype;return n.onLoad=function(){this.layout.autoCenter&&(this.brake=.7)},n._getContentTopBoundary=function(){return this._content?0==this.layout.isOfTopBoundary?this._topBoundary:this.layout.isOfTopBoundary:-1},n._getContentBottomBoundary=function(){return this._content?0==this.layout.isOfButtomBoundary?this._bottomBoundary:this.layout.isOfButtomBoundary:-1},n._getContentLeftBoundary=function(){return this._content?0==this.layout.isOfLeftBoundary?this._leftBoundary:this.layout.isOfLeftBoundary:-1},n._getContentRightBoundary=function(){return this._content?0==this.layout.isOfRightBoundary?this._rightBoundary:this.layout.isOfRightBoundary:-1},n._onTouchBegan=function(e,o){this.isCallSoonFinish=!1,t.prototype._onTouchBegan.call(this,e,o)},n._processAutoScrolling=function(t){var e=this._isNecessaryAutoScrollBrake(),o=e?.015:1;this._autoScrollAccumulatedTime+=t*(1/o);var s,i=Math.min(1,this._autoScrollAccumulatedTime/this._autoScrollTotalTime);this._autoScrollAttenuate&&(s=i,i=(s-=1)*s*s*s*s+1);var r=this._autoScrollTargetDelta.clone();r.multiplyScalar(i);var a=this._autoScrollStartPosition.clone();a.add(r);var n=Math.abs(i-1)<=R;if(Math.abs(i-1)<=this.getScrollEndedEventTiming()&&!this._isScrollEndedWithThresholdEventFired&&(this._dispatchEvent(c.EventType.SCROLL_ENG_WITH_THRESHOLD),this._isScrollEndedWithThresholdEventFired=!0),this.elastic){var h=a.clone();h.subtract(this._autoScrollBrakingStartPosition),e&&h.multiplyScalar(o),a.set(this._autoScrollBrakingStartPosition),a.add(h)}else{var l=a.clone();l.subtract(this.getContentPosition());var u=this._getHowMuchOutOfBoundary(l);u.equals(f.ZERO,R)||(a.add(u),n=!0)}n&&(this._autoScrolling=!1);var d=a.clone();d.subtract(this.getContentPosition()),this._clampDelta(d),(this.layout.vertical&&Math.abs(d.y)<=2&&!this.isCallSoonFinish||!this.layout.vertical&&Math.abs(d.x)<=2&&!this.isCallSoonFinish)&&(this.layout.soonFinish(),this.isCallSoonFinish=!0),this._moveContent(d,n),this._dispatchEvent(c.EventType.SCROLLING),this._autoScrolling||(this._isBouncing=!1,this._scrolling=!1,this._dispatchEvent(c.EventType.SCROLL_ENDED))},n.scrollToAny=function(t,e,o){void 0===o&&(o=!0),e?this._startAutoScroll(t,e,!1!==o):this._moveContent(t)},n.release=function(){this.isMoveHeader=!1,this.isMoveFooter=!1,(this.isLockHeader||this.isLockFooter)&&(this.vertical&&this.isLockHeader&&(this._topBoundary+=this.headerOutOffset),this.vertical&&this.isLockFooter&&(this._bottomBoundary-=this.footerOutOffset),this.horizontal&&this.isLockHeader&&(this._leftBoundary-=this.headerOutOffset),this.horizontal&&this.isLockFooter&&(this._rightBoundary+=this.footerOutOffset),this.clearProgress(),this.layout.onPositionChanged(),this.isLockHeader=!1,this.isLockFooter=!1,this.startAutoScroll())},n.startAutoScroll=function(){this._autoScrolling=!0,this._outOfBoundaryAmountDirty=!0},n._onTouchMoved=function(e,o){var s,i;if(this.prevLocation=null===(s=e.touch)||void 0===s?void 0:s.getPreviousLocation(),this.location=null===(i=e.touch)||void 0===i?void 0:i.getLocation(),t.prototype._onTouchMoved.call(this,e,o),this.pullRefresh){var r=this._getHowMuchOutOfBoundary(),a=this.vertical?r.y:-r.x;a>0&&!this.isLockHeader&&!this.isLockFooter?(this.headerProgress=a<R?0:a/this.headerOutOffset,this.isMoveHeader=this.headerProgress>=this.headerMultiple,l.emitEvents(this.headerEvents,this,{action:!1,progress:this.headerProgress,stage:this.isMoveHeader?"wait":"touch"}),l.emitEvents(this.footerEvents,this,{action:!1,progress:0,stage:"release"})):a<0&&!this.isLockHeader&&!this.isLockFooter?(this.footerProgress=-a<R?0:-a/this.footerOutOffset,this.isMoveFooter=this.footerProgress>=this.footerMultiple,l.emitEvents(this.footerEvents,this,{action:!1,progress:this.footerProgress,stage:this.isMoveFooter?"wait":"touch"}),l.emitEvents(this.headerEvents,this,{action:!1,progress:0,stage:"release"})):0!=a||this.isLockHeader||this.isLockFooter||this.clearProgress()}},n._startAutoScroll=function(e,o,s){this.pullRefresh&&(this.isMoveHeader&&!this.isLockHeader?(this.vertical&&(this._topBoundary-=this.headerOutOffset,e.y-=this.headerOutOffset),this.horizontal&&(this._leftBoundary+=this.headerOutOffset,e.x+=this.headerOutOffset),this.isLockHeader=!0,l.emitEvents(this.headerEvents,this,{action:!0,progress:this.headerProgress,stage:"lock"})):this.isMoveFooter&&!this.isLockFooter&&(this.vertical&&(this._bottomBoundary+=this.footerOutOffset,e.y+=this.footerOutOffset),this.horizontal&&(this._rightBoundary-=this.footerOutOffset,e.x-=this.footerOutOffset),this.isLockFooter=!0,l.emitEvents(this.footerEvents,this,{action:!0,progress:this.footerProgress,stage:"lock"}))),t.prototype._startAutoScroll.call(this,e,o,s)},n._updateScrollBar=function(e){if(t.prototype._updateScrollBar.call(this,new u(e.x,e.y)),!this._autoScrollBraking&&this._autoScrolling&&this.pullRefresh){var o=this.vertical?e.y:-e.x;if(o>0){var s=o<R?0:o/this.headerOutOffset;this.isLockHeader?(this.headerProgress=1==this.headerProgress?this.headerProgress:Math.max(s,1),l.emitEvents(this.headerEvents,this,{action:!1,progress:this.headerProgress,stage:"lock"})):(this.headerProgress=s<this.headerProgress?s:this.headerProgress,l.emitEvents(this.headerEvents,this,{action:!1,progress:this.headerProgress,stage:"release"}))}else if(o<0){var i=-o<R?0:-o/this.footerOutOffset;this.isLockFooter?(this.footerProgress=1==this.footerProgress?this.footerProgress:Math.max(i,1),l.emitEvents(this.footerEvents,this,{action:!1,progress:this.footerProgress,stage:"lock"})):(this.footerProgress=i<this.footerProgress?i:this.footerProgress,l.emitEvents(this.footerEvents,this,{action:!1,progress:this.footerProgress,stage:"release"}))}else 0==o&&(this.isLockHeader||this.isLockFooter||this.clearProgress())}},n.clearProgress=function(){l.emitEvents(this.headerEvents,this,{action:!1,progress:0,stage:"release"}),l.emitEvents(this.footerEvents,this,{action:!1,progress:0,stage:"release"})},a(e,[{key:"layout",get:function(){var t;this._layout||(this._layout=null===(t=this.content)||void 0===t?void 0:t.getComponent(d));return this._layout}},{key:"autoScrolling",set:function(t){this._autoScrolling=t}}]),e}(c)).prototype,"pullRefresh",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),B=e(E.prototype,"headerOutOffset",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 200}}),P=e(E.prototype,"headerMultiple",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 2}}),b=e(E.prototype,"footerOutOffset",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 200}}),k=e(E.prototype,"footerMultiple",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 2}}),M=e(E.prototype,"headerEvents",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),F=e(E.prototype,"footerEvents",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),m=E))||m));n._RF.pop()}}}));

System.register("chunks:///_virtual/baseItem.ts",["./_rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var t,i,n,r,o,l,a,s,c,u;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,r=e.assertThisInitialized,o=e.createClass},function(e){l=e.cclegacy,a=e._decorator,s=e.Label,c=e.EditBox,u=e.Component}],execute:function(){var p,f,h,m,b,y,d;l._RF.push({},"747fcCLlqVGuLwfCV1CjmZm","baseItem",void 0);var g=a.ccclass,v=a.property;e("BaseItem",(p=g("BaseItem"),f=v(s),h=v(c),p((y=t((b=function(e){function t(){for(var t,i=arguments.length,o=new Array(i),l=0;l<i;l++)o[l]=arguments[l];return t=e.call.apply(e,[this].concat(o))||this,n(r(t),"label",y,r(t)),n(r(t),"input",d,r(t)),t}i(t,e);var l=t.prototype;return l.show=function(e,t,i){this.index=t,this.label.string=e.message,this.clickFunc=i},l.onClick=function(){var e;null===(e=this.clickFunc)||void 0===e||e.call(this,this.index)},l.onInput=function(){},o(t,[{key:"transform",get:function(){return this.node._uiProps.uiTransformComp}}]),t}(u)).prototype,"label",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=t(b.prototype,"input",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=b))||m));l._RF.pop()}}}));

System.register("chunks:///_virtual/refresh-load.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./baseMain.ts"],(function(e){"use strict";var t,r,s,a,n,i,o,h,l,c,g;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,s=e.initializerDefineProperty,a=e.assertThisInitialized},function(e){n=e.cclegacy,i=e._decorator,o=e.Node,h=e.Vec3,l=e.Tween,c=e.Label},function(e){g=e.BaseMain}],execute:function(){var u,d,f,p,w,y,v;n._RF.push({},"89a5cQ/qBdEaLFyit/snMpv","refresh-load",void 0);var T=i.ccclass,b=i.property;e("RefreshLoad",(u=T("RefreshLoad"),d=b(o),f=b(o),u((y=t((w=function(e){function t(){for(var t,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return t=e.call.apply(e,[this].concat(n))||this,s(a(t),"header",y,a(t)),s(a(t),"footer",v,a(t)),t}r(t,e);var n=t.prototype;return n.onLoad=function(){this.header.setScale(new h(1,0,1)),this.footer.setScale(new h(1,0,1))},n.onHeader=function(e,t){var r,s=this;t.progress>2?this.header.playing||(this.headerTween=new l(this.header),this.headerTween.to(.518,{scale:new h(1,1,1)},{easing:"elasticOut"}),this.headerTween.start(),this.header.playing=!0):(null===(r=this.headerTween)||void 0===r||r.stop(),this.header.playing=!1,this.header.setScale(new h(1,t.progress,1)));var a=this.header.getComponentInChildren(c);"touch"==t.stage&&(a.string="↓ 继续下拉"),"wait"==t.stage&&(a.string="↑ 松开刷新"),"lock"==t.stage&&(a.string=0==this.datas.length?"没有数据":"刷新中..."),"release"==t.stage&&(a.string=""),t.action&&this.scheduleOnce((function(){return s.layout.total(s.datas.length)}),1)},n.onFooter=function(e,t){var r,s=this;t.progress>2?this.footer.playing||(this.footerTween=new l(this.footer),this.footerTween.to(.518,{scale:new h(1,1,1)},{easing:"elasticOut"}),this.footerTween.start(),this.footer.playing=!0):(null===(r=this.footerTween)||void 0===r||r.stop(),this.footer.playing=!1,this.footer.setScale(new h(1,t.progress,1)));var a=this.footer.getComponentInChildren(c);if("touch"==t.stage&&(a.string="↑ 继续上拉"),"wait"==t.stage&&(a.string="↓ 松开加载"),"lock"==t.stage&&(a.string="加载中..."),"release"==t.stage&&(a.string=""),t.action){for(var n=0;n<6;n++)this.datas.push({message:""+this.datas.length});this.scheduleOnce((function(){return s.layout.total(s.datas.length)}),1)}},t}(g)).prototype,"header",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=t(w.prototype,"footer",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),p=w))||p));n._RF.pop()}}}));

System.register("chunks:///_virtual/main.ts",["./_rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var t,n,o,r,c;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy,o=e._decorator,r=e.director,c=e.Component}],execute:function(){var i;n._RF.push({},"9ec2bpqxFdFOqRWYeCN/J5Q","main",void 0);var s=o.ccclass;o.property,e("Main",s("Main")(i=function(e){function n(){return e.apply(this,arguments)||this}return t(n,e),n.prototype.toScene=function(e,t){r.loadScene(t)},n}(c))||i);n._RF.pop()}}}));

System.register("chunks:///_virtual/horizontal.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./baseItem.ts"],(function(t){"use strict";var n,i,o,r,e;return{setters:[function(t){n=t.inheritsLoose},function(t){i=t.cclegacy,o=t._decorator,r=t.Size},function(t){e=t.BaseItem}],execute:function(){var s;i._RF.push({},"a3055FDRN9Nd4hD6P55dVQN","horizontal",void 0);var u=o.ccclass;o.property,t("Horizontal",u("Horizontal")(s=function(t){function i(){return t.apply(this,arguments)||this}n(i,t);var o=i.prototype;return o.onLoad=function(){var t;this.input.placeholder=null===(t=this.transform)||void 0===t?void 0:t.width.toString()},o.onInput=function(){var t;isNaN(Number(this.input.string))||null===(t=this.transform)||void 0===t||t.setContentSize(new r(Number(this.input.string),this.transform.contentSize.height))},i}(e))||s);i._RF.pop()}}}));

System.register("chunks:///_virtual/baseMain.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./super-layout.ts","./baseItem.ts"],(function(t){"use strict";var e,i,o,n,a,r,s,l,u,c,p,h;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,o=t.initializerDefineProperty,n=t.assertThisInitialized,a=t.defineProperty},function(t){r=t.cclegacy,s=t._decorator,l=t.EditBox,u=t.director,c=t.Component},function(t){p=t.SuperLayout},function(t){h=t.BaseItem}],execute:function(){var d,f,y,m,b,g,v;r._RF.push({},"d886eg3cJtKoJOzO4sEJHBZ","baseMain",void 0);var I=s.ccclass,B=s.property;t("BaseMain",(d=I("BaseMain"),f=B(p),y=B(l),d((g=e((b=function(t){function e(){for(var e,i=arguments.length,r=new Array(i),s=0;s<i;s++)r[s]=arguments[s];return e=t.call.apply(t,[this].concat(r))||this,o(n(e),"layout",g,n(e)),o(n(e),"input",v,n(e)),a(n(e),"datas",[]),e}i(e,t);var r=e.prototype;return r.toHeader=function(){this.layout.scrollToHeader(1)},r.toFooter=function(){this.layout.scrollToFooter(1)},r.toIndex=function(){var t=Number(this.input.string);isNaN(t)||this.layout.scrollToIndex(t,1)},r.toBack=function(){u.loadScene("main")},r.onRefreshEvent=function(t,e){var i;null===(i=t.getComponent(h))||void 0===i||i.show(this.datas[e],e,this.onClickItem.bind(this))},r.onClickItem=function(t){this.datas.splice(t,1),this.layout.total(this.datas.length)},r.addItem=function(t,e){var i=Number(e);if(!isNaN(i)){for(var o=0;o<i;o++)this.datas.push({message:this.datas.length});this.layout.total(this.datas.length)}},e}(c)).prototype,"layout",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=e(b.prototype,"input",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=b))||m));r._RF.pop()}}}));

System.register("chunks:///_virtual/vertical.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./baseItem.ts"],(function(t){"use strict";var i,n,e,r,o;return{setters:[function(t){i=t.inheritsLoose},function(t){n=t.cclegacy,e=t._decorator,r=t.Size},function(t){o=t.BaseItem}],execute:function(){var s;n._RF.push({},"ea9d1sCNmFIY78k1DtEu0xO","vertical",void 0);var u=e.ccclass;e.property,t("Vertical",u("Vertical")(s=function(t){function n(){return t.apply(this,arguments)||this}i(n,t);var e=n.prototype;return e.onLoad=function(){var t;this.input.placeholder=null===(t=this.transform)||void 0===t?void 0:t.height.toString()},e.onInput=function(){var t;isNaN(Number(this.input.string))||null===(t=this.transform)||void 0===t||t.setContentSize(new r(this.transform.contentSize.width,Number(this.input.string)))},n}(o))||s);n._RF.pop()}}}));

System.register("chunks:///_virtual/main",["./super-scrollview.ts","./super-layout.ts","./baseItem.ts","./baseMain.ts","./simple.ts","./auto-center.ts","./refresh-load.ts","./main.ts","./horizontal.ts","./vertical.ts"],(function(){"use strict";return{setters:[null,null,null,null,null,null,null,null,null,null],execute:function(){}}}));

(function(r) {
  r('virtual:///prerequisite-imports/main', 'chunks:///_virtual/main'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});